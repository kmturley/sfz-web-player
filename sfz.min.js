/*! For license information please see sfz.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Sfz=t():e.Sfz=t()}(this,(()=>(()=>{var __webpack_modules__={3239:(e,t,i)=>{e=i.nmd(e),function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function(e,i,n){"string"==typeof e?(2==arguments.length&&(n=i),t.modules[e]||(t.payloads[e]=n,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var i,n,s=function(e,t,i){if("string"==typeof t){var n=a(e,t);if(null!=n)return i&&i(),n}else if("[object Array]"===Object.prototype.toString.call(t)){for(var s=[],r=0,l=t.length;r<l;++r){var c=a(e,t[r]);if(null==c&&o.original)return;s.push(c)}return i&&i.apply(null,s)||!0}},o=function(e,t){var i=s("",e,t);return null==i&&o.original?o.original.apply(this,arguments):i},r=function(e,t){if(-1!==t.indexOf("!")){var i=t.split("!");return r(e,i[0])+"!"+r(e,i[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&n!=t;){var n=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},a=function(e,i){i=r(e,i);var n=t.modules[i];if(!n){if("function"==typeof(n=t.payloads[i])){var o={},a={id:i,uri:"",exports:o,packaged:!0};o=n((function(e,t){return s(i,e,t)}),o,a)||a.exports,t.modules[i]=o,delete t.payloads[i]}n=t.modules[i]=o||n}return n};n=e,(i="ace")&&(e[i]||(e[i]={}),n=e[i]),n.define&&n.define.packaged||(t.original=n.define,n.define=t,n.define.packaged=!0),n.require&&n.require.packaged||(o.original=n.require,n.require=o,n.require.packaged=!0)}(),ace.define("ace/lib/es6-shim",["require","exports","module"],(function(e,t,i){function n(e,t,i){Object.defineProperty(e,t,{value:i,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||n(String.prototype,"startsWith",(function(e,t){return t=t||0,this.lastIndexOf(e,t)===t})),String.prototype.endsWith||n(String.prototype,"endsWith",(function(e,t){var i=this;(void 0===t||t>i.length)&&(t=i.length),t-=e.length;var n=i.indexOf(e,t);return-1!==n&&n===t})),String.prototype.repeat||n(String.prototype,"repeat",(function(e){for(var t="",i=this;e>0;)1&e&&(t+=i),(e>>=1)&&(i+=i);return t})),String.prototype.includes||n(String.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Object.assign||(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];null!=n&&Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t}),Object.values||(Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}),Array.prototype.find||n(Array.prototype,"find",(function(e){for(var t=this.length,i=arguments[1],n=0;n<t;n++){var s=this[n];if(e.call(i,s,n,this))return s}})),Array.prototype.findIndex||n(Array.prototype,"findIndex",(function(e){for(var t=this.length,i=arguments[1],n=0;n<t;n++){var s=this[n];if(e.call(i,s,n,this))return n}})),Array.prototype.includes||n(Array.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Array.prototype.fill||n(Array.prototype,"fill",(function(e){for(var t=this,i=t.length>>>0,n=arguments[1]>>0,s=n<0?Math.max(i+n,0):Math.min(n,i),o=arguments[2],r=void 0===o?i:o>>0,a=r<0?Math.max(i+r,0):Math.min(r,i);s<a;)t[s]=e,s++;return t})),Array.of||n(Array,"of",(function(){return Array.prototype.slice.call(arguments)}))})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],(function(e,t,i){"use strict";e("./es6-shim")})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,i){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var i="";t>0;)1&t&&(i+=e),(t>>=1)&&(e+=e);return i};var n=/^\s\s*/,s=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(s,"")},t.copyObject=function(e){var t={};for(var i in e)t[i]=e[i];return t},t.copyArray=function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[i]&&"object"==typeof e[i]?t[i]=this.copyObject(e[i]):t[i]=e[i];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var i;if(Array.isArray(t)){i=[];for(var n=0;n<t.length;n++)i[n]=e(t[n]);return i}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var n in i={},t)i[n]=e(t[n]);return i},t.arrayToMap=function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var i in e)t[i]=e[i];return t},t.arrayRemove=function(e,t){for(var i=0;i<=e.length;i++)t===e[i]&&e.splice(i,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var i=[];return e.replace(t,(function(e){i.push({offset:arguments[arguments.length-2],length:e.length})})),i},t.deferredCall=function(e){var t=null,i=function(){t=null,e()},n=function(e){return n.cancel(),t=setTimeout(i,e||0),n};return n.schedule=n,n.call=function(){return this.cancel(),e(),n},n.cancel=function(){return clearTimeout(t),t=null,n},n.isPending=function(){return t},n},t.delayedCall=function(e,t){var i=null,n=function(){i=null,e()},s=function(e){null==i&&(i=setTimeout(n,e||t))};return s.delay=function(e){i&&clearTimeout(i),i=setTimeout(n,e||t)},s.schedule=s,s.call=function(){this.cancel(),e()},s.cancel=function(){i&&clearTimeout(i),i=null},s.isPending=function(){return i},s}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,i){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var i in t)e[i]=t[i];return e},t.implement=function(e,i){t.mixin(e,i)}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,i){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var n="object"==typeof navigator?navigator:{},s=(/mac|win|linux/i.exec(n.platform)||["other"])[0].toLowerCase(),o=n.userAgent||"",r=n.appName||"";t.isWin="win"==s,t.isMac="mac"==s,t.isLinux="linux"==s,t.isIE="Microsoft Internet Explorer"==r||r.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=o.indexOf("AdobeAIR")>=0,t.isAndroid=o.indexOf("Android")>=0,t.isChromeOS=o.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,i){"use strict";var n,s=e("./useragent");t.buildDom=function e(t,i,n){if("string"==typeof t&&t){var s=document.createTextNode(t);return i&&i.appendChild(s),s}if(!Array.isArray(t))return t&&t.appendChild&&i&&i.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],r=0;r<t.length;r++){var a=e(t[r],i,n);a&&o.push(a)}return o}var l=document.createElement(t[0]),c=t[1],h=1;for(c&&"object"==typeof c&&!Array.isArray(c)&&(h=2),r=h;r<t.length;r++)e(t[r],l,n);return 2==h&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?n&&(n[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),i&&i.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,i){t.hasCssClass(e,i)||(e.className+=" "+i)},t.removeCssClass=function(e,t){for(var i=e.className.split(/\s+/g);;){var n=i.indexOf(t);if(-1==n)break;i.splice(n,1)}e.className=i.join(" ")},t.toggleCssClass=function(e,t){for(var i=e.className.split(/\s+/g),n=!0;;){var s=i.indexOf(t);if(-1==s)break;n=!1,i.splice(s,1)}return n&&i.push(t),e.className=i.join(" "),n},t.setCssClass=function(e,i,n){n?t.addCssClass(e,i):t.removeCssClass(e,i)},t.hasCssString=function(e,t){var i,n=0;if(i=(t=t||document).querySelectorAll("style"))for(;n<i.length;)if(i[n++].id===e)return!0},t.removeElementById=function(e,t){(t=t||document).getElementById(e)&&t.getElementById(e).remove()};var o=[];function r(){var e=o;o=null,e&&e.forEach((function(e){a(e[0],e[1])}))}function a(e,i,s){if("undefined"!=typeof document){if(o)if(s)r();else if(!1===s)return o.push([e,i]);if(!n){var a=s;s&&s.getRootNode&&(a=s.getRootNode())&&a!=s||(a=document);var l=a.ownerDocument||a;if(i&&t.hasCssString(i,a))return null;i&&(e+="\n/*# sourceURL=ace/css/"+i+" */");var c=t.createElement("style");c.appendChild(l.createTextNode(e)),i&&(c.id=i),a==l&&(a=t.getDocumentHead(l)),a.insertBefore(c,a.firstChild)}}}if(t.useStrictCSP=function(e){n=e,0==e?r():o||(o=[])},t.importCssString=a,t.importCssStylsheet=function(e,i){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(i))},t.scrollbarWidth=function(e){var i=t.createElement("ace_inner");i.style.width="100%",i.style.minWidth="0px",i.style.height="200px",i.style.display="block";var n=t.createElement("ace_outer"),s=n.style;s.position="absolute",s.left="-10000px",s.overflow="hidden",s.width="200px",s.minWidth="0px",s.height="150px",s.display="block",n.appendChild(i);var o=e&&e.documentElement||document&&document.documentElement;if(!o)return 0;o.appendChild(n);var r=i.offsetWidth;s.overflow="scroll";var a=i.offsetWidth;return r===a&&(a=n.clientWidth),o.removeChild(n),r-a},t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,i){e[t]!==i&&(e[t]=i)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!s.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,s.isChromeOS&&(t.HI_DPI=!1),"undefined"!=typeof document){var l=document.createElement("div");t.HI_DPI&&void 0!==l.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),s.isEdge||void 0===l.style.animationName||(t.HAS_CSS_ANIMATION=!0),l=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,i){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(i)+"px)"}:t.translate=function(e,t,i){e.style.top=Math.round(i)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,i){"use strict";var n=e("./dom");t.get=function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)},i.send(null)},t.loadScript=function(e,t){var i=n.getDocumentHead(),s=document.createElement("script");s.src=e,i.appendChild(s),s.onload=s.onreadystatechange=function(e,i){!i&&s.readyState&&"loaded"!=s.readyState&&"complete"!=s.readyState||(s=s.onload=s.onreadystatechange=null,i||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,i){"use strict";var n={},s=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[e]||[],n=this._defaultHandlers[e];if(i.length||n){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=s),t.preventDefault||(t.preventDefault=o),i=i.slice();for(var r=0;r<i.length&&(i[r](t,this),!t.propagationStopped);r++);return n&&!t.defaultPrevented?n(t,this):void 0}},n._signal=function(e,t){var i=(this._eventRegistry||{})[e];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](t,this)}},n.once=function(e,t){var i=this;if(this.on(e,(function n(){i.off(e,n),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},n.setDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[e]){var n=i[e],s=i._disabled_[e];s||(i._disabled_[e]=s=[]),s.push(n);var o=s.indexOf(t);-1!=o&&s.splice(o,1)}i[e]=t},n.removeDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i){var n=i._disabled_[e];if(i[e]==t)n&&this.setDefaultHandler(e,n.pop());else if(n){var s=n.indexOf(t);-1!=s&&n.splice(s,1)}}},n.on=n.addEventListener=function(e,t,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];return n||(n=this._eventRegistry[e]=[]),-1==n.indexOf(t)&&n[i?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];if(i){var n=i.indexOf(t);-1!==n&&i.splice(n,1)}},n.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=n})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,i){var n=e("./oop"),s=e("./event_emitter").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var i=this.$options;e=Object.keys(i).filter((function(e){return!i[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var i=this.$options[e];if(!i)return r('misspelled option "'+e+'"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(e,t);i.handlesSet||(this["$"+e]=t),i&&i.set&&i.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:r('misspelled option "'+e+'"')}};function r(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(e,t){var i=new Error(e);i.data=t,"object"==typeof console&&console.error&&console.error(i),setTimeout((function(){throw i}))}var l=function(){this.$defaultOptions={}};(function(){n.implement(this,s),this.defineOptions=function(e,t,i){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(i).forEach((function(t){var n=i[t];"string"==typeof n&&(n={forwardTo:n}),n.name||(n.name=t),e.$options[n.name]=n,"initialValue"in n&&(e["$"+n.name]=n.initialValue)})),n.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var i=e.$options[t];"value"in i&&e.setOption(t,i.value)}))},this.setDefaultValue=function(e,t,i){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var n=this.$defaultOptions[e]||(this.$defaultOptions[e]={});n[t]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,t,i):n[t].value=i)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(i){this.setDefaultValue(e,i,t[i])}),this)},this.warn=r,this.reportError=a}).call(l.prototype),t.AppConfig=l})),ace.define("ace/theme/textmate.css",["require","exports","module"],(function(e,t,i){i.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],(function(e,t,i){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=e("./textmate.css"),t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],(function(e,t,i){var n=e("./lib/lang"),s=(e("./lib/oop"),e("./lib/net")),o=e("./lib/dom"),r=e("./lib/app_config").AppConfig;i.exports=t=new r;var a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},t.set=function(e,t){if(a.hasOwnProperty(e))a[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&o.useStrictCSP(t)},t.all=function(){return n.copyObject(a)},t.$modes={},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var i=e.split("/"),n="snippets"==(t=t||i[i.length-2]||"")?"/":"-",s=i[i.length-1];if("worker"==t&&"-"==n){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");s=s.replace(o,"")}(!s||s==t)&&i.length>1&&(s=i[i.length-2]);var r=a[t+"Path"];return null==r?r=a.basePath:"/"==n&&(t=n=""),r&&"/"!=r.slice(-1)&&(r+="/"),r+t+n+s+this.get("suffix")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t};var l=function(t,i){return"ace/theme/textmate"==t?i(null,e("./theme/textmate")):console.error("loader is not configured")};t.setLoader=function(e){l=e},t.$loading={},t.loadModule=function(i,n){var o,r;Array.isArray(i)&&(r=i[0],i=i[1]);try{o=e(i)}catch(e){}if(o&&!t.$loading[i])return n&&n(o);if(t.$loading[i]||(t.$loading[i]=[]),t.$loading[i].push(n),!(t.$loading[i].length>1)){var a=function(){l(i,(function(e,n){t._emit("load.module",{name:i,module:n});var s=t.$loading[i];t.$loading[i]=null,s.forEach((function(e){e&&e(n)}))}))};if(!t.get("packaged"))return a();s.loadScript(t.moduleUrl(i,r),a),c()}};var c=function(){a.basePath||a.workerPath||a.modePath||a.themePath||Object.keys(a.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};t.version="1.15.2"})),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],(function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var s=e("./config");s.setLoader((function(t,i){e([t],(function(e){i(null,e)}))}));var o=function(){return this||"undefined"!=typeof window&&window}();function r(t){if(o&&o.document){s.set("packaged",t||e.packaged||n.packaged||o.define&&i.amdD.packaged);for(var r,a={},l="",c=document.currentScript||document._currentScript,h=(c&&c.ownerDocument||document).getElementsByTagName("script"),d=0;d<h.length;d++){var u=h[d],f=u.src||u.getAttribute("src");if(f){for(var p=u.attributes,g=0,m=p.length;g<m;g++){var b=p[g];0===b.name.indexOf("data-ace-")&&(a[(r=b.name.replace(/^data-ace-/,""),r.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=b.value)}var v=f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);v&&(l=v[1])}}for(var w in l&&(a.base=a.base||l,a.packaged=!0),a.basePath=a.base,a.workerPath=a.workerPath||a.base,a.modePath=a.modePath||a.base,a.themePath=a.themePath||a.base,delete a.base,a)void 0!==a[w]&&s.set(w,a[w])}}n.exports=function(t){s.init=r,t.require=e,t.define=i.amdD},r(!0)})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,i){"use strict";var n=e("./oop"),s=function(){var e,t,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in i.PRINTABLE_KEYS[173]="-",i.FUNCTION_KEYS)e=i.FUNCTION_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);for(t in i.PRINTABLE_KEYS)e=i.PRINTABLE_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i.return,i.escape=i.esc,i.del=i.delete,function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter((function(e){return t&i.KEY_MODS[e]})).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();n.mixin(t,s),t.keyCodeToString=function(e){var t=s[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,i){"use strict";var n,s=e("./keys"),o=e("./useragent"),r=null,a=0;function l(){return null==n&&function(){n=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){n={passive:!1}}})}catch(e){}}(),n}function c(e,t,i){this.elem=e,this.type=t,this.callback=i}c.prototype.destroy=function(){d(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var h=t.addListener=function(e,t,i,n){e.addEventListener(t,i,l()),n&&n.$toDestroy.push(new c(e,t,i))},d=t.removeListener=function(e,t,i){e.removeEventListener(t,i,l())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,i){var n=e&&e.ownerDocument||document;function s(e){t&&t(e),i&&i(e),d(n,"mousemove",t),d(n,"mouseup",s),d(n,"dragstart",s)}return h(n,"mousemove",t),h(n,"mouseup",s),h(n,"dragstart",s),s},t.addMouseWheelListener=function(e,t,i){h(e,"wheel",(function(e){var i=e.deltaX||0,n=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*i,e.wheelY=.15*n;break;case e.DOM_DELTA_LINE:e.wheelX=15*i,e.wheelY=15*n;break;case e.DOM_DELTA_PAGE:e.wheelX=150*i,e.wheelY=150*n}t(e)}),i)},t.addMultiMouseDownListener=function(e,i,n,s,r){var a,l,c,d=0,u={2:"dblclick",3:"tripleclick",4:"quadclick"};function f(e){if(0!==t.getButton(e)?d=0:e.detail>1?++d>4&&(d=1):d=1,o.isIE){var r=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;c&&!r||(d=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),i[d-1]||600),1==d&&(a=e.clientX,l=e.clientY)}if(e._clicks=d,n[s]("mousedown",e),d>4)d=0;else if(d>1)return n[s](u[d],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){h(e,"mousedown",f,r)}))};var u=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function f(e,t,i){var n=u(t);if(!o.isMac&&r){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(n|=8),r.altGr){if(3==(3&n))return;r.altGr=0}if(18===i||17===i){var l="location"in t?t.location:t.keyLocation;17===i&&1===l?1==r[i]&&(a=t.timeStamp):18===i&&3===n&&2===l&&t.timeStamp-a<50&&(r.altGr=!0)}}if(i in s.MODIFIER_KEYS&&(i=-1),n||13!==i||3!==(l="location"in t?t.location:t.keyLocation)||(e(t,n,-i),!t.defaultPrevented)){if(o.isChromeOS&&8&n){if(e(t,n,i),t.defaultPrevented)return;n&=-9}return!!(n||i in s.FUNCTION_KEYS||i in s.PRINTABLE_KEYS)&&e(t,n,i)}}function p(){r=Object.create(null)}if(t.getModifierString=function(e){return s.KEY_MODS[u(e)]},t.addCommandKeyListener=function(e,i,n){if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var s=null;h(e,"keydown",(function(e){s=e.keyCode}),n),h(e,"keypress",(function(e){return f(i,e,s)}),n)}else{var a=null;h(e,"keydown",(function(e){r[e.keyCode]=(r[e.keyCode]||0)+1;var t=f(i,e,e.keyCode);return a=e.defaultPrevented,t}),n),h(e,"keypress",(function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),n),h(e,"keyup",(function(e){r[e.keyCode]=null}),n),r||(p(),h(window,"focus",p))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var g=1;t.nextTick=function(e,i){i=i||window;var n="zero-timeout-message-"+g++,s=function(o){o.data==n&&(t.stopPropagation(o),d(i,"message",s),e())};h(i,"message",s),i.postMessage(n,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,i){return setTimeout((function i(){t.$idleBlocked?setTimeout(i,100):e()}),i)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/range",["require","exports","module"],(function(e,t,i){"use strict";var n=function(e,t,i,n){this.start={row:e,column:t},this.end={row:i,column:n}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,i=e.end,n=e.start;return 1==(t=this.compare(i.row,i.column))?1==(t=this.compare(n.row,n.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(n.row,n.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)&&!this.isStart(e,t)},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var i={row:t+1,column:0};else this.end.row<e&&(i={row:e,column:0});if(this.start.row>t)var s={row:t+1,column:0};else this.start.row<e&&(s={row:e,column:0});return n.fromPoints(s||this.start,i||this.end)},this.extend=function(e,t){var i=this.compare(e,t);if(0==i)return this;if(-1==i)var s={row:e,column:t};else var o={row:e,column:t};return n.fromPoints(s||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return n.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new n(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new n(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),i=e.documentToScreenPosition(this.end);return new n(t.row,t.column,i.row,i.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(n.prototype),n.fromPoints=function(e,t){return new n(e.row,e.column,t.row,t.column)},n.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},n.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=n})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,i){"use strict";var n;i.exports={lineMode:!1,pasteCancelled:function(){return!!(n&&n>Date.now()-50)||(n=!1)},cancel:function(){n=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,i){"use strict";var n=e("../lib/event"),s=e("../lib/useragent"),o=e("../lib/dom"),r=e("../lib/lang"),a=e("../clipboard"),l=s.isChrome<18,c=s.isIE,h=s.isChrome>63,d=400,u=e("../lib/keys"),f=u.KEY_MODS,p=s.isIOS,g=p?/\s/:/\n/,m=s.isMobile;t.TextInput=function(e,t){var i=o.createElement("textarea");i.className="ace_text-input",i.setAttribute("wrap","off"),i.setAttribute("autocorrect","off"),i.setAttribute("autocapitalize","off"),i.setAttribute("spellcheck",!1),i.style.opacity="0",e.insertBefore(i,e.firstChild);var b=!1,v=!1,w=!1,y=!1,x="";m||(i.style.fontSize="1px");var k=!1,_=!1,A="",C=0,$=0,S=0;try{var M=document.activeElement===i}catch(e){}this.setAriaOptions=function(e){e.activeDescendant?(i.setAttribute("aria-haspopup","true"),i.setAttribute("aria-autocomplete","list"),i.setAttribute("aria-activedescendant",e.activeDescendant)):(i.setAttribute("aria-haspopup","false"),i.setAttribute("aria-autocomplete","both"),i.removeAttribute("aria-activedescendant")),e.role&&i.setAttribute("role",e.role)},this.setAriaOptions({role:"textbox"}),n.addListener(i,"blur",(function(e){_||(t.onBlur(e),M=!1)}),t),n.addListener(i,"focus",(function(e){if(!_){if(M=!0,s.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),s.isEdge?setTimeout(E):E()}}),t),this.$focusScroll=!1,this.focus=function(){if(x||h||"browser"==this.$focusScroll)return i.focus({preventScroll:!0});var e=i.style.top;i.style.position="fixed",i.style.top="0px";try{var t=0!=i.getBoundingClientRect().top}catch(e){return}var n=[];if(t)for(var s=i.parentElement;s&&1==s.nodeType;)n.push(s),s.setAttribute("ace_nocontext",!0),s=!s.parentElement&&s.getRootNode?s.getRootNode().host:s.parentElement;i.focus({preventScroll:!0}),t&&n.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){i.style.position="","0px"==i.style.top&&(i.style.top=e)}),0)},this.blur=function(){i.blur()},this.isFocused=function(){return M},t.on("beforeEndOperation",(function(){var e=t.curOp,n=e&&e.command&&e.command.name;if("insertstring"!=n){var s=n&&(e.docChanged||e.selectionChanged);w&&s&&(A=i.value="",P()),E()}}));var E=p?function(e){if(M&&(!b||e)&&!y){e||(e="");var n="\n ab"+e+"cde fg\n";n!=i.value&&(i.value=A=n);var s=4+(e.length||(t.selection.isEmpty()?0:1));4==C&&$==s||i.setSelectionRange(4,s),C=4,$=s}}:function(){if(!w&&!y&&(M||L)){w=!0;var e=0,n=0,s="";if(t.session){var o=t.selection,r=o.getRange(),a=o.cursor.row;if(e=r.start.column,n=r.end.column,s=t.session.getLine(a),r.start.row!=a){var l=t.session.getLine(a-1);e=r.start.row<a-1?0:e,n+=l.length+1,s=l+"\n"+s}else if(r.end.row!=a){var c=t.session.getLine(a+1);n=r.end.row>a+1?c.length:n,n+=s.length+1,s=s+"\n"+c}else m&&a>0&&(s="\n"+s,n+=1,e+=1);s.length>d&&(e<d&&n<d?s=s.slice(0,d):(s="\n",e==n?e=n=0:(e=0,n=1)))}var h=s+"\n\n";if(h!=A&&(i.value=A=h,C=$=h.length),L&&(C=i.selectionStart,$=i.selectionEnd),$!=n||C!=e||i.selectionEnd!=$)try{i.setSelectionRange(e,n),C=e,$=n}catch(e){}w=!1}};this.resetSelection=E,M&&t.onFocus();var T=null;this.setInputHandler=function(e){T=e},this.getInputHandler=function(){return T};var L=!1,R=function(e,n){if(L&&(L=!1),v)return E(),e&&t.onPaste(e),v=!1,"";for(var o=i.selectionStart,r=i.selectionEnd,a=C,l=A.length-$,c=e,h=e.length-o,d=e.length-r,u=0;a>0&&A[u]==e[u];)u++,a--;for(c=c.slice(u),u=1;l>0&&A.length-u>C-1&&A[A.length-u]==e[e.length-u];)u++,l--;h-=u-1,d-=u-1;var f=c.length-u+1;if(f<0&&(a=-f,f=0),c=c.slice(0,f),!(n||c||h||a||l||d))return"";y=!0;var p=!1;return s.isAndroid&&". "==c&&(c="  ",p=!0),c&&!a&&!l&&!h&&!d||k?t.onTextInput(c):t.onTextInput(c,{extendLeft:a,extendRight:l,restoreStart:h,restoreEnd:d}),y=!1,A=e,C=o,$=r,S=d,p?"\n":c},I=function(e){if(w)return B();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var n=i.value,s=R(n,!0);(n.length>500||g.test(s)||m&&C<1&&C==$)&&E()},O=function(e,t,i){var n=e.clipboardData||window.clipboardData;if(n&&!l){var s=c||i?"Text":"text/plain";try{return t?!1!==n.setData(s,t):n.getData(s)}catch(e){if(!i)return O(e,t,!0)}}},F=function(e,s){var o=t.getCopyText();if(!o)return n.preventDefault(e);O(e,o)?(p&&(E(o),b=o,setTimeout((function(){b=!1}),10)),s?t.onCut():t.onCopy(),n.preventDefault(e)):(b=!0,i.value=o,i.select(),setTimeout((function(){b=!1,E(),s?t.onCut():t.onCopy()})))},z=function(e){F(e,!0)},U=function(e){F(e,!1)},N=function(e){var o=O(e);a.pasteCancelled()||("string"==typeof o?(o&&t.onPaste(o,e),s.isIE&&setTimeout(E),n.preventDefault(e)):(i.value="",v=!0))};n.addCommandKeyListener(i,t.onCommandKey.bind(t),t),n.addListener(i,"select",(function(e){w||(b?b=!1:function(e){return 0===e.selectionStart&&e.selectionEnd>=A.length&&e.value===A&&A&&e.selectionEnd!==$}(i)?(t.selectAll(),E()):m&&i.selectionStart!=C&&E())}),t),n.addListener(i,"input",I,t),n.addListener(i,"cut",z,t),n.addListener(i,"copy",U,t),n.addListener(i,"paste",N,t),"oncut"in i&&"oncopy"in i&&"onpaste"in i||n.addListener(e,"keydown",(function(e){if((!s.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:U(e);break;case 86:N(e);break;case 88:z(e)}}),t);var B=function(){if(w&&t.onCompositionUpdate&&!t.$readOnly){if(k)return D();if(w.useTextareaForIME)t.onCompositionUpdate(i.value);else{var e=i.value;R(e),w.markerRange&&(w.context&&(w.markerRange.start.column=w.selectionStart=w.context.compositionStartOffset),w.markerRange.end.column=w.markerRange.start.column+$-w.selectionStart+S)}}},P=function(e){t.onCompositionEnd&&!t.$readOnly&&(w=!1,t.onCompositionEnd(),t.off("mousedown",D),e&&I())};function D(){_=!0,i.blur(),i.focus(),_=!1}var j,W=r.delayedCall(B,50).schedule.bind(null,null);function H(){clearTimeout(j),j=setTimeout((function(){x&&(i.style.cssText=x,x=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}n.addListener(i,"compositionstart",(function(e){if(!w&&t.onCompositionStart&&!t.$readOnly&&(w={},!k)){e.data&&(w.useTextareaForIME=!1),setTimeout(B,0),t._signal("compositionStart"),t.on("mousedown",D);var n=t.getSelectionRange();n.end.row=n.start.row,n.end.column=n.start.column,w.markerRange=n,w.selectionStart=C,t.onCompositionStart(w),w.useTextareaForIME?(A=i.value="",C=0,$=0):(i.msGetInputContext&&(w.context=i.msGetInputContext()),i.getInputContext&&(w.context=i.getInputContext()))}}),t),n.addListener(i,"compositionupdate",B,t),n.addListener(i,"keyup",(function(e){27==e.keyCode&&i.value.length<i.selectionStart&&(w||(A=i.value),C=$=-1,E()),W()}),t),n.addListener(i,"keydown",W,t),n.addListener(i,"compositionend",P,t),this.getElement=function(){return i},this.setCommandMode=function(e){k=e,i.readOnly=!1},this.setReadOnly=function(e){k||(i.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){L=!0,E(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,r){x||(x=i.style.cssText),i.style.cssText=(r?"z-index:100000;":"")+(s.isIE?"opacity:0.1;":"")+"text-indent: -"+(C+$)*t.renderer.characterWidth*.5+"px;";var a=t.container.getBoundingClientRect(),l=o.computedStyle(t.container),c=a.top+(parseInt(l.borderTopWidth)||0),h=a.left+(parseInt(a.borderLeftWidth)||0),d=a.bottom-c-i.clientHeight-2,u=function(e){o.translate(i,e.clientX-h-2,Math.min(e.clientY-c-2,d))};u(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(j),s.isWin&&n.capture(t.container,u,H))},this.onContextMenuClose=H;var V=function(e){t.textInput.onContextMenu(e),H()};n.addListener(i,"mouseup",V,t),n.addListener(i,"mousedown",(function(e){e.preventDefault(),H()}),t),n.addListener(t.renderer.scroller,"contextmenu",V,t),n.addListener(i,"contextmenu",V,t),p&&function(e,t,i){var n=null,s=!1;i.addEventListener("keydown",(function(e){n&&clearTimeout(n),s=!0}),!0),i.addEventListener("keyup",(function(e){n=setTimeout((function(){s=!1}),100)}),!0);var o=function(e){if(document.activeElement===i&&!(s||w||t.$mouseHandler.isMousePressed||b)){var n=i.selectionStart,o=i.selectionEnd,r=null,a=0;if(0==n?r=u.up:1==n?r=u.home:o>$&&"\n"==A[o]?r=u.end:n<C&&" "==A[n-1]?(r=u.left,a=f.option):n<C||n==C&&$!=C&&n==o?r=u.left:o>$&&A.slice(0,o).split("\n").length>2?r=u.down:o>$&&" "==A[o-1]?(r=u.right,a=f.option):(o>$||o==$&&$!=C&&n==o)&&(r=u.right),n!==o&&(a|=f.shift),r){if(!t.onCommandKey({},a,r)&&t.commands){r=u.keyCodeToString(r);var l=t.commands.findKeyCommand(a,r);l&&t.execCommand(l)}C=n,$=o,E("")}}};document.addEventListener("selectionchange",o),t.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,t,i),this.destroy=function(){i.parentElement&&i.parentElement.removeChild(i)}},t.$setUserAgentForTests=function(e,t){m=e,p=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,i){"use strict";var n=e("../lib/useragent");function s(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function o(e,t){if(e.start.row==e.end.row)var i=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)i=2*t.row-e.start.row-e.end.row;else i=t.column-4;return i<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),i=e.getDocumentPosition();this.mousedownEvent=e;var s=this.editor,o=e.getButton();return 0!==o?((s.getSelectionRange().isEmpty()||1==o)&&s.selection.moveToPosition(i),void(2==o&&(s.textInput.onContextMenu(e.domEvent),n.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||s.isFocused()||(s.focus(),!this.$focusTimeout||this.$clickSelection||s.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(i,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(e):t||i.selection.moveToPosition(e),t||this.select(),i.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,i=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var n=this.$clickSelection.comparePoint(i);if(-1==n)e=this.$clickSelection.end;else if(1==n)e=this.$clickSelection.start;else{var s=o(this.$clickSelection,i);i=s.cursor,e=s.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(i),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,i=this.editor,n=i.renderer.screenToTextCoordinates(this.x,this.y),s=i.selection[e](n.row,n.column);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(s.start),a=this.$clickSelection.comparePoint(s.end);if(-1==r&&a<=0)t=this.$clickSelection.end,s.end.row==n.row&&s.end.column==n.column||(n=s.start);else if(1==a&&r>=0)t=this.$clickSelection.start,s.start.row==n.row&&s.start.column==n.column||(n=s.end);else if(-1==r&&1==a)n=s.end,t=s.start;else{var l=o(this.$clickSelection,n);n=l.cursor,t=l.anchor}i.selection.setSelectionAnchor(t.row,t.column)}i.selection.selectToPosition(n),i.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},this.focusWait=function(){var e,t,i,n,s=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,i=this.x,n=this.y,Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))),o=Date.now();(s>0||o-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),i=this.editor,n=i.session.getBracketRange(t);n?(n.isEmpty()&&(n.start.column--,n.end.column++),this.setState("select")):(n=i.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=n,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),i=this.editor;this.setState("selectByLines");var n=i.getSelectionRange();n.isMultiLine()&&n.contains(t.row,t.column)?(this.$clickSelection=i.selection.getLineRange(n.start.row),this.$clickSelection.end=i.selection.getLineRange(n.end.row).end):this.$clickSelection=i.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var i=this.$lastScroll,n=e.domEvent.timeStamp,s=n-i.t,o=s?e.wheelX/s:i.vx,r=s?e.wheelY/s:i.vy;s<550&&(o=(o+i.vx)/2,r=(r+i.vy)/2);var a=Math.abs(o/r),l=!1;return a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l?i.allowed=n:n-i.allowed<550&&(Math.abs(o)<=1.5*Math.abs(i.vx)&&Math.abs(r)<=1.5*Math.abs(i.vy)?(l=!0,i.allowed=n):i.allowed=0),i.t=n,i.vx=o,i.vy=r,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(s.prototype),t.DefaultHandlers=s})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,i){"use strict";e("./lib/oop");var n=e("./lib/dom"),s="ace_tooltip";function o(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=n.createElement("div"),this.$element.className=s,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){n.addCssClass(this.getElement(),e)},this.show=function(e,t,i){null!=e&&this.setText(e),null!=t&&null!=i&&this.setPosition(t,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=s,this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(o.prototype),t.Tooltip=o})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,i){"use strict";var n=e("../lib/dom"),s=e("../lib/oop"),o=e("../lib/event"),r=e("../tooltip").Tooltip;function a(e){r.call(this,e)}s.inherits(a,r),function(){this.setPosition=function(e,t){var i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,s=this.getWidth(),o=this.getHeight();(e+=15)+s>i&&(e-=e+s-i),(t+=15)+o>n&&(t-=20+o),r.prototype.setPosition.call(this,e,t)}}.call(a.prototype),t.GutterHandler=function(e){var t,i,s,r=e.editor,l=r.renderer.$gutterLayer,c=new a(r.container);function h(){t&&(t=clearTimeout(t)),s&&(c.hide(),s=null,r._signal("hideGutterTooltip",c),r.off("mousewheel",h))}function d(e){c.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(r.isFocused()&&0==t.getButton()&&"foldWidgets"!=l.getRegion(t)){var i=t.getDocumentPosition().row,n=r.session.selection;if(t.getShiftKey())n.selectTo(i,0);else{if(2==t.domEvent.detail)return r.selectAll(),t.preventDefault();e.$clickSelection=r.selection.getLineRange(i)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(o){var a=o.domEvent.target||o.domEvent.srcElement;if(n.hasCssClass(a,"ace_fold-widget"))return h();s&&e.$tooltipFollowsMouse&&d(o),i=o,t||(t=setTimeout((function(){t=null,i&&!e.isMousePressed?function(){var t=i.getDocumentPosition().row,n=l.$annotations[t];if(!n)return h();if(t==r.session.getLength()){var o=r.renderer.pixelToScreenCoordinates(0,i.y).row,a=i.$pos;if(o>r.session.documentToScreenRow(a.row,a.column))return h()}if(s!=n){s=n.text.join("<br/>"),c.setHtml(s);var u=n.className;if(u&&c.setClassName(u.trim()),c.show(),r._signal("showGutterTooltip",c),r.on("mousewheel",h),e.$tooltipFollowsMouse)d(i);else{var f=i.domEvent.target.getBoundingClientRect(),p=c.getElement().style;p.left=f.right+"px",p.top=f.bottom+"px"}}}():h()}),50))})),o.addListener(r.renderer.$gutter,"mouseout",(function(e){i=null,s&&!t&&(t=setTimeout((function(){t=null,h()}),50))}),r),r.on("changeSession",h)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,i){"use strict";var n=e("../lib/event"),s=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=s.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,i){"use strict";var n=e("../lib/dom"),s=e("../lib/event"),o=e("../lib/useragent"),r=200,a=200,l=5;function c(e){var t=e.editor,i=n.createElement("div");i.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",i.textContent=" ",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var c,d,u,f,p,g,m,b,v,w,y,x=t.container,k=0;function _(){var e=g;(function(e,i){var n=Date.now(),s=!i||e.row!=i.row,o=!i||e.column!=i.column;!w||s||o?(t.moveCursorToPosition(e),w=n,y={x:d,y:u}):h(y.x,y.y,d,u)>l?w=null:n-w>=a&&(t.renderer.scrollCursorIntoView(),w=null)})(g=t.renderer.screenToTextCoordinates(d,u),e),function(e,i){var n=Date.now(),s=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,a=t.renderer.scroller.getBoundingClientRect(),l={x:{left:d-a.left,right:a.right-d},y:{top:u-a.top,bottom:a.bottom-u}},c=Math.min(l.x.left,l.x.right),h=Math.min(l.y.top,l.y.bottom),f={row:e.row,column:e.column};c/o<=2&&(f.column+=l.x.left<l.x.right?-3:2),h/s<=1&&(f.row+=l.y.top<l.y.bottom?-1:1);var p=e.row!=f.row,g=e.column!=f.column,m=!i||e.row!=i.row;p||g&&!m?v?n-v>=r&&t.renderer.scrollCursorIntoView(f):v=n:v=null}(g,e)}function A(){p=t.selection.toOrientedRange(),c=t.session.addMarker(p,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(f),_(),f=setInterval(_,20),k=0,s.addListener(document,"mousemove",S)}function C(){clearInterval(f),t.session.removeMarker(c),c=null,t.selection.fromOrientedRange(p),t.isFocused()&&!b&&t.$resetCursorStyle(),p=null,g=null,k=0,v=null,w=null,s.removeListener(document,"mousemove",S)}this.onDragStart=function(e){if(this.cancelDrag||!x.draggable){var n=this;return setTimeout((function(){n.startSelect(),n.captureMouse(e)}),0),e.preventDefault()}p=t.getSelectionRange();var s=e.dataTransfer;s.effectAllowed=t.getReadOnly()?"copy":"copyMove",t.container.appendChild(i),s.setDragImage&&s.setDragImage(i,0,0),setTimeout((function(){t.container.removeChild(i)})),s.clearData(),s.setData("Text",t.session.getTextRange()),b=!0,this.setState("drag")},this.onDragEnd=function(e){if(x.draggable=!1,b=!1,this.setState(null),!t.getReadOnly()){var i=e.dataTransfer.dropEffect;m||"move"!=i||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&M(e.dataTransfer))return d=e.clientX,u=e.clientY,c||A(),k++,e.dataTransfer.dropEffect=m=E(e),s.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&M(e.dataTransfer))return d=e.clientX,u=e.clientY,c||(A(),k++),null!==$&&($=null),e.dataTransfer.dropEffect=m=E(e),s.preventDefault(e)},this.onDragLeave=function(e){if(--k<=0&&c)return C(),m=null,s.preventDefault(e)},this.onDrop=function(e){if(g){var i=e.dataTransfer;if(b)switch(m){case"move":p=p.contains(g.row,g.column)?{start:g,end:g}:t.moveText(p,g);break;case"copy":p=t.moveText(p,g,!0)}else{var n=i.getData("Text");p={start:g,end:t.session.insert(g,n)},t.focus(),m=null}return C(),s.preventDefault(e)}},s.addListener(x,"dragstart",this.onDragStart.bind(e),t),s.addListener(x,"dragend",this.onDragEnd.bind(e),t),s.addListener(x,"dragenter",this.onDragEnter.bind(e),t),s.addListener(x,"dragover",this.onDragOver.bind(e),t),s.addListener(x,"dragleave",this.onDragLeave.bind(e),t),s.addListener(x,"drop",this.onDrop.bind(e),t);var $=null;function S(){null==$&&($=setTimeout((function(){null!=$&&c&&C()}),20))}function M(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function E(e){var t=["copy","copymove","all","uninitialized"],i=o.isMac?e.altKey:e.ctrlKey,n="uninitialized";try{n=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var s="none";return i&&t.indexOf(n)>=0?s="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(n)>=0?s="move":t.indexOf(n)>=0&&(s="copy"),s}}function h(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=o.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop(),"dragWait"===this.state&&h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,i=e.inSelection(),n=e.getButton();if(1===(e.domEvent.detail||1)&&0===n&&i){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var s=e.domEvent.target||e.domEvent.srcElement;"unselectable"in s&&(s.unselectable="on"),t.getDragDelay()?(o.isWebKit&&(this.cancelDrag=!0,t.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(c.prototype),t.DragdropHandler=c})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,i){"use strict";var n=e("./mouse_event").MouseEvent,s=e("../lib/event"),o=e("../lib/dom");t.addTouchListeners=function(e,t){var i,r,a,l,c,h,d,u,f,p="scroll",g=0,m=0,b=0,v=0;function w(){var e,i,n;f||(e=window.navigator&&window.navigator.clipboard,i=!1,n=function(n){var s,r,a=n.target.getAttribute("action");if("more"==a||!i)return i=!i,s=t.getCopyText(),r=t.session.getUndoManager().hasUndo(),void f.replaceChild(o.buildDom(i?["span",!s&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],s&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],s&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],r&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),f.firstChild);"paste"==a?e.readText().then((function(e){t.execCommand(a,e)})):a&&("cut"!=a&&"copy"!=a||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(a)),f.firstChild.style.display="none",i=!1,"openCommandPallete"!=a&&t.focus()},f=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){p="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),n(e)},onclick:n},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container));var s=t.selection.cursor,r=t.renderer.textToScreenCoordinates(s.row,s.column),a=t.renderer.textToScreenCoordinates(0,0).pageX,l=t.renderer.scrollLeft,c=t.container.getBoundingClientRect();f.style.top=r.pageY-c.top-3+"px",r.pageX-c.left<c.width-70?(f.style.left="",f.style.right="10px"):(f.style.right="",f.style.left=a+l-c.left+"px"),f.style.display="",f.firstChild.style.display="none",t.on("input",y)}function y(e){f&&(f.style.display="none"),t.off("input",y)}function x(){c=null,clearTimeout(c);var e=t.selection.getRange(),i=e.contains(d.row,d.column);!e.isEmpty()&&i||(t.selection.moveToPosition(d),t.selection.selectWord()),p="wait",w()}s.addListener(e,"contextmenu",(function(e){u&&t.textInput.getElement().focus()}),t),s.addListener(e,"touchstart",(function(e){var s=e.touches;if(c||s.length>1)return clearTimeout(c),c=null,a=-1,void(p="zoom");u=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,h=t.renderer.layerConfig.lineHeight,f=e.timeStamp;l=f;var w=s[0],y=w.clientX,k=w.clientY;Math.abs(i-y)+Math.abs(r-k)>o&&(a=-1),i=e.clientX=y,r=e.clientY=k,b=v=0;var _=new n(e,t);if(d=_.getDocumentPosition(),f-a<500&&1==s.length&&!g)m++,e.preventDefault(),e.button=0,function(){c=null,clearTimeout(c),t.selection.moveToPosition(d);var e=m>=2?t.selection.getLineRange(d.row):t.session.getBracketRange(d);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),p="wait"}();else{m=0;var A=t.selection.cursor,C=t.selection.isEmpty()?A:t.selection.anchor,$=t.renderer.$cursorLayer.getPixelPosition(A,!0),S=t.renderer.$cursorLayer.getPixelPosition(C,!0),M=t.renderer.scroller.getBoundingClientRect(),E=t.renderer.layerConfig.offset,T=t.renderer.scrollLeft,L=function(e,t){return(e/=h)*e+(t=t/o-.75)*t};if(e.clientX<M.left)return void(p="zoom");var R=L(e.clientX-M.left-$.left+T,e.clientY-M.top-$.top+E),I=L(e.clientX-M.left-S.left+T,e.clientY-M.top-S.top+E);R<3.5&&I<3.5&&(p=R>I?"cursor":"anchor"),p=I<3.5?"anchor":R<3.5?"cursor":"scroll",c=setTimeout(x,450)}a=f}),t),s.addListener(e,"touchend",(function(e){u=t.$mouseHandler.isMousePressed=!1,h&&clearInterval(h),"zoom"==p?(p="",g=0):c?(t.selection.moveToPosition(d),g=0,w()):"scroll"==p?(g+=60,h=setInterval((function(){g--<=0&&(clearInterval(h),h=null),Math.abs(b)<.01&&(b=0),Math.abs(v)<.01&&(v=0),g<20&&(b*=.9),g<20&&(v*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*b,10*v),e==t.session.getScrollTop()&&(g=0)}),10),y()):w(),clearTimeout(c),c=null}),t),s.addListener(e,"touchmove",(function(e){c&&(clearTimeout(c),c=null);var s=e.touches;if(!(s.length>1||"zoom"==p)){var o=s[0],a=i-o.clientX,h=r-o.clientY;if("wait"==p){if(!(a*a+h*h>4))return e.preventDefault();p="cursor"}i=o.clientX,r=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var d=e.timeStamp,u=d-l;if(l=d,"scroll"==p){var f=new n(e,t);f.speed=1,f.wheelX=a,f.wheelY=h,10*Math.abs(a)<Math.abs(h)&&(a=0),10*Math.abs(h)<Math.abs(a)&&(h=0),0!=u&&(b=a/u,v=h/u),t._emit("mousewheel",f),f.propagationStopped||(b=v=0)}else{var g=new n(e,t).getDocumentPosition();"cursor"==p?t.selection.moveCursorToPosition(g):"anchor"==p&&t.selection.setSelectionAnchor(g.row,g.column),t.renderer.scrollCursorIntoView(g),e.preventDefault()}}}),t)}})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,i){"use strict";var n=e("../lib/event"),s=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,r=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,h=e("../config"),d=function(e){var t=this;this.editor=e,new o(this),new r(this),new l(this);var i=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus(),setTimeout((function(){e.isFocused()||e.focus()}))},a=e.renderer.getMouseEventTarget();n.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),n.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),n.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),n.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var h=e.renderer.$gutter;n.addListener(h,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),n.addListener(h,"click",this.onMouseEvent.bind(this,"gutterclick"),e),n.addListener(h,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),n.addListener(h,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),n.addListener(a,"mousedown",i,e),n.addListener(h,"mousedown",i,e),s.isIE&&e.renderer.scrollBarV&&(n.addListener(e.renderer.scrollBarV.element,"mousedown",i,e),n.addListener(e.renderer.scrollBarH.element,"mousedown",i,e)),e.on("mousemove",(function(i){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var n=e.renderer.screenToTextCoordinates(i.x,i.y),s=e.session.selection.getRange(),o=e.renderer;!s.isEmpty()&&s.insideStart(n.row,n.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),e)};(function(){this.onMouseEvent=function(e,t){this.editor.session&&this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var i=new a(t,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var i=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var r=this,l=function(e){if(e){if(s.isWebKit&&!e.which&&r.releaseMouse)return r.releaseMouse();r.x=e.clientX,r.y=e.clientY,t&&t(e),r.mouseEvent=new a(e,r.editor),r.$mouseMoved=!0}},c=function(e){i.off("beforeEndOperation",d),clearInterval(u),i.session&&h(),r[r.state+"End"]&&r[r.state+"End"](e),r.state="",r.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),r.$onCaptureMouseMove=r.releaseMouse=null,e&&r.onMouseEvent("mouseup",e),i.endOperation()},h=function(){r[r.state]&&r[r.state](),r.$mouseMoved=!1};if(s.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var d=function(e){r.releaseMouse&&i.curOp.command.name&&i.curOp.selectionChanged&&(r[r.state+"End"]&&r[r.state+"End"](),r.state="",r.releaseMouse())};i.on("beforeEndOperation",d),i.startOperation({command:{name:"mouse"}}),r.$onCaptureMouseMove=l,r.releaseMouse=n.capture(this.editor.container,l,c);var u=setInterval(h,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&n.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(d.prototype),h.defineOptions(d.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:s.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=d})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,i){"use strict";var n=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var i=t.getDocumentPosition(),s=e.session,o=s.getFoldAt(i.row,i.column,1);o&&(t.getAccelKey()?s.removeFold(o):s.expandFold(o),t.stop());var r=t.domEvent&&t.domEvent.target;r&&n.hasCssClass(r,"ace_inline_button")&&n.hasCssClass(r,"ace_toggle_wrap")&&(s.setOption("wrap",!s.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var i=t.getDocumentPosition().row,n=e.session;n.foldWidgets&&n.foldWidgets[i]&&e.session.onFoldWidgetClick(i,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var i=t.getDocumentPosition().row,n=e.session,s=n.getParentFoldRangeData(i,!0),o=s.range||s.firstRange;if(o){i=o.start.row;var r=n.getFoldAt(i,n.getLine(i).length,1);r?n.removeFold(r):(n.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,i){"use strict";var n=e("../lib/keys"),s=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var i=this.$handlers.indexOf(e);-1!=i&&this.$handlers.splice(i,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==i&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(i){return i.getStatusText&&i.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,i,n){for(var o,r=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,e,t,i,n))&&o.command&&((r="null"==o.command||a.exec(o.command,this.$editor,o.args,n))&&n&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&s.stopEvent(n),r)););return r||-1!=e||(o={command:"insertstring"},r=a.exec("insertstring",this.$editor,t)),r&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),r},this.onCommandKey=function(e,t,i){var s=n.keyCodeToString(i);return this.$callKeyboardHandlers(t,s,i,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,i){"use strict";var n=0,s=0,o=!1,r=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h=1,d=0,u=1,f=2,p=3,g=4,m=5,b=6,v=7,w=8,y=9,x=10,k=11,_=12,A=13,C=14,$=15,S=16,M=17,E=18,T=[E,E,E,E,E,E,E,E,E,b,m,b,w,m,E,E,E,E,E,E,E,E,E,E,E,E,E,E,m,m,m,b,w,g,g,k,k,k,g,g,g,g,g,x,y,x,y,y,f,f,f,f,f,f,f,f,f,f,y,g,g,g,g,g,g,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,g,g,g,g,g,g,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,g,g,g,g,E,E,E,E,E,E,m,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,y,g,k,k,k,k,g,g,g,g,d,g,g,E,g,g,k,k,f,f,g,d,g,g,g,f,d,g,g,g,g,g],L=[w,w,w,w,w,w,w,w,w,w,w,E,E,E,d,u,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,w,m,A,C,$,S,M,y,k,k,k,k,k,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,y,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,w];function R(e,t,i){if(!(s<e))if(1!=e||n!=h||r)for(var o,a,l,c,d=i.length,u=0;u<d;){if(t[u]>=e){for(o=u+1;o<d&&t[o]>=e;)o++;for(a=u,l=o-1;a<l;a++,l--)c=i[a],i[a]=i[l],i[l]=c;u=o}u++}else i.reverse()}function I(e,t,i,s){var l,c,h,T,L=t[s];switch(L){case d:case u:o=!1;case g:case p:return L;case f:return o?p:f;case v:return o=!0,u;case w:return g;case y:return s<1||s+1>=t.length||(l=i[s-1])!=f&&l!=p||(c=t[s+1])!=f&&c!=p?g:(o&&(c=p),c==l?c:g);case x:return(l=s>0?i[s-1]:m)==f&&s+1<t.length&&t[s+1]==f?f:g;case k:if(s>0&&i[s-1]==f)return f;if(o)return g;for(T=s+1,h=t.length;T<h&&t[T]==k;)T++;return T<h&&t[T]==f?f:g;case _:for(h=t.length,T=s+1;T<h&&t[T]==_;)T++;if(T<h){var R=e[s],I=R>=1425&&R<=2303||64286==R;if(l=t[T],I&&(l==u||l==v))return u}return s<1||(l=t[s-1])==m?g:i[s-1];case m:return o=!1,r=!0,n;case b:return a=!0,g;case A:case C:case S:case M:case $:o=!1;case E:return g}}function O(e){var t=e.charCodeAt(0),i=t>>8;return 0==i?t>191?d:T[t]:5==i?/[\u0591-\u05f4]/.test(e)?u:d:6==i?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?_:/[\u0660-\u0669\u066b-\u066c]/.test(e)?p:1642==t?k:/[\u06f0-\u06f9]/.test(e)?f:v:32==i&&t<=8287?L[255&t]:254==i&&t>=65136?v:g}t.L=d,t.R=u,t.EN=f,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="·",t.doBidiReorder=function(e,i,d){if(e.length<2)return{};var f=e.split(""),y=new Array(f.length),x=new Array(f.length),k=[];n=d?h:0,function(e,t,i,h){var d=n?c:l,u=null,f=null,p=null,g=0,v=null,y=-1,x=null,k=null,_=[];if(!h)for(x=0,h=[];x<i;x++)h[x]=O(e[x]);for(s=n,o=!1,r=!1,a=!1,k=0;k<i;k++){if(u=g,_[k]=f=I(e,h,_,k),v=240&(g=d[u][f]),g&=15,t[k]=p=d[g][5],v>0)if(16==v){for(x=y;x<k;x++)t[x]=1;y=-1}else y=-1;if(d[g][6])-1==y&&(y=k);else if(y>-1){for(x=y;x<k;x++)t[x]=p;y=-1}h[k]==m&&(t[k]=0),s|=p}if(a)for(x=0;x<i;x++)if(h[x]==b){t[x]=n;for(var A=x-1;A>=0&&h[A]==w;A--)t[A]=n}}(f,k,f.length,i);for(var _=0;_<y.length;y[_]=_,_++);for(R(2,k,y),R(1,k,y),_=0;_<y.length-1;_++)i[_]===p?k[_]=t.AN:k[_]===u&&(i[_]>v&&i[_]<A||i[_]===g||i[_]===E)?k[_]=t.ON_R:_>0&&"ل"===f[_-1]&&/\u0622|\u0623|\u0625|\u0627/.test(f[_])&&(k[_-1]=k[_]=t.R_H,_++);for(f[f.length-1]===t.DOT&&(k[f.length-1]=t.B),"‫"===f[0]&&(k[0]=t.RLE),_=0;_<y.length;_++)x[_]=k[y[_]];return{logicalFromVisual:y,bidiLevels:x}},t.hasBidiCharacters=function(e,t){for(var i=!1,n=0;n<e.length;n++)t[n]=O(e.charAt(n)),i||t[n]!=u&&t[n]!=v&&t[n]!=p||(i=!0);return i},t.getVisualFromLogicalIdx=function(e,t){for(var i=0;i<t.logicalFromVisual.length;i++)if(t.logicalFromVisual[i]==e)return i;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,i){"use strict";var n=e("./lib/bidiutil"),s=e("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,r=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=n,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())};(function(){this.isBidiRow=function(e,t,i){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,i),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var i=this.session.$getRowCacheIndex(t,this.currentRow);i>=0&&(e=this.session.$docRowCache[i])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var i,n=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(i=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===n;)n=i,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var i=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(void 0===t&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[n.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t]),t==o.length&&(this.line+=this.showInvisibles?i:n.DOT))}else this.line+=this.showInvisibles?i:n.DOT;var r,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(r="\t"===e?a.getScreenTabSize(t+l):2,l+=r-1,s.stringRepeat(n.DOT,r)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==n.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];n.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=n.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,i=e.$measureCharWidth("ה");this.charWidths[n.L]=this.charWidths[n.EN]=this.charWidths[n.ON_R]=t,this.charWidths[n.R]=this.charWidths[n.AN]=i,this.charWidths[n.R_H]=.45*i,this.charWidths[n.B]=this.charWidths[n.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var i=e.getCursorPosition(),n=e.selection.getSelectionAnchor().row;n<=i.row;n++)t||e.session.getLine(n).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(n).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:n},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(n,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,i=e>t?this.session.getOverwrite()?e:e-1:t,s=n.getVisualFromLogicalIdx(i,this.bidiMap),o=this.bidiMap.bidiLevels,r=0;!this.session.getOverwrite()&&e<=t&&o[s]%2!=0&&s++;for(var a=0;a<s;a++)r+=this.charWidths[o[a]];return!this.session.getOverwrite()&&e>t&&o[s]%2==0&&(r+=this.charWidths[o[s]]),this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(r+=this.rtlLineOffset),r},this.getSelections=function(e,t){var i,n=this.bidiMap,s=n.bidiLevels,o=[],r=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,h=!1,d=0;this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var u,f=0;f<s.length;f++)u=n.logicalFromVisual[f],i=s[f],(c=u>=a&&u<l)&&!h?d=r:!c&&h&&o.push({left:d,width:r-d}),r+=this.charWidths[i],h=c;if(c&&f===s.length&&o.push({left:d,width:r-d}),this.isRtlDir)for(var p=0;p<o.length;p++)o[p].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,i=(e=Math.max(e,0),0),n=0,s=this.bidiMap.bidiLevels,o=this.charWidths[s[n]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>i+o/2;){if(i+=o,n===s.length-1){o=0;break}o=this.charWidths[s[++n]]}return n>0&&s[n-1]%2!=0&&s[n]%2==0?(e<i&&n--,t=this.bidiMap.logicalFromVisual[n]):n>0&&s[n-1]%2==0&&s[n]%2!=0?t=1+(e>i?this.bidiMap.logicalFromVisual[n]:this.bidiMap.logicalFromVisual[n-1]):this.isRtlDir&&n===s.length-1&&0===o&&s[n-1]%2==0||!this.isRtlDir&&0===n&&s[n]%2!=0?t=1+this.bidiMap.logicalFromVisual[n]:(n>0&&s[n-1]%2!=0&&0!==o&&n--,t=this.bidiMap.logicalFromVisual[n]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(r.prototype),t.BidiHandler=r})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,r=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))};(function(){n.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.setSelectionAnchor=this.setAnchor,this.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionAnchor=this.getAnchor,this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?r.fromPoints(t,t):this.isBackwards()?r.fromPoints(t,e):r.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var i=t?e.end:e.start,n=t?e.start:e.end;this.$setSelection(i.row,i.column,n.row,n.column)},this.$setSelection=function(e,t,i,n){if(!this.$silent){var s=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(i,n),this.$isEmpty=!r.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||s!=this.$isEmpty||o)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var i=e||this.lead;e=i.row,t=i.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var i,n="number"==typeof e?e:this.lead.row,s=this.session.getFoldLine(n);return s?(n=s.start.row,i=s.end.row):i=n,!0===t?new r(n,0,i,this.session.getLine(i).length):new r(n,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,i){var n=e.column,s=e.column+t;return i<0&&(n=e.column-t,s=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(n,s).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize();t=this.lead,this.wouldMoveIntoSoftTab(t,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,i=this.session.documentToScreenRow(e,t),n=this.session.screenToDocumentPosition(i,0),s=this.session.getDisplayLine(e,null,n.row,n.column).match(/^\s*/);s[0].length==t||this.session.$useEmacsStyleLineStart||(n.column+=s[0].length),this.moveCursorToPosition(n)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var i=this.session.getLine(t.row);if(t.column==i.length){var n=i.search(/\s+$/);n>0&&(t.column=n)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var s=this.session.getFoldAt(e,t,1);if(s)this.moveCursorTo(s.end.row,s.end.column);else{if(this.session.nonTokenRe.exec(n)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=i.substring(t)),t>=i.length)return this.moveCursorTo(e,i.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(n)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))this.moveCursorTo(e.start.row,e.start.column);else{var n=this.session.getFoldStringAt(t,i,-1);null==n&&(n=this.doc.getLine(t).substring(0,i));var o=s.stringReverse(n);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(i-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,i)}},this.$shortWordEndIndex=function(e){var t,i=0,n=/\s/,s=this.session.tokenRe;if(s.lastIndex=0,this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{for(;(t=e[i])&&n.test(t);)i++;if(i<1)for(s.lastIndex=0;(t=e[i])&&!s.test(t);)if(s.lastIndex=0,i++,n.test(t)){if(i>2){i--;break}for(;(t=e[i])&&n.test(t);)i++;if(i>2)break}}return s.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t),s=this.session.getFoldAt(e,t,1);if(s)return this.moveCursorTo(s.end.row,s.end.column);if(t==i.length){var o=this.doc.getLength();do{e++,n=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(n));/^\s+/.test(n)||(n=""),t=0}var r=this.$shortWordEndIndex(n);this.moveCursorTo(e,t+r)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(e.start.row,e.start.column);var n=this.session.getLine(t).substring(0,i);if(0===i){do{t--,n=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(n));i=n.length,/\s+$/.test(n)||(n="")}var o=s.stringReverse(n),r=this.$shortWordEndIndex(o);return this.moveCursorTo(t,i-r)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var i,n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(i=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(i/this.session.$bidiHandler.charWidths[0])):i=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var s=this.session.lineWidgets[this.lead.row];e<0?e-=s.rowsAbove||0:e>0&&(e+=s.rowCount-(s.rowsAbove||0))}var o=this.session.screenToDocumentPosition(n.row+e,n.column,i);0!==e&&0===t&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,i){var n=this.session.getFoldAt(e,t,1);n&&(e=n.start.row,t=n.start.column),this.$keepDesiredColumnOnChange=!0;var s=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(s.charAt(t))&&s.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,i){var n=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(n.row,n.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var i=this.getCursor();return r.fromPoints(t,i)}catch(e){return r.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var i=r.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,i){"use strict";var n=e("./config"),s=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var i=this.states[t],n=[],s=0,o=this.matchMappings[t]={defaultToken:"text"},r="g",a=[],l=0;l<i.length;l++){var c=i[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&-1===r.indexOf("i")&&(r+="i"),c.unicode&&-1===r.indexOf("u")&&(r+="u"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var h=c.regex,d=new RegExp("(?:("+h+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==d?c.token=c.token[0]:d-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:d-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=d>1?this.$applyToken:c.token),d>1&&(/\\\d/.test(c.regex)?h=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+s+1)})):(d=1,h=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[s]=l,s+=d,n.push(h),c.onMatch||(c.onMatch=null)}}n.length||(o[0]=0,n.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,r)}),this),this.regExps[t]=new RegExp("("+n.join(")|(")+")|($)",r)}};(function(){this.$setMaxTokenCount=function(e){s=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),i=this.token.apply(this,t);if("string"==typeof i)return[{type:i,value:e}];for(var n=[],s=0,o=i.length;s<o;s++)t[s]&&(n[n.length]={type:i[s],value:t[s]});return n},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var i=[],n=this.tokenArray,s=0,o=n.length;s<o;s++)t[s+1]&&(i[i.length]={type:n[s],value:t[s+1]});return i},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var i=0,n=!1,s={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,r,a,l){return n?n="]"!=a:a?n=!0:r?(i==s.stack&&(s.end=l+1,s.stack=-1),i--):o&&(i++,1!=o.length&&(s.stack=i,s.start=l)),e})),null!=s.end&&/^\)*$/.test(e.substr(s.end))&&(e=e.substring(0,s.start)+e.substr(s.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var i=t.slice(0);"#tmp"===(t=i[0])&&(i.shift(),t=i.shift())}else i=[];var n=t||"start",o=this.states[n];o||(n="start",o=this.states[n]);var r=this.matchMappings[n],a=this.regExps[n];a.lastIndex=0;for(var l,c=[],h=0,d=0,u={type:null,value:""};l=a.exec(e);){var f=r.defaultToken,p=null,g=l[0],m=a.lastIndex;if(m-g.length>h){var b=e.substring(h,m-g.length);u.type==f?u.value+=b:(u.type&&c.push(u),u={type:f,value:b})}for(var v=0;v<l.length-2;v++)if(void 0!==l[v+1]){f=(p=o[r[v]]).onMatch?p.onMatch(g,n,i,e):p.token,p.next&&(n="string"==typeof p.next?p.next:p.next(n,i),(o=this.states[n])||(this.reportError("state doesn't exist",n),n="start",o=this.states[n]),r=this.matchMappings[n],h=m,(a=this.regExps[n]).lastIndex=m),p.consumeLineEnd&&(h=m);break}if(g)if("string"==typeof f)p&&!1===p.merge||u.type!==f?(u.type&&c.push(u),u={type:f,value:g}):u.value+=g;else if(f)for(u.type&&c.push(u),u={type:null,value:""},v=0;v<f.length;v++)c.push(f[v]);if(h==e.length)break;if(h=m,d++>s){for(d>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});h<e.length;)u.type&&c.push(u),u={value:e.substring(h,h+=500),type:"overflow"};n="start",i=[];break}}return u.type&&c.push(u),i.length>1&&i[0]!==n&&i.unshift("#tmp",n),{tokens:c,state:i.length?i:n}},this.reportError=n.reportError}).call(o.prototype),t.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,i){"use strict";var n=e("../lib/lang"),s=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var i in e){for(var n=e[i],s=0;s<n.length;s++){var o=n[s];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+i]=n}else for(var i in e)this.$rules[i]=e[i]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,s,o){var r="function"==typeof e?(new e).getRules():e;if(s)for(var a=0;a<s.length;a++)s[a]=t+s[a];else for(var l in s=[],r)s.push(t+l);if(this.addRules(r,t),i){var c=Array.prototype[o?"push":"unshift"];for(a=0;a<s.length;a++)c.apply(this.$rules[s[a]],n.deepCopy(i))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var i=0,n=this.$rules;Object.keys(n).forEach((function s(o){var r=n[o];r.processed=!0;for(var a=0;a<r.length;a++){var l=r[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var h=l.next||l.push;if(h&&Array.isArray(h)){var d=l.stateName;d||("string"!=typeof(d=l.token)&&(d=d[0]||""),n[d]&&(d+=i++)),n[d]=h,l.next=d,s(d)}else"pop"==h&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var u in l.rules)n[u]?n[u].push&&n[u].push.apply(n[u],l.rules[u]):n[u]=l.rules[u];var f="string"==typeof l?l:l.include;if(f&&(c=Array.isArray(f)?f.map((function(e){return n[e]})):n[f]),c){var p=[a,1].concat(c);l.noEscape&&(p=p.filter((function(e){return!e.next}))),r.splice.apply(r,p),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,i,n){var s=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(n||"|"),r=o.length;r--;){var a=o[r];this.$keywordList.push(a),i&&(a=a.toLowerCase()),s[a]=t}}),this),e=null,i?function(e){return s[e.toLowerCase()]||t}:function(e){return s[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(s.prototype),t.TextHighlightRules=s})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,i){"use strict";var n=function(){this.$behaviours={}};(function(){this.add=function(e,t,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=i},this.addBehaviours=function(e){for(var t in e)for(var i in e[t])this.add(t,i,e[t][i])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var i=(new e).getBehaviours(t);else i=e.getBehaviours(t);this.addBehaviours(i)},this.getBehaviours=function(e){if(e){for(var t={},i=0;i<e.length;i++)this.$behaviours[e[i]]&&(t[e[i]]=this.$behaviours[e[i]]);return t}return this.$behaviours}}).call(n.prototype),t.Behaviour=n})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,i){"use strict";var n=e("./range").Range,s=function(e,t,i){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var n=e.getTokenAt(t,i);this.$tokenIndex=n?n.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,i=e[t].start;if(void 0!==i)return i;for(i=0;t>0;)i+=e[t-=1].value.length;return i},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new n(this.$row,t,this.$row,t+e.value.length)}}).call(s.prototype),t.TokenIterator=s})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,i){"use strict";var n,s=e("../../lib/oop"),o=e("../behaviour").Behaviour,r=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],h={},d={'"':'"',"'":"'"},u=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,h.rangeCount!=e.multiSelect.rangeCount&&(h={rangeCount:e.multiSelect.rangeCount})),h[t])return n=h[t];n=h[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(e,t,i,n){var s=e.end.row-e.start.row;return{text:i+t+n,selection:[0,e.start.column+1,s,e.end.column+(s?0:1)]}},p=function(e){this.add("braces","insertion",(function(t,i,s,o,r){var l=s.getCursorPosition(),c=o.doc.getLine(l.row);if("{"==r){u(s);var h=s.getSelectionRange(),d=o.doc.getTextRange(h);if(""!==d&&"{"!==d&&s.getWrapBehavioursEnabled())return f(h,d,"{","}");if(p.isSaneInsertion(s,o))return/[\]\}\)]/.test(c[l.column])||s.inMultiSelectMode||e&&e.braces?(p.recordAutoInsert(s,o,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(s,o,"{"),{text:"{",selection:[1,1]})}else if("}"==r){if(u(s),"}"==c.substring(l.column,l.column+1)&&null!==o.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&p.isAutoInsertedClosing(l,c,r))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==r||"\r\n"==r){u(s);var g="";if(p.isMaybeInsertedClosing(l,c)&&(g=a.stringRepeat("}",n.maybeInsertedBrackets),p.clearMaybeInsertedClosing()),"}"===c.substring(l.column,l.column+1)){var m=o.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!m)return null;var b=this.$getIndent(o.getLine(m.row))}else{if(!g)return void p.clearMaybeInsertedClosing();b=this.$getIndent(c)}var v=b+o.getTabString();return{text:"\n"+v+"\n"+b+g,selection:[1,v.length,1,v.length]}}p.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,i,s,o){var r=s.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==r){if(u(i),"}"==s.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;n.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,i,n,s){if("("==s){u(i);var o=i.getSelectionRange(),r=n.doc.getTextRange(o);if(""!==r&&i.getWrapBehavioursEnabled())return f(o,r,"(",")");if(p.isSaneInsertion(i,n))return p.recordAutoInsert(i,n,")"),{text:"()",selection:[1,1]}}else if(")"==s){u(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1)&&null!==n.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&p.isAutoInsertedClosing(a,l,s))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,i,n,s){var o=n.doc.getTextRange(s);if(!s.isMultiLine()&&"("==o&&(u(i),")"==n.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)))return s.end.column++,s})),this.add("brackets","insertion",(function(e,t,i,n,s){if("["==s){u(i);var o=i.getSelectionRange(),r=n.doc.getTextRange(o);if(""!==r&&i.getWrapBehavioursEnabled())return f(o,r,"[","]");if(p.isSaneInsertion(i,n))return p.recordAutoInsert(i,n,"]"),{text:"[]",selection:[1,1]}}else if("]"==s){u(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1)&&null!==n.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&p.isAutoInsertedClosing(a,l,s))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,i,n,s){var o=n.doc.getTextRange(s);if(!s.isMultiLine()&&"["==o&&(u(i),"]"==n.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)))return s.end.column++,s})),this.add("string_dquotes","insertion",(function(e,t,i,n,s){var o=n.$mode.$quotes||d;if(1==s.length&&o[s]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(s))return;u(i);var r=s,a=i.getSelectionRange(),l=n.doc.getTextRange(a);if(!(""===l||1==l.length&&o[l])&&i.getWrapBehavioursEnabled())return f(a,l,r,r);if(!l){var c=i.getCursorPosition(),h=n.doc.getLine(c.row),p=h.substring(c.column-1,c.column),g=h.substring(c.column,c.column+1),m=n.getTokenAt(c.row,c.column),b=n.getTokenAt(c.row,c.column+1);if("\\"==p&&m&&/escape/.test(m.type))return null;var v,w=m&&/string|escape/.test(m.type),y=!b||/string|escape/.test(b.type);if(g==r)(v=w!==y)&&/string\.end/.test(b.type)&&(v=!1);else{if(w&&!y)return null;if(w&&y)return null;var x=n.$mode.tokenRe;x.lastIndex=0;var k=x.test(p);x.lastIndex=0;var _=x.test(p);if(k||_)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var A=h[c.column-2];if(p==r&&(A==r||x.test(A)))return null;v=!0}return{text:v?r+r:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,i,n,s){var o=n.$mode.$quotes||d,r=n.doc.getTextRange(s);if(!s.isMultiLine()&&o.hasOwnProperty(r)&&(u(i),n.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)==r))return s.end.column++,s}))};p.isSaneInsertion=function(e,t){var i=e.getCursorPosition(),n=new r(t,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",l)){if(/[)}\]]/.test(e.session.getLine(i.row)[i.column]))return!0;var s=new r(t,i.row,i.column+1);if(!this.$matchTokenType(s.getCurrentToken()||"text",l))return!1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||"text",c)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,i){var s=e.getCursorPosition(),o=t.doc.getLine(s.row);this.isAutoInsertedClosing(s,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=s.row,n.autoInsertedLineEnd=i+o.substr(s.column),n.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,i){var s=e.getCursorPosition(),o=t.doc.getLine(s.row);this.isMaybeInsertedClosing(s,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=s.row,n.maybeInsertedLineStart=o.substr(0,s.column)+i,n.maybeInsertedLineEnd=o.substr(s.column),n.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,i){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},s.inherits(p,o),t.CstyleBehaviour=p})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,i){"use strict";for(var n=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],s=0,o=[],r=0;r<n.length;r+=2)o.push(s+=n[r]),n[r+1]&&o.push(45,s+=n[r+1]);t.wordChars=String.fromCharCode.apply(null,o)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,i){"use strict";var n=e("../config"),s=e("../tokenizer").Tokenizer,o=e("./text_highlight_rules").TextHighlightRules,r=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),l=e("../lib/lang"),c=e("../token_iterator").TokenIterator,h=e("../range").Range,d=function(){this.HighlightRules=o};(function(){this.$defaultBehaviour=new r,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new s(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,i,n){var s=t.doc,o=!0,r=!0,a=1/0,c=t.getTabSize(),h=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(g=this.lineCommentStart.map(l.escapeRegExp).join("|"),f=this.lineCommentStart[0]):(g=l.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart),g=new RegExp("^(\\s*)(?:"+g+") ?"),h=t.getUseSoftTabs(),v=function(e,t){var i=e.match(g);if(i){var n=i[1].length,o=i[0].length;u(e,n,o)||" "!=i[0][o-1]||o--,s.removeInLine(t,n,o)}};var d=f+" ",u=(b=function(e,t){o&&!/\S/.test(e)||(u(e,a,a)?s.insertInLine({row:t,column:a},d):s.insertInLine({row:t,column:a},f))},w=function(e,t){return g.test(e)},function(e,t,i){for(var n=0;t--&&" "==e.charAt(t);)n++;if(n%c!=0)return!1;for(n=0;" "==e.charAt(i++);)n++;return c>2?n%c!=c-1:n%c==0})}else{if(!this.blockComment)return!1;var f=this.blockComment.start,p=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+l.escapeRegExp(f)+")"),m=new RegExp("(?:"+l.escapeRegExp(p)+")\\s*$"),b=function(e,t){w(e,t)||o&&!/\S/.test(e)||(s.insertInLine({row:t,column:e.length},p),s.insertInLine({row:t,column:a},f))},v=function(e,t){var i;(i=e.match(m))&&s.removeInLine(t,e.length-i[0].length,e.length),(i=e.match(g))&&s.removeInLine(t,i[1].length,i[0].length)},w=function(e,i){if(g.test(e))return!0;for(var n=t.getTokens(i),s=0;s<n.length;s++)if("comment"===n[s].type)return!0}}function y(e){for(var t=i;t<=n;t++)e(s.getLine(t),t)}var x=1/0;y((function(e,t){var i=e.search(/\S/);-1!==i?(i<a&&(a=i),r&&!w(e,t)&&(r=!1)):x>e.length&&(x=e.length)})),a==1/0&&(a=x,o=!1,r=!1),h&&a%c!=0&&(a=Math.floor(a/c)*c),y(r?v:b)},this.toggleBlockComment=function(e,t,i,n){var s=this.blockComment;if(s){!s.start&&s[0]&&(s=s[0]);var o,r,a=(g=new c(t,n.row,n.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var d,u;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(s.start))){var f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m;d=new h(f,p,f,p+s.start.length);break}a=g.stepBackward()}var g;for(a=(g=new c(t,n.row,n.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(s.end))){f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m,u=new h(f,p,f,p+s.end.length);break}a=g.stepForward()}u&&t.remove(u),d&&(t.remove(d),o=d.start.row,r=-s.start.length)}else r=s.start.length,o=i.start.row,t.insert(i.end,s.end),t.insert(i.start,s.start);l.start.row==o&&(l.start.column+=r),l.end.row==o&&(l.end.column+=r),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,i){return this.$getIndent(t)},this.checkOutdent=function(e,t,i){return!1},this.autoOutdent=function(e,t,i){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var i=e[t],s=i.prototype.$id,o=n.$modes[s];o||(n.$modes[s]=o=new i),n.$modes[t]||(n.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var r=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<r.length;t++)!function(e){var i=r[t],n=e[i];e[r[t]]=function(){return this.$delegator(i,arguments,n)}}(this)},this.$delegator=function(e,t,i){var n=t[0]||"start";if("string"!=typeof n){if(Array.isArray(n[2])){var s=n[2][n[2].length-1];if(r=this.$modes[s])return r[e].apply(r,[n[1]].concat([].slice.call(t,1)))}n=n[0]||"start"}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var r,a=n.split(this.$embeds[o]);if(!a[0]&&a[1])return t[0]=a[1],(r=this.$modes[this.$embeds[o]])[e].apply(r,t)}var l=i.apply(this,t);return i?l:void 0},this.transformAction=function(e,t,i,n,s){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var r in o)if(o[r][t]){var a=o[r][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,i=[];for(var n in t)for(var s=t[n],o=0,r=s.length;o<r;o++)if("string"==typeof s[o].token)/keyword|support|storage/.test(s[o].token)&&i.push(s[o].regex);else if("object"==typeof s[o].token)for(var a=0,l=s[o].token.length;a<l;a++)/keyword|support|storage/.test(s[o].token[a])&&(n=s[o].regex.match(/\(.+?\)/g)[a],i.push(n.substr(1,n.length-2)));this.completionKeywords=i}return e?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,i,n){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(d.prototype),t.Mode=d})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,i){"use strict";t.applyDelta=function(e,t,i){var n=t.start.row,s=t.start.column,o=e[n]||"";switch(t.action){case"insert":if(1===t.lines.length)e[n]=o.substring(0,s)+t.lines[0]+o.substring(s);else{var r=[n,1].concat(t.lines);e.splice.apply(e,r),e[n]=o.substring(0,s)+e[n],e[n+t.lines.length-1]+=o.substring(s)}break;case"remove":var a=t.end.column,l=t.end.row;n===l?e[n]=o.substring(0,s)+o.substring(a):e.splice(n,l-n+1,o.substring(0,s)+e[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,i){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===i?this.setPosition(t.row,t.column):this.setPosition(t,i)};(function(){function e(e,t,i){var n=i?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&n}n.implement(this,s),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var i=function(t,i,n){var s="insert"==t.action,o=(s?1:-1)*(t.end.row-t.start.row),r=(s?1:-1)*(t.end.column-t.start.column),a=t.start,l=s?a:t.end;return e(i,a,n)?{row:i.row,column:i.column}:e(l,i,!n)?{row:i.row+o,column:i.column+(i.row==l.row?r:0)}:{row:a.row,column:a.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},this.setPosition=function(e,t,i){var n;if(n=i?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=n.row||this.column!=n.column){var s={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:s,value:n})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var i={};return e>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):e<0?(i.row=0,i.column=0):(i.row=e,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,r=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){n.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new r(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||"")},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var i=t.length-1;e.end.row-e.start.row==i&&(t[i]=t[i].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var i=this.clippedPos(e.row,e.column),n=this.pos(e.row,e.column+t.length);return this.applyDelta({start:i,end:n,action:"insert",lines:[t]},!0),this.clonePos(n)},this.clippedPos=function(e,t){var i=this.getLength();void 0===e?e=i:e<0?e=0:e>=i&&(e=i-1,t=void 0);var n=this.getLine(e);return null==t&&(t=n.length),{row:e,column:t=Math.min(Math.max(t,0),n.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var i=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),i=0):(t=[""].concat(t),e--,i=this.$lines[e].length),this.insertMergedLines({row:e,column:i},t)},this.insertMergedLines=function(e,t){var i=this.clippedPos(e.row,e.column),n={row:i.row+t.length-1,column:(1==t.length?i.column:0)+t[t.length-1].length};return this.applyDelta({start:i,end:n,action:"insert",lines:t}),this.clonePos(n)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),i=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:i,action:"remove",lines:this.getLinesForRange({start:t,end:i})}),this.clonePos(t)},this.removeInLine=function(e,t,i){var n=this.clippedPos(e,t),s=this.clippedPos(e,i);return this.applyDelta({start:n,end:s,action:"remove",lines:this.getLinesForRange({start:n,end:s})},!0),this.clonePos(n)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var i=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,n=t<this.getLength()-1,s=i?e-1:e,o=i?this.getLine(s).length:0,a=n?t+1:t,l=n?0:this.getLine(a).length,c=new r(s,o,a,l),h=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),h},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof r||(e=r.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var i="insert"==e.action;(i?e.lines.length<=1&&!e.lines[0]:!r.comparePoints(e.start,e.end))||(i&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(s(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var i=e.lines,n=i.length-t+1,s=e.start.row,o=e.start.column,r=0,a=0;r<n;r=a){a+=t-1;var l=i.slice(r,a);l.push(""),this.applyDelta({start:this.pos(s+r,o),end:this.pos(s+a,o=0),action:e.action,lines:l},!0)}e.lines=i.slice(r),e.start.row=s+r,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,s=t||0,o=i.length;s<o;s++)if((e-=i[s].length+n)<0)return{row:s,column:e+i[s].length+n};return{row:o-1,column:e+i[o-1].length+n}},this.positionToIndex=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,s=0,o=Math.min(e.row,i.length),r=t||0;r<o;++r)s+=i[r].length+n;return s+e.column}}).call(l.prototype),t.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var i=this;this.$worker=function(){if(i.running){for(var e=new Date,t=i.currentLine,n=-1,s=i.doc,o=t;i.lines[t];)t++;var r=s.getLength(),a=0;for(i.running=!1;t<r;){i.$tokenizeRow(t),n=t;do{t++}while(i.lines[t]);if(++a%5==0&&new Date-e>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=t,-1==n&&(n=t),o<=n&&i.fireUpdateEvent(o,n)}}};(function(){n.implement(this,s),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var i={first:e,last:t};this._signal("update",{data:i})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,i=e.end.row-t;if(0===i)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,i+1,null),this.states.splice(t,i+1,null);else{var n=Array(i+1);n.unshift(t,1),this.lines.splice.apply(this.lines,n),this.states.splice.apply(this.states,n)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),i=this.states[e-1],n=this.tokenizer.getLineTokens(t,i,e);return this.states[e]+""!=n.state+""?(this.states[e]=n.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=n.tokens},this.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}).call(o.prototype),t.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,i){"use strict";var n=e("./lib/lang"),s=(e("./lib/oop"),e("./range").Range),o=function(e,t,i){this.setRegexp(e),this.clazz=t,this.type=i||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,i,o){if(this.regExp)for(var r=o.firstRow,a=o.lastRow,l={},c=r;c<=a;c++){var h=this.cache[c];null==h&&((h=n.getMatchOffsets(i.getLine(c),this.regExp)).length>this.MAX_RANGES&&(h=h.slice(0,this.MAX_RANGES)),h=h.map((function(e){return new s(c,e.offset,c,e.offset+e.length)})),this.cache[c]=h.length?h:"");for(var d=h.length;d--;){var u=h[d].toScreenRange(i),f=u.toString();l[f]||(l[f]=!0,t.drawSingleLineMarker(e,u,this.clazz,o))}}}}).call(o.prototype),t.SearchHighlight=o})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,i){"use strict";var n=e("../range").Range;function s(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var i=t[t.length-1];this.range=new n(t[0].start.row,t[0].start.column,i.end.row,i.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,i){var n,s,o=0,r=this.folds,a=!0;null==t&&(t=this.end.row,i=this.end.column);for(var l=0;l<r.length;l++){if(-1==(s=(n=r[l]).range.compareStart(t,i)))return void e(null,t,i,o,a);if(!e(null,n.start.row,n.start.column,o,a)&&e(n.placeholder,n.start.row,n.start.column,o)||0===s)return;a=!n.sameRow,o=n.end.column}e(null,t,i,o,a)},this.getNextFoldTo=function(e,t){for(var i,n,s=0;s<this.folds.length;s++){if(-1==(n=(i=this.folds[s]).range.compareEnd(e,t)))return{fold:i,kind:"after"};if(0===n)return{fold:i,kind:"inside"}}return null},this.addRemoveChars=function(e,t,i){var n,s,o=this.getNextFoldTo(e,t);if(o)if(n=o.fold,"inside"==o.kind&&n.start.column!=t&&n.start.row!=e)window.console&&window.console.log(e,t,n);else if(n.start.row==e){var r=(s=this.folds).indexOf(n);for(0===r&&(this.start.column+=i);r<s.length;r++){if((n=s[r]).start.column+=i,!n.sameRow)return;n.end.column+=i}this.end.column+=i}},this.split=function(e,t){var i=this.getNextFoldTo(e,t);if(!i||"inside"==i.kind)return null;var n=i.fold,o=this.folds,r=this.foldData,a=o.indexOf(n),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new s(r,o=o.splice(a,o.length-a));return r.splice(r.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,i=0;i<t.length;i++)this.addFold(t[i]);var n=this.foldData;n.splice(n.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,i=0;i<this.folds.length;i++){var n=this.folds[i];if((e-=n.start.column-t)<0)return{row:n.start.row,column:n.start.column+e};if((e-=n.placeholder.length)<0)return n.start;t=n.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(s.prototype),t.FoldLine=s})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,i){"use strict";var n=e("./range").Range.comparePoints,s=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=n,this.pointIndex=function(e,t,i){for(var s=this.ranges,o=i||0;o<s.length;o++){var r=s[o],a=n(e,r.end);if(!(a>0)){var l=n(e,r.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),i=this.pointIndex(e.start,t);i<0&&(i=-i-1);var n=this.pointIndex(e.end,t,i);return n<0?n=-n-1:n++,this.ranges.splice(i,n-i,e)},this.addList=function(e){for(var t=[],i=e.length;i--;)t.push.apply(t,this.add(e[i]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],i=this.ranges,s=(i=i.sort((function(e,t){return n(e.start,t.start)})))[0],o=1;o<i.length;o++){e=s,s=i[o];var r=n(e.end,s.start);r<0||(0!=r||e.isEmpty()||s.isEmpty())&&(n(e.end,s.end)<0&&(e.end.row=s.end.row,e.end.column=s.end.column),i.splice(o,1),t.push(s),s=e,o--)}return this.ranges=i,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var i=this.ranges;if(i[0].start.row>t||i[i.length-1].start.row<e)return[];var n=this.pointIndex({row:e,column:0});n<0&&(n=-n-1);var s=this.pointIndex({row:t,column:0},n);s<0&&(s=-s-1);for(var o=[],r=n;r<s;r++)o.push(i[r]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,i=e.end,n=t.row,s=i.row,o=this.ranges,r=0,a=o.length;r<a&&!((h=o[r]).end.row>=n);r++);if("insert"==e.action){for(var l=s-n,c=-t.column+i.column;r<a&&!((h=o[r]).start.row>n);r++)if(h.start.row==n&&h.start.column>=t.column&&(h.start.column==t.column&&this.$bias<=0||(h.start.column+=c,h.start.row+=l)),h.end.row==n&&h.end.column>=t.column){if(h.end.column==t.column&&this.$bias<0)continue;h.end.column==t.column&&c>0&&r<a-1&&h.end.column>h.start.column&&h.end.column==o[r+1].start.column&&(h.end.column-=c),h.end.column+=c,h.end.row+=l}}else for(l=n-s,c=t.column-i.column;r<a&&!((h=o[r]).start.row>s);r++)h.end.row<s&&(n<h.end.row||n==h.end.row&&t.column<h.end.column)?(h.end.row=n,h.end.column=t.column):h.end.row==s?h.end.column<=i.column?(l||h.end.column>t.column)&&(h.end.column=t.column,h.end.row=t.row):(h.end.column+=c,h.end.row+=l):h.end.row>s&&(h.end.row+=l),h.start.row<s&&(n<h.start.row||n==h.start.row&&t.column<h.start.column)?(h.start.row=n,h.start.column=t.column):h.start.row==s?h.start.column<=i.column?(l||h.start.column>t.column)&&(h.start.column=t.column,h.start.row=t.row):(h.start.column+=c,h.start.row+=l):h.start.row>s&&(h.start.row+=l);if(0!=l&&r<a)for(;r<a;r++){var h;(h=o[r]).start.row+=l,h.end.row+=l}}}).call(s.prototype),t.RangeList=s})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(e,t,i){"use strict";var n=e("../range_list").RangeList,s=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function r(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}s.inherits(o,n),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){var t,i;t=e,i=this.start,r(t.start,i),r(t.end,i);for(var n=e.start.row,s=e.start.column,o=0,a=-1;o<this.subFolds.length&&1==(a=this.subFolds[o].range.compare(n,s));o++);var l=this.subFolds[o],c=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);c=1}n=e.range.end.row,s=e.range.end.column;var h=o;for(a=-1;h<this.subFolds.length&&1==(a=this.subFolds[h].range.compare(n,s));h++);0==a&&h++;for(var d=this.subFolds.splice(o,h-o,e),u=0==a?d.length-1:d.length,f=c;f<u;f++)e.addSubFold(d[f]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){a(e.start,t),a(e.end,t)}(e,this.start)}}.call(o.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,i){"use strict";var n=e("../range").Range,s=e("./fold_line").FoldLine,o=e("./fold").Fold,r=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,i){var n=this.getFoldLine(e);if(!n)return null;for(var s=n.folds,o=0;o<s.length;o++){var r=s[o].range;if(r.contains(e,t)){if(1==i&&r.isEnd(e,t)&&!r.isEmpty())continue;if(-1==i&&r.isStart(e,t)&&!r.isEmpty())continue;return s[o]}}},this.getFoldsInRange=function(e){var t=e.start,i=e.end,n=this.$foldData,s=[];t.column+=1,i.column-=1;for(var o=0;o<n.length;o++){var r=n[o].range.compareRange(e);if(2!=r){if(-2==r)break;for(var a=n[o].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(r=c.range.compareRange(e)))break;if(2!=r){if(42==r)break;s.push(c)}}}}return t.column-=1,i.column+=1,s},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,i=0;i<t.length;i++)for(var n=0;n<t[i].folds.length;n++)e.push(t[i].folds[n]);return e},this.getFoldStringAt=function(e,t,i,n){if(!(n=n||this.getFoldLine(e)))return null;for(var s,o,r={end:{column:0}},a=0;a<n.folds.length;a++){var l=(o=n.folds[a]).range.compareEnd(e,t);if(-1==l){s=this.getLine(o.start.row).substring(r.end.column,o.start.column);break}if(0===l)return null;r=o}return s||(s=this.getLine(o.start.row).substring(r.end.column)),-1==i?s.substring(0,t-r.end.column):1==i?s.substring(t-r.end.column):s},this.getFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var s=i[n];if(s.start.row<=e&&s.end.row>=e)return s;if(s.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var s=i[n];if(s.end.row>=e)return s}return null},this.getFoldedRowCount=function(e,t){for(var i=this.$foldData,n=t-e+1,s=0;s<i.length;s++){var o=i[s],r=o.end.row,a=o.start.row;if(r>=t){a<t&&(a>=e?n-=t-a:n=0);break}r>=e&&(n-=a>=e?r-a:r-e+1)}return n},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var i,n=this.$foldData,r=!1;e instanceof o?i=e:(i=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(i.range);var a=i.start.row,l=i.start.column,c=i.end.row,h=i.end.column,d=this.getFoldAt(a,l,1),u=this.getFoldAt(c,h,-1);if(d&&u==d)return d.addSubFold(i);d&&!d.range.isStart(a,l)&&this.removeFold(d),u&&!u.range.isEnd(c,h)&&this.removeFold(u);var f=this.getFoldsInRange(i.range);f.length>0&&(this.removeFolds(f),i.collapseChildren||f.forEach((function(e){i.addSubFold(e)})));for(var p=0;p<n.length;p++){var g=n[p];if(c==g.start.row){g.addFold(i),r=!0;break}if(a==g.end.row){if(g.addFold(i),r=!0,!i.sameRow){var m=n[p+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return r||(g=this.$addFoldLine(new s(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,i=t.start.row,n=t.end.row,s=this.$foldData,o=t.folds;if(1==o.length)s.splice(s.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var r=t.split(e.start.row,e.start.column);(o=r.folds).shift(),r.start.row=o[0].start.row,r.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,n):this.$updateRowLengthCache(i,n)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var i,s;if(null==e)i=new n(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)i=new n(e,0,e,this.getLine(e).length);else if("row"in e)i=n.fromPoints(e,e);else{if(Array.isArray(e))return s=[],e.forEach((function(e){s=s.concat(this.unfold(e))}),this),s;i=e}for(var o=s=this.getFoldsInRangeList(i);1==s.length&&n.comparePoints(s[0].start,i.start)<0&&n.comparePoints(s[0].end,i.end)>0;)this.expandFolds(s),s=this.getFoldsInRangeList(i);if(0!=t?this.removeFolds(s):this.expandFolds(s),o.length)return o},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var i=this.getFoldLine(e,t);return i?i.end.row:e},this.getRowFoldStart=function(e,t){var i=this.getFoldLine(e,t);return i?i.start.row:e},this.getFoldDisplayLine=function(e,t,i,n,s){null==n&&(n=e.start.row),null==s&&(s=0),null==t&&(t=e.end.row),null==i&&(i=this.getLine(t).length);var o=this.doc,r="";return e.walk((function(e,t,i,a){if(!(t<n)){if(t==n){if(i<s)return;a=Math.max(s,a)}r+=null!=e?e:o.getLine(t).substring(a,i)}}),t,i),r},this.getDisplayLine=function(e,t,i,n){var s,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,i,n):(s=this.doc.getLine(e)).substring(n||0,t||s.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var i=t.folds.map((function(e){return e.clone()}));return new s(e,i)}))},this.toggleFold=function(e){var t,i,n=this.selection.getRange();if(n.isEmpty()){var s=n.start;if(t=this.getFoldAt(s.row,s.column))return void this.expandFold(t);(i=this.findMatchingBracket(s))?1==n.comparePoint(i)?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:s.row,column:s.column+1}))?(1==n.comparePoint(i)?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(s.row,s.column)||n}else{var o=this.getFoldsInRange(n);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(n.start.row,n.start.column)),t&&t.range.toString()==n.toString())this.expandFold(t);else{var r="...";if(!n.isMultiLine()){if((r=this.getTextRange(n)).length<4)return;r=r.trim().substring(0,2)+".."}this.addFold(r,n)}},this.getCommentFoldRange=function(e,t,i){var s=new r(this,e,t),o=s.getCurrentToken(),a=o&&o.type;if(o&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new n;if(1!=i){do{o=s.stepBackward()}while(o&&l.test(o.type)&&!/^comment.end/.test(o.type));o=s.stepForward()}if(c.start.row=s.getCurrentTokenRow(),c.start.column=s.getCurrentTokenColumn()+(/^comment.start/.test(o.type)?o.value.length:2),s=new r(this,e,t),-1!=i){var h=-1;do{if(o=s.stepForward(),-1==h){var d=this.getState(s.$row);l.test(d)||(h=s.$row)}else if(s.$row>h)break}while(o&&l.test(o.type)&&!/^comment.start/.test(o.type));o=s.stepBackward()}else o=s.getCurrentToken();return c.end.row=s.getCurrentTokenRow(),c.end.column=s.getCurrentTokenColumn(),/^comment.end/.test(o.type)||(c.end.column+=o.value.length-2),c}},this.foldAll=function(e,t,i,n){null==i&&(i=1e5);var s=this.foldWidgets;if(s){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==s[o]&&(s[o]=this.getFoldWidget(o)),"start"==s[o]&&(!n||n(o))){var r=this.getFoldWidgetRange(o);r&&r.isMultiLine()&&r.end.row<=t&&r.start.row>=e&&(o=r.end.row,r.collapseChildren=i,this.addFold("...",r))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var i=e.getTokens(t),n=0;n<i.length;n++){var s=i[n];if("text"!=s.type||!/^\s+$/.test(s.value))return!!/comment/.test(s.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var i=this.foldWidgets;if(!i||t&&i[e])return{};for(var n,s=e-1;s>=0;){var o=i[s];if(null==o&&(o=i[s]=this.getFoldWidget(s)),"start"==o){var r=this.getFoldWidgetRange(s);if(n||(n=r),r&&r.end.row>=e)break}s--}return{range:-1!==s&&r,firstRange:n}},this.onFoldWidgetClick=function(e,t){var i={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,i)){var n=t.target||t.srcElement;n&&/ace_fold-widget/.test(n.className)&&(n.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var i=this.getFoldWidget(e),n=this.getLine(e),s="end"===i?-1:1,o=this.getFoldAt(e,-1===s?0:n.length,s);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var r=this.getFoldWidgetRange(e,!0);if(r&&!r.isMultiLine()&&(o=this.getFoldAt(r.start.row,r.start.column,1))&&r.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=r?r.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):r&&(t.all&&(r.collapseChildren=1e4),this.addFold("...",r));return r}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var i=this.$toggleFoldWidget(t,{});if(!i){var n=this.getParentFoldRangeData(t,!0);if(i=n.range||n.firstRange){t=i.start.row;var s=this.getFoldAt(t,this.getLine(t).length,1);s?this.removeFold(s):this.addFold("...",i)}}},this.updateFoldWidgets=function(e){var t=e.start.row,i=e.end.row-t;if(0===i)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,i+1,null);else{var n=Array(i+1);n.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,n)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,i){"use strict";var n=e("../token_iterator").TokenIterator,s=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var i=t||this.getLine(e.row).charAt(e.column-1);if(""==i)return null;var n=i.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],e):this.$findOpeningBracket(n[2],e):null},this.getBracketRange=function(e){var t,i=this.getLine(e.row),n=!0,o=i.charAt(e.column-1),r=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(r||(o=i.charAt(e.column),e={row:e.row,column:e.column+1},r=o&&o.match(/([\(\[\{])|([\)\]\}])/),n=!1),!r)return null;if(r[1]){if(!(a=this.$findClosingBracket(r[1],e)))return null;t=s.fromPoints(e,a),n||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(r[2],e)))return null;t=s.fromPoints(a,e),n||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e,t){var i=this.getLine(e.row),n=/([\(\[\{])|([\)\]\}])/,o=!t&&i.charAt(e.column-1),r=o&&o.match(n);if(r||(o=(void 0===t||t)&&i.charAt(e.column),e={row:e.row,column:e.column+1},r=o&&o.match(n)),!r)return null;var a=new s(e.row,e.column-1,e.row,e.column),l=r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e);return l?[a,new s(l.row,l.column,l.row,l.column+1)]:[a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,i){var s=this.$brackets[e],o=1,r=new n(this,t.row,t.column),a=r.getCurrentToken();if(a||(a=r.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-r.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var h=c.charAt(l);if(h==s){if(0==(o-=1))return{row:r.getCurrentTokenRow(),column:l+r.getCurrentTokenColumn()}}else h==e&&(o+=1);l-=1}do{a=r.stepBackward()}while(a&&!i.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,i){var s=this.$brackets[e],o=1,r=new n(this,t.row,t.column),a=r.getCurrentToken();if(a||(a=r.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-r.getCurrentTokenColumn();;){for(var c=a.value,h=c.length;l<h;){var d=c.charAt(l);if(d==s){if(0==(o-=1))return{row:r.getCurrentTokenRow(),column:l+r.getCurrentTokenColumn()}}else d==e&&(o+=1);l+=1}do{a=r.stepForward()}while(a&&!i.test(a.type));if(null==a)break;l=0}return null}},this.getMatchingTags=function(e){var t=new n(this,e.row,e.column),i=this.$findTagName(t);if(i)return"<"===t.stepBackward().value?this.$findClosingTag(t,i):this.$findOpeningTag(t,i)},this.$findTagName=function(e){var t=e.getCurrentToken(),i=!1,n=!1;if(t&&-1===t.type.indexOf("tag-name"))do{(t=n?e.stepBackward():e.stepForward())&&("/>"===t.value?n=!0:-1!==t.type.indexOf("tag-name")&&(i=!0))}while(t&&!i);return t},this.$findClosingTag=function(e,t){var i,n=t.value,o=t.value,r=0,a=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);t=e.stepForward();var l=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length),c=!1;do{if(i=t,t=e.stepForward()){if(">"===t.value&&!c){var h=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);c=!0}if(-1!==t.type.indexOf("tag-name")){if(o===(n=t.value))if("<"===i.value)r++;else if("</"===i.value&&--r<0){e.stepBackward();var d=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2);t=e.stepForward();var u=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if(!(t=e.stepForward())||">"!==t.value)return;var f=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else o===n&&"/>"===t.value&&--r<0&&(f=u=d=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2),h=new s(l.end.row,l.end.column,l.end.row,l.end.column+1))}}while(t&&r>=0);if(a&&h&&d&&f&&l&&u)return{openTag:new s(a.start.row,a.start.column,h.end.row,h.end.column),closeTag:new s(d.start.row,d.start.column,f.end.row,f.end.column),openTagName:l,closeTagName:u}},this.$findOpeningTag=function(e,t){var i=e.getCurrentToken(),n=t.value,o=0,r=e.getCurrentTokenRow(),a=e.getCurrentTokenColumn(),l=a+2,c=new s(r,a,r,l);e.stepForward();var h=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if((t=e.stepForward())&&">"===t.value){var d=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);e.stepBackward(),e.stepBackward();do{if(t=i,r=e.getCurrentTokenRow(),l=(a=e.getCurrentTokenColumn())+t.value.length,i=e.stepBackward(),t)if(-1!==t.type.indexOf("tag-name")){if(n===t.value)if("<"===i.value){if(++o>0){var u=new s(r,a,r,l),f=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);do{t=e.stepForward()}while(t&&">"!==t.value);var p=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else"</"===i.value&&o--}else if("/>"===t.value){for(var g=0,m=i;m;){if(-1!==m.type.indexOf("tag-name")&&m.value===n){o--;break}if("<"===m.value)break;m=e.stepBackward(),g++}for(var b=0;b<g;b++)e.stepForward()}}while(i&&o<=0);return f&&p&&c&&d&&u&&h?{openTag:new s(f.start.row,f.start.column,p.end.row,p.end.column),closeTag:new s(c.start.row,c.start.column,d.end.row,d.end.column),openTagName:u,closeTagName:h}:void 0}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/lang"),o=e("./bidihandler").BidiHandler,r=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,h=e("./range").Range,d=e("./document").Document,u=e("./background_tokenizer").BackgroundTokenizer,f=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new u((new c).getTokenizer(),this);var i=this;this.bgTokenizer.on("update",(function(e){i._signal("tokenizerUpdate",e)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new d(e)),this.setDocument(e),this.selection=new l(this),this.$bidiHandler=new o(this),r.resetOptions(this),this.setMode(t),r._signal("session",this),this.destroyed=!1};p.$uid=0,function(){n.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>i&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t))},this.$getRowCacheIndex=function(e,t){for(var i=0,n=e.length-1;i<=n;){var s=i+n>>1,o=e[s];if(t>o)i=s+1;else{if(!(t<o))return s;n=s-1}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var i,n=this.bgTokenizer.getTokens(e),s=0;if(null==t){var o=n.length-1;s=this.getLine(e).length}else for(o=0;o<n.length&&!((s+=n[o].value.length)>=t);o++);return(i=n[o])?(i.index=o,i.start=s-i.value.length,i):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=s.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?s.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,i,n){var s=this.$markerId++,o={range:e,type:i||"line",renderer:"function"==typeof i?i:null,clazz:t,inFront:!!n,id:s};return n?(this.$frontMarkers[s]=o,this._signal("changeFrontMarker")):(this.$backMarkers[s]=o,this._signal("changeBackMarker")),s},this.addDynamicMarker=function(e,t){if(e.update){var i=this.$markerId++;return e.id=i,e.inFront=!!t,t?(this.$frontMarkers[i]=e,this._signal("changeFrontMarker")):(this.$backMarkers[i]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,i,n){"number"!=typeof t&&(i=t,t=e),i||(i="ace_step");var s=new h(e,0,t,1/0);return s.id=this.addMarker(s,i,"fullLine",n),s},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var i=this.getLine(e),n=!1;if(t>0&&(n=!!i.charAt(t-1).match(this.tokenRe)),n||(n=!!i.charAt(t).match(this.tokenRe)),n)var s=this.tokenRe;else s=/^\s+$/.test(i.slice(t-1,t+1))?/\s/:this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&i.charAt(o).match(s));o++}for(var r=t;r<i.length&&i.charAt(r).match(s);)r++;return new h(e,o,e,r)},this.getAWordRange=function(e,t){for(var i=this.getWordRange(e,t),n=this.getLine(i.end.row);n.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=r.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var i=e,n=i.path}else n=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[n]&&!i)return this.$onChangeMode(this.$modes[n]),void(t&&t());this.$modeId=n,r.loadModule(["mode",n],function(e){if(this.$modeId!==n)return t&&t();this.$modes[n]&&!i?this.$onChangeMode(this.$modes[n]):e&&e.Mode&&(e=new e.Mode(i),i||(this.$modes[n]=e,e.$id=n),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var i=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.on){var s=this.onReloadTokenizer.bind(this);n.on("update",s)}this.bgTokenizer.setTokenizer(n),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:i,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){r.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),i=this.$rowLengthCache,n=0,s=0,o=this.$foldData[s],r=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>r){if((l=o.end.row+1)>=a)break;r=(o=this.$foldData[s++])?o.start.row:1/0}null==i[l]&&(i[l]=this.$getStringScreenWidth(t[l])[0]),i[l]>n&&(n=i[l])}this.screenWidth=n}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=e.length-1;-1!=i;i--){var n=e[i];"insert"==n.action||"remove"==n.action?this.doc.revertDelta(n):n.folds&&this.addFolds(n.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=0;i<e.length;i++){var n=e[i];"insert"!=n.action&&"remove"!=n.action||this.doc.$safeApplyDelta(n)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function i(e){return t?"insert"!==e.action:"insert"===e.action}for(var n,s,o=0;o<e.length;o++){var r=e[o];r.start&&(n?i(r)?(s=r.start,-1==n.compare(s.row,s.column)&&n.setStart(s),s=r.end,1==n.compare(s.row,s.column)&&n.setEnd(s)):(s=r.start,-1==n.compare(s.row,s.column)&&(n=h.fromPoints(r.start,r.start))):n=i(r)?h.fromPoints(r.start,r.end):h.fromPoints(r.start,r.start))}return n},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,i){var n=this.getTextRange(e),s=this.getFoldsInRange(e),o=h.fromPoints(t,t);if(!i){this.remove(e);var r=e.start.row-e.end.row;(c=r?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=c),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=c)),r&&o.start.row>=e.end.row&&(o.start.row+=r,o.end.row+=r)}if(o.end=this.insert(o.start,n),s.length){var a=e.start,l=o.start,c=(r=l.row-a.row,l.column-a.column);this.addFolds(s.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=c),e.end.row==a.row&&(e.end.column+=c),e.start.row+=r,e.end.row+=r,e})))}return o},this.indentRows=function(e,t,i){i=i.replace(/\t/g,this.getTabString());for(var n=e;n<=t;n++)this.doc.insertInLine({row:n,column:0},i)},this.outdentRows=function(e){for(var t=e.collapseRows(),i=new h(0,0,0,0),n=this.getTabSize(),s=t.start.row;s<=t.end.row;++s){var o=this.getLine(s);i.start.row=s,i.end.row=s;for(var r=0;r<n&&" "==o.charAt(r);++r);r<n&&"\t"==o.charAt(r)?(i.start.column=r,i.end.column=r+1):(i.start.column=0,i.end.column=r),this.remove(i)}},this.$moveLines=function(e,t,i){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),i<0){if((s=this.getRowFoldStart(e+i))<0)return 0;var n=s-e}else if(i>0){var s;if((s=this.getRowFoldEnd(t+i))>this.doc.getLength()-1)return 0;n=s-t}else e=this.$clipRowToDocument(e),n=(t=this.$clipRowToDocument(t))-e+1;var o=new h(e,0,t,Number.MAX_VALUE),r=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=n,e.end.row+=n,e})),a=0==i?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+n,a),r.length&&this.addFolds(r),n},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var i=this.doc.getLength();e>=i?(e=i-1,t=this.doc.getLine(i-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var i=this.$wrapLimitRange;i.max<0&&(i={min:t,max:t});var n=this.$constrainWrapLimit(e,i.min,i.max);return n!=this.$wrapLimit&&n>1&&(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,i){return t&&(e=Math.max(t,e)),i&&(e=Math.min(i,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,i=e.action,n=e.start,s=e.end,o=n.row,r=s.row,a=r-o,l=null;if(this.$updating=!0,0!=a)if("remove"===i){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var h=0;if(g=this.getFoldLine(s.row)){g.addRemoveChars(s.row,s.column,n.column-s.column),g.shiftRow(-a);var d=this.getFoldLine(o);d&&d!==g&&(d.merge(g),g=d),h=c.indexOf(g)+1}for(;h<c.length;h++)(g=c[h]).start.row>=s.row&&g.shiftRow(-a);r=o}else{var u=Array(a);u.unshift(o,0);var f=t?this.$wrapData:this.$rowLengthCache;if(f.splice.apply(f,u),c=this.$foldData,h=0,g=this.getFoldLine(o)){var p=g.range.compareInside(n.row,n.column);0==p?(g=g.split(n.row,n.column))&&(g.shiftRow(a),g.addRemoveChars(r,0,s.column-n.column)):-1==p&&(g.addRemoveChars(o,0,s.column-n.column),g.shiftRow(a)),h=c.indexOf(g)+1}for(;h<c.length;h++){var g;(g=c[h]).start.row>=o&&g.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===i&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(g=this.getFoldLine(o))&&g.addRemoveChars(o,n.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,r):this.$updateRowLengthCache(o,r),l},this.$updateRowLengthCache=function(e,t,i){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(i,n){var s,o,r=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,h=i;for(n=Math.min(n,r.length-1);h<=n;)(o=this.getFoldLine(h,o))?(s=[],o.walk(function(i,n,o,a){var l;if(null!=i){(l=this.$getDisplayTokens(i,s.length))[0]=e;for(var c=1;c<l.length;c++)l[c]=t}else l=this.$getDisplayTokens(r[n].substring(a,o),s.length);s=s.concat(l)}.bind(this),o.end.row,r[o.end.row].length+1),l[o.start.row]=this.$computeWrapSplits(s,c,a),h=o.end.row+1):(s=this.$getDisplayTokens(r[h]),l[h]=this.$computeWrapSplits(s,c,a),h++)};var e=3,t=4,i=10,o=11,l=12;function d(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(n,s,r){if(0==n.length)return[];var a=[],c=n.length,h=0,d=0,u=this.$wrapAsCode,f=this.$indentedSoftWrap,p=s<=Math.max(2*r,8)||!1===f?0:Math.floor(s/2);function g(e){for(var t=e-h,s=h;s<e;s++){var c=n[s];12!==c&&2!==c||(t-=1)}a.length||(m=function(){var e=0;if(0===p)return e;if(f)for(var t=0;t<n.length;t++){var s=n[t];if(s==i)e+=1;else{if(s!=o){if(s==l)continue;break}e+=r}}return u&&!1!==f&&(e+=r),Math.min(e,p)}(),a.indent=m),d+=t,a.push(d),h=e}for(var m=0;c-h>s-m;){var b=h+s-m;if(n[b-1]>=i&&n[b]>=i)g(b);else if(n[b]!=e&&n[b]!=t){for(var v=Math.max(b-(s-(s>>2)),h-1);b>v&&n[b]<e;)b--;if(u){for(;b>v&&n[b]<e;)b--;for(;b>v&&9==n[b];)b--}else for(;b>v&&n[b]<i;)b--;b>v?g(++b):(2==n[b=h+s]&&b--,g(b-m))}else{for(;b!=h-1&&n[b]!=e;b--);if(b>h){g(b);continue}for(b=h+s;b<n.length&&n[b]==t;b++);if(b==n.length)break;g(b)}}return a},this.$getDisplayTokens=function(e,t){var n,s=[];t=t||0;for(var r=0;r<e.length;r++){var a=e.charCodeAt(r);if(9==a){n=this.getScreenTabSize(s.length+t),s.push(o);for(var c=1;c<n;c++)s.push(l)}else 32==a?s.push(i):a>39&&a<48||a>57&&a<64?s.push(9):a>=4352&&d(a)?s.push(1,2):s.push(1)}return s},this.$getStringScreenWidth=function(e,t,i){if(0==t)return[0,0];var n,s;for(null==t&&(t=1/0),i=i||0,s=0;s<e.length&&(9==(n=e.charCodeAt(s))?i+=this.getScreenTabSize(i):n>=4352&&d(n)?i+=2:i+=1,!(i>t));s++);return[i,s]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),i=this.$wrapData[t.row];return i.length&&i[0]<t.column?i.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var i=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(i)},this.getDocumentLastRowColumnPosition=function(e,t){var i=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,i){if(e<0)return{row:0,column:0};var n,s,o=0,r=0,a=0,l=0,c=this.$screenRowCache,h=this.$getRowCacheIndex(c,e),d=c.length;if(d&&h>=0){a=c[h],o=this.$docRowCache[h];var u=e>c[d-1]}else u=!d;for(var f=this.getLength()-1,p=this.getNextFoldLine(o),g=p?p.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(o))>e||o>=f);)a+=l,++o>g&&(o=p.end.row+1,g=(p=this.getNextFoldLine(o,p))?p.start.row:1/0),u&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(p&&p.start.row<=o)n=this.getFoldDisplayLine(p),o=p.start.row;else{if(a+l<=e||o>f)return{row:f,column:this.getLine(f).length};n=this.getLine(o),p=null}var m=0,b=Math.floor(e-a);if(this.$useWrapMode){var v=this.$wrapData[o];v&&(s=v[b],b>0&&v.length&&(m=v.indent,r=v[b-1]||v[v.length-1],n=n.substring(r)))}return void 0!==i&&this.$bidiHandler.isBidiRow(a+b,o,b)&&(t=this.$bidiHandler.offsetToCol(i)),r+=this.$getStringScreenWidth(n,t-m)[1],this.$useWrapMode&&r>=s&&(r=s-1),p?p.idxToPosition(r):{row:o,column:r}},this.documentToScreenPosition=function(e,t){if(void 0===t)var i=this.$clipPositionToDocument(e.row,e.column);else i=this.$clipPositionToDocument(e,t);e=i.row,t=i.column;var n,s=0,o=null;(n=this.getFoldAt(e,t,1))&&(e=n.start.row,t=n.start.column);var r,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),h=l.length;if(h&&c>=0){a=l[c],s=this.$screenRowCache[c];var d=e>l[h-1]}else d=!h;for(var u=this.getNextFoldLine(a),f=u?u.start.row:1/0;a<e;){if(a>=f){if((r=u.end.row+1)>e)break;f=(u=this.getNextFoldLine(r,u))?u.start.row:1/0}else r=a+1;s+=this.getRowLength(a),a=r,d&&(this.$docRowCache.push(a),this.$screenRowCache.push(s))}var p="";u&&a>=f?(p=this.getFoldDisplayLine(u,e,t),o=u.start.row):(p=this.getLine(e).substring(0,t),o=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[o];if(m){for(var b=0;p.length>=m[b];)s++,b++;p=p.substring(m[b-1]||0,p.length),g=b>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(s+=this.lineWidgets[a].rowsAbove),{row:s,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var i=this.$wrapData.length,n=0,s=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);n<i;){var o=this.$wrapData[n];e+=o?o.length+1:1,++n>s&&(n=t.end.row+1,s=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var r=this.$foldData,a=0;a<r.length;a++)e-=(t=r[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,i,n){if(0===i)return[0,0];var s,o;for(i||(i=1/0),n=n||0,o=0;o<t.length&&!((n+="\t"===(s=t.charAt(o))?this.getScreenTabSize(n):e.getCharacterWidth(s))>i);o++);return[n,o]})},this.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=d}.call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),r.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=p})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,i){"use strict";var n=e("./lib/lang"),s=e("./lib/oop"),o=e("./range").Range,r=function(){this.$options={}};(function(){this.set=function(e){return s.mixin(this.$options,e),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,i=this.$matchIterator(e,t);if(!i)return!1;var n=null;return i.forEach((function(e,i,s,r){return n=new o(e,i,s,r),!(i==r&&t.start&&t.start.start&&0!=t.skipCurrent&&n.isEqual(t.start)&&(n=null,1))})),n},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,s=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),r=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,h=s.length-c;e:for(var d=a.offset||0;d<=h;d++){for(var u=0;u<c;u++)if(-1==s[d+u].search(a[u]))continue e;var f=s[d],p=s[d+c-1],g=f.length-f.match(a[0])[0].length,m=p.match(a[c-1])[0].length;l&&l.end.row===d&&l.end.column>g||(r.push(l=new o(d,g,d+c-1,m)),c>2&&(d=d+c-2))}}else for(var b=0;b<s.length;b++){var v=n.getMatchOffsets(s[b],a);for(u=0;u<v.length;u++){var w=v[u];r.push(new o(b,w.offset,b,w.offset+w.length))}}if(i){var y=i.start.column,x=i.end.column;for(b=0,u=r.length-1;b<u&&r[b].start.column<y&&0==r[b].start.row;)b++;for(var k=i.end.row-i.start.row;b<u&&r[u].end.column>x&&r[u].end.row==k;)u--;for(r=r.slice(b,u+1),b=0,u=r.length;b<u;b++)r[b].start.row+=i.start.row,r[b].end.row+=i.start.row}return r},this.replace=function(e,t){var i=this.$options,n=this.$assembleRegExp(i);if(i.$isMultiLine)return t;if(n){var s=n.exec(e);if(!s||s[0].length!=e.length)return null;if(t=e.replace(n,t),i.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var r=e[o];r&&r.toLowerCase()!=r?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=n.escapeRegExp(i)),e.wholeWord&&(i=function(e,t){function i(e){return/\w/.test(e)||t.regExp?"\\b":""}return i(e[0])+e+i(e[e.length-1])}(i,e));var s=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,s);try{var o=new RegExp(i,s)}catch(e){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var i=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),n=[],s=0;s<i.length;s++)try{n.push(new RegExp(i[s],t))}catch(e){return!1}return n},this.$matchIterator=function(e,t){var i=this.$assembleRegExp(t);if(!i)return!1;var n=1==t.backwards,s=0!=t.skipCurrent,o=t.range,r=t.start;r||(r=o?o[n?"end":"start"]:e.selection.getRange()),r.start&&(r=r[s!=n?"end":"start"]);var a=o?o.start.row:0,l=o?o.end.row:e.getLength()-1;if(n)var c=function(e){var i=r.row;if(!d(i,r.column,e)){for(i--;i>=a;i--)if(d(i,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(i=l,a=r.row;i>=a;i--)if(d(i,Number.MAX_VALUE,e))return}};else c=function(e){var i=r.row;if(!d(i,r.column,e)){for(i+=1;i<=l;i++)if(d(i,0,e))return;if(0!=t.wrap)for(i=a,l=r.row;i<=l;i++)if(d(i,0,e))return}};if(t.$isMultiLine)var h=i.length,d=function(t,s,o){var r=n?t-h+1:t;if(!(r<0||r+h>e.getLength())){var a=e.getLine(r),l=a.search(i[0]);if(!(!n&&l<s||-1===l)){for(var c=1;c<h;c++)if(-1==(a=e.getLine(r+c)).search(i[c]))return;var d=a.match(i[h-1])[0].length;if(!(n&&d>s))return!!o(r,l,r+h-1,d)||void 0}}};else d=n?function(t,n,s){var o,r=e.getLine(t),a=[],l=0;for(i.lastIndex=0;o=i.exec(r);){var c=o[0].length;if(l=o.index,!c){if(l>=r.length)break;i.lastIndex=l+=1}if(o.index+c>n)break;a.push(o.index,c)}for(var h=a.length-1;h>=0;h-=2){var d=a[h-1];if(s(t,d,t,d+(c=a[h])))return!0}}:function(t,n,s){var o,r,a=e.getLine(t);for(i.lastIndex=n;r=i.exec(a);){var l=r[0].length;if(s(t,o=r.index,t,o+l))return!0;if(!l&&(i.lastIndex=o+=1,o>=a.length))return!1}};return{forEach:c}}}).call(r.prototype),t.Search=r})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,i){"use strict";var n=e("../lib/keys"),s=e("../lib/useragent"),o=n.KEY_MODS;function r(e,t){this.platform=t||(s.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function a(e,t){r.call(this,e,t),this.$singleCommand=!1}a.prototype=r.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var i=e&&("string"==typeof e?e:e.name);e=this.commands[i],t||delete this.commands[i];var n=this.commandKeyBinding;for(var s in n){var o=n[s];if(o==e)delete n[s];else if(Array.isArray(o)){var r=o.indexOf(e);-1!=r&&(o.splice(r,1),1==o.length&&(n[s]=o[0]))}}},this.bindKey=function(e,t,i){if("object"==typeof e&&e&&(null==i&&(i=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var n="";if(-1!=e.indexOf(" ")){var s=e.split(/\s+/);e=s.pop(),s.forEach((function(e){var t=this.parseKeys(e),i=o[t.hashId]+t.key;n+=(n?" ":"")+i,this._addCommandToBinding(n,"chainKeys")}),this),n+=" "}var r=this.parseKeys(e),a=o[r.hashId]+r.key;this._addCommandToBinding(n+a,t,i)}),this)},this._addCommandToBinding=function(t,i,n){var s,o=this.commandKeyBinding;if(i)if(!o[t]||this.$singleCommand)o[t]=i;else{Array.isArray(o[t])?-1!=(s=o[t].indexOf(i))&&o[t].splice(s,1):o[t]=[o[t]],"number"!=typeof n&&(n=e(i));var r=o[t];for(s=0;s<r.length&&!(e(r[s])>n);s++);r.splice(s,0,i)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var i=e[t];if(i){if("string"==typeof i)return this.bindKey(i,t);"function"==typeof i&&(i={exec:i}),"object"==typeof i&&(i.name||(i.name=t),this.addCommand(i))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),i=t.pop(),s=n[i];if(n.FUNCTION_KEYS[s])i=n.FUNCTION_KEYS[s].toLowerCase();else{if(!t.length)return{key:i,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:i.toUpperCase(),hashId:-1}}for(var o=0,r=t.length;r--;){var a=n.KEY_MODS[t[r]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[r]+" in "+e),!1;o|=a}return{key:i,hashId:o}},this.findKeyCommand=function(e,t){var i=o[e]+t;return this.commandKeyBinding[i]},this.handleKeyboard=function(e,t,i,n){if(!(n<0)){var s=o[t]+i,r=this.commandKeyBinding[s];return e.$keyChain&&(e.$keyChain+=" "+s,r=this.commandKeyBinding[e.$keyChain]||r),!r||"chainKeys"!=r&&"chainKeys"!=r[r.length-1]?(e.$keyChain&&(t&&4!=t||1!=i.length?(-1==t||n>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-s.length-1)),{command:r}):(e.$keyChain=e.$keyChain||s,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(r.prototype),t.HashHandler=r,t.MultiHashHandler=a})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,i){"use strict";var n=e("../lib/oop"),s=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,r=function(e,t){s.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)}))};n.inherits(r,s),function(){n.implement(this,o),this.exec=function(e,t,i){if(Array.isArray(e)){for(var n=e.length;n--;)if(this.exec(e[n],t,i))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var s={editor:t,command:e,args:i};return s.returnValue=this._emit("exec",s),this._signal("afterExec",s),!1!==s.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(r.prototype),t.CommandManager=r})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,i){"use strict";var n=e("../lib/lang"),s=e("../config"),o=e("../range").Range;function r(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:r("Ctrl-,","Command-,"),exec:function(e){s.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:r("Alt-E","F4"),exec:function(e){s.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:r("Alt-Shift-E","Shift-F4"),exec:function(e){s.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:r("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:r(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:r("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:r("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:r("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:r("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:r("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:r(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:r(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:r("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:r("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:r("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:r("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:r("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:r("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:r("Ctrl-F","Command-F"),exec:function(e){s.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:r("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:r("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:r("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:r("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:r("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:r("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:r("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:r("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:r("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:r("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:r("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:r("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:r("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:r("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:r("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:r("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:r("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:r("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:r("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:r("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:r(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:r("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:r(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:r("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:r("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:r("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:r("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:r("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:r("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:r("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:r(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:r("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:r("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:r("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:r("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:r("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:r("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:r("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:r("Ctrl-H","Command-Option-F"),exec:function(e){s.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:r("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:r("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:r("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:r("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:r("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:r("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:r("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:r("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:r("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:r("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:r("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:r("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:r("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:r("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:r("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:r("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:r("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:r("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:r("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(n.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:r(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:r("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:r("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:r("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:r(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:r("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:r("Ctrl+F3","F3"),exec:function(e){e.openLink()}},{name:"joinlines",description:"Join lines",bindKey:r(null,null),exec:function(e){for(var t=e.selection.isBackwards(),i=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),s=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),r=e.session.doc.getLine(i.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(i.row),c=i.row+1;c<=s.row+1;c++){var h=n.stringTrimLeft(n.stringTrimRight(e.session.doc.getLine(c)));0!==h.length&&(h=" "+h),l+=h}s.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(i.row,0,s.row+2,0),l),a>0?(e.selection.moveCursorTo(i.row,i.column),e.selection.selectTo(i.row,i.column+a)):(r=e.session.doc.getLine(i.row).length>r?r+1:r,e.selection.moveCursorTo(i.row,r))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:r(null,null),exec:function(e){var t=e.session.doc.getLength()-1,i=e.session.doc.getLine(t).length,n=e.selection.rangeList.ranges,s=[];n.length<1&&(n=[e.selection.getRange()]);for(var r=0;r<n.length;r++)r==n.length-1&&(n[r].end.row===t&&n[r].end.column===i||s.push(new o(n[r].end.row,n[r].end.column,t,i))),0===r?0===n[r].start.row&&0===n[r].start.column||s.push(new o(0,0,n[r].start.row,n[r].start.column)):s.push(new o(n[r-1].end.row,n[r-1].end.column,n[r].start.row,n[r].start.column));for(e.exitMultiSelectMode(),e.clearSelection(),r=0;r<s.length;r++)e.selection.addRange(s[r],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:r("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:r(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,i){"use strict";var n=e("./lib/dom");function s(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var i=this.session.lineWidgets;i&&i.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var i=t.lineWidgets;if(i&&e.action){for(var n=e.data,s=n.start.row,o=n.end.row,r="add"==e.action,a=s+1;a<o;a++)i[a]&&(i[a].hidden=r);i[o]&&(r?i[s]?i[o].hidden=r:i[s]=i[o]:(i[s]==i[o]&&(i[s]=void 0),i[o].hidden=r))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var i=e.start.row,n=e.end.row-i;if(0===n);else if("remove"==e.action){var s=t.splice(i+1,n);!t[i]&&s[s.length-1]&&(t[i]=s.pop()),s.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(n);t[i]&&null!=t[i].column&&e.start.column>t[i].column&&i++,o.unshift(i,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,i){if(e)for(t=!1,e.row=i;e.$oldWidget;)e.$oldWidget.row=i,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=n.createElement("div"),e.el.innerHTML=e.html),e.text&&!e.el&&(e.el=n.createElement("div"),e.el.textContent=e.text),e.el&&(n.addCssClass(e.el,"ace_lineWidgetContainer"),e.className&&n.addCssClass(e.el,e.className),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var i=this.session.getFoldAt(e.row,0);if(e.$fold=i,i){var s=this.session.lineWidgets;e.row!=i.end.row||s[i.start.row]?e.hidden=!0:s[i.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,i=t&&t[e],n=[];i;)n.push(i),i=i.$oldWidget;return n},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var i=this.session._changedWidgets,n=t.layerConfig;if(i&&i.length){for(var s=1/0,o=0;o<i.length;o++){var r=i[o];if(r&&r.el&&r.session==this.session){if(!r._inDocument){if(this.session.lineWidgets[r.row]!=r)continue;r._inDocument=!0,t.container.appendChild(r.el)}r.h=r.el.offsetHeight,r.fixedWidth||(r.w=r.el.offsetWidth,r.screenWidth=Math.ceil(r.w/n.characterWidth));var a=r.h/n.lineHeight;r.coverLine&&(a-=this.session.getRowLineCount(r.row))<0&&(a=0),r.rowCount!=a&&(r.rowCount=a,r.row<s&&(s=r.row))}}s!=1/0&&(this.session._emit("changeFold",{data:{start:{row:s}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var i=t.layerConfig,n=this.session.lineWidgets;if(n){for(var s=Math.min(this.firstRow,i.firstRow),o=Math.max(this.lastRow,i.lastRow,n.length);s>0&&!n[s];)s--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,t.$cursorLayer.config=i;for(var r=s;r<=o;r++){var a=n[r];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:r,column:0},!0).top;a.coverLine||(l+=i.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-i.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=i.width+2*i.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(s.prototype),t.LineWidgets=s})),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/clipboard"],(function(e,t,i){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=e("./lib/oop"),o=e("./lib/dom"),r=e("./lib/lang"),a=e("./lib/useragent"),l=e("./keyboard/textinput").TextInput,c=e("./mouse/mouse_handler").MouseHandler,h=e("./mouse/fold_handler").FoldHandler,d=e("./keyboard/keybinding").KeyBinding,u=e("./edit_session").EditSession,f=e("./search").Search,p=e("./range").Range,g=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,b=e("./commands/default_commands").commands,v=e("./config"),w=e("./token_iterator").TokenIterator,y=e("./line_widgets").LineWidgets,x=e("./clipboard"),k=function(e,t,i){this.$toDestroy=[];var n=e.getContainerElement();this.container=n,this.renderer=e,this.id="editor"+ ++k.$uid,this.commands=new m(a.isMac?"mac":"win",b),"object"==typeof document&&(this.textInput=new l(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new c(this),new h(this)),this.keyBinding=new d(this),this.$search=(new f).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||i&&i.session||new u("")),v.resetOptions(this),i&&this.setOptions(i),v._signal("editor",this)};k.$uid=0,function(){s.implement(this,g),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,i=t&&t.scrollIntoView;if(i){switch(i){case"center-animate":i="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),s=this.renderer.layerConfig;(n.start.row>=s.lastRow||n.end.row<=s.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==i&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,i=this.$mergeableCommands,n=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var s=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(s)||/\s/.test(t.args)),this.mergeNextCommand=!0}else n=n&&-1!==i.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(n=!1),n?this.session.mergeUndoDeltas=!0:-1!==i.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var i=this;v.loadModule(["keybinding",e],(function(n){i.$keybindingId==e&&i.keyBinding.setKeyboardHandler(n&&n.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var i=this.session.getSelection();i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||o.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&!t.destroyed){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var i=e.getCursorPosition(),n=e.getKeyboardHandler(),s=n&&n.$getDirectionForHighlight&&n.$getDirectionForHighlight(e),o=t.getMatchingBracketRanges(i,s);if(!o){var r=new w(t,i.row,i.column).getCurrentToken();if(r&&/\b(?:tag-open|tag-name)/.test(r.type)){var a=t.getMatchingTags(i);a&&(o=[a.openTagName,a.closeTagName])}}if(!o&&t.$mode.getMatching&&(o=t.$mode.getMatching(e.session)),o){var l="ace_bracket";Array.isArray(o)?1==o.length&&(l="ace_error_bracket"):o=[o],2==o.length&&(0==p.comparePoints(o[0].end,o[1].start)?o=[p.fromPoints(o[0].start,o[1].end)]:0==p.comparePoints(o[0].start,o[1].end)&&(o=[p.fromPoints(o[1].start,o[0].end)])),t.$bracketHighlight={ranges:o,markerIds:o.map((function(e){return t.addMarker(e,l,"text")}))},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}else e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}}),50)}},this.focus=function(){this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,i=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,i,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var i=new p(e.row,e.column,e.row,1/0);i.id=t.addMarker(i,"ace_active-line","screenLine"),t.$highlightLineMarker=i}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var i=this.selection.getRange(),n=this.getSelectionStyle();t.$selectionMarker=t.addMarker(i,"ace_selection",n)}var s=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(s),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var i=t.start.column,n=t.end.column,s=e.getLine(t.start.row),o=s.substring(i,n);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var r=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=s.substring(i-1,n+1);if(r.test(a))return r}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),i=!1;if(!e&&this.$copyWithEmptySelection){i=!0;for(var n=this.selection.getAllRanges(),s=0;s<n.length;s++){var o=n[s];s&&n[s-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var r={text:e};return this._signal("copy",r),x.lineMode=!!i&&r.text,r.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var i={text:e,event:t};this.commands.exec("paste",this,i)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,i=t===x.lineMode,n=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)i?n.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(i)this.selection.rangeList.ranges.forEach((function(e){n.insert({row:e.start.row,column:0},t)}));else{var s=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges,r=!(2!=s.length||s[0]&&s[1]);if(s.length!=o.length||r)return this.commands.exec("insertstring",this,t);for(var a=o.length;a--;){var l=o[a];l.isEmpty()||n.remove(l),n.insert(l.start,s[a])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var i=this.session,n=i.getMode(),s=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=n.transformAction(i.getState(s.row),"insertion",this,i,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==e.indexOf("\n")&&((r=new p.fromPoints(s,s)).end.column+=e.length,this.session.remove(r));else{var r=this.getSelectionRange();s=this.session.remove(r),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=i.getLine(s.row);if(s.column>a.search(/\S|$/)){var l=a.substr(s.column).search(/\S|$/);i.doc.removeInLine(s.row,s.column,s.column+l)}}this.clearSelection();var c=s.column,h=i.getState(s.row),d=(a=i.getLine(s.row),n.checkOutdent(h,a,e));if(i.insert(s,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new p(s.row,c+o.selection[0],s.row,c+o.selection[1])):this.selection.setSelectionRange(new p(s.row+o.selection[0],o.selection[1],s.row+o.selection[2],o.selection[3]))),this.$enableAutoIndent){if(i.getDocument().isNewLine(e)){var u=n.getNextLineIndent(h,a.slice(0,s.column),i.getTabString());i.insert({row:s.row+1,column:0},u)}d&&n.autoOutdent(h,i,s.row)}},this.autoIndent=function(){var e,t,i=this.session,n=i.getMode();if(this.selection.isEmpty())e=0,t=i.doc.getLength()-1;else{var s=this.getSelectionRange();e=s.start.row,t=s.end.row}for(var o,r,a,l="",c="",h="",d=i.getTabString(),u=e;u<=t;u++)u>0&&(l=i.getState(u-1),c=i.getLine(u-1),h=n.getNextLineIndent(l,c,d)),o=i.getLine(u),h!==(r=n.$getIndent(o))&&(r.length>0&&(a=new p(u,0,u,r.length),i.remove(a)),h.length>0&&i.insert({row:u,column:0},h)),n.autoOutdent(l,i,u)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var i=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(i):i(),this.endOperation()},this.applyComposition=function(e,t){var i;(t.extendLeft||t.extendRight)&&((i=this.selection.getRange()).start.column-=t.extendLeft,i.end.column+=t.extendRight,i.start.column<0&&(i.start.row--,i.start.column+=this.session.getLine(i.start.row).length+1),this.selection.setRange(i),e||i.isEmpty()||this.remove()),!e&&this.selection.isEmpty()||this.insert(e,!0),(t.restoreStart||t.restoreEnd)&&((i=this.selection.getRange()).start.column-=t.restoreStart,i.end.column-=t.restoreEnd,this.selection.setRange(i))},this.onCommandKey=function(e,t,i){return this.keyBinding.onCommandKey(e,t,i)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setHighlightIndentGuides=function(e){this.renderer.setHighlightIndentGuides(e)},this.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var i=this.session,n=i.getState(t.start.row),s=i.getMode().transformAction(n,"deletion",this,i,t);if(0===t.end.column){var o=i.getTextRange(t);if("\n"==o[o.length-1]){var r=i.getLine(t.end.row);/^\s+$/.test(r)&&(t.end.column=r.length)}}s&&(t=s)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.setGhostText=function(e,t){this.session.widgetManager||(this.session.widgetManager=new y(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(e,t)},this.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var i,n,s=this.session.getLine(e.row);t<s.length?(i=s.charAt(t)+s.charAt(t-1),n=new p(e.row,t-1,e.row,t+1)):(i=s.charAt(t-1)+s.charAt(t-2),n=new p(e.row,t-2,e.row,t)),this.session.replace(n,i),this.session.selection.moveToPosition(n.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var i=e.getTextRange(t);if(!/^\s+$/.test(i))return h=this.$getSelectedRows(),void e.indentRows(h.first,h.last,"\t")}var n=e.getLine(t.start.row),s=t.start,o=e.getTabSize(),a=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var l=o-a%o,c=r.stringRepeat(" ",l);else{for(l=a%o;" "==n[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var h=this.$getSelectedRows();e.indentRows(h.first,h.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,i=[],n=e.first;n<=e.last;n++)i.push(t.getLine(n));i.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var s=new p(0,0,0,0);for(n=e.first;n<=e.last;n++){var o=t.getLine(n);s.start.row=n,s.end.row=n,s.end.column=o.length,t.replace(s,i[n-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,e)},this.getNumberAt=function(e,t){var i=/[\-]?[0-9]+(?:\.[0-9]+)?/g;i.lastIndex=0;for(var n=this.session.getLine(e);i.lastIndex<t;){var s=i.exec(n);if(s.index<=t&&s.index+s[0].length>=t)return{value:s[0],start:s.index,end:s.index+s[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,i=this.selection.getCursor().column,n=new p(t,i-1,t,i),s=this.session.getTextRange(n);if(!isNaN(parseFloat(s))&&isFinite(s)){var o=this.getNumberAt(t,i);if(o){var r=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-r,l=parseFloat(o.value);l*=Math.pow(10,a),r!==o.end&&i<r?e*=Math.pow(10,o.end-i-1):e*=Math.pow(10,o.end-i),l+=e;var c=(l/=Math.pow(10,a)).toFixed(a),h=new p(t,o.start,t,o.end);this.session.replace(h,c),this.moveCursorTo(t,Math.max(o.start+1,i+c.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var i=this.getSelectedText(),n=this.selection.getWordRange().start.column,s=i.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),o=t-n-1;o<0&&(o=0);var a=0,l=0,c=this;i.match(/[A-Za-z0-9_]+/)&&s.forEach((function(t,s){l=a+t.length,o>=a&&o<=l&&(i=t,c.selection.clearSelection(),c.moveCursorTo(e,a+n),c.selection.selectTo(e,l+n)),a=l}));for(var h,d=this.$toggleWordPairs,u=0;u<d.length;u++)for(var f=d[u],p=0;p<=1;p++){var g=+!p,m=i.match(new RegExp("^\\s?_?("+r.escapeRegExp(f[p])+")\\s?$","i"));m&&i.match(new RegExp("([_]|^|\\s)("+r.escapeRegExp(m[1])+")($|\\s)","g"))&&(h=i.replace(new RegExp(r.escapeRegExp(f[p]),"i"),(function(e){var t=f[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+f[g].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(h),h="")}},this.findLinkAt=function(e,t){var i,s,o=this.session.getLine(e).split(/((?:https?|ftp):\/\/[\S]+)/),r=t;r<0&&(r=0);var a,l=0,c=0;try{for(var h=n(o),d=h.next();!d.done;d=h.next()){var u=d.value;if(c=l+u.length,r>=l&&r<=c&&u.match(/((?:https?|ftp):\/\/[\S]+)/)){a=u.replace(/[\s:.,'";}\]]+$/,"");break}l=c}}catch(e){i={error:e}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return a},this.openLink=function(){var e=this.selection.getCursor(),t=this.findLinkAt(e.row,e.column);return t&&window.open(t,"_blank"),null!=t},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,i=e.getRange(),n=e.isBackwards();if(i.isEmpty()){var s=i.start.row;t.duplicateLines(s,s)}else{var o=n?i.start:i.end,r=t.insert(o,t.getTextRange(i),!1);i.start=o,i.end=r,e.setSelectionRange(i,n)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,i){return this.session.moveText(e,t,i)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var i,n,s=this.selection;if(!s.inMultiSelectMode||this.inVirtualSelectionMode){var o=s.toOrientedRange();i=this.$getSelectedRows(o),n=this.session.$moveLines(i.first,i.last,t?0:e),t&&-1==e&&(n=0),o.moveBy(n,0),s.fromOrientedRange(o)}else{var r=s.rangeList.ranges;s.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=r.length,h=0;h<c;h++){var d=h;r[h].moveBy(a,0);for(var u=(i=this.$getSelectedRows(r[h])).first,f=i.last;++h<c;){l&&r[h].moveBy(l,0);var p=this.$getSelectedRows(r[h]);if(t&&p.first!=f)break;if(!t&&p.first>f+1)break;f=p.last}for(h--,a=this.session.$moveLines(u,f,t?0:e),t&&-1==e&&(d=h+1);d<=h;)r[d].moveBy(a,0),d++;t||(a=0),l+=a}s.fromOrientedRange(s.ranges[0]),s.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var i=this.renderer,n=this.renderer.layerConfig,s=e*Math.floor(n.height/n.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(s,0)})):!1===t&&(this.selection.moveCursorBy(s,0),this.selection.clearSelection());var o=i.scrollTop;i.scrollBy(0,s*n.lineHeight),null!=t&&i.scrollCursorIntoView(null,.5),i.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,i,n){this.renderer.scrollToLine(e,t,i,n)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var i=this.getCursorPosition(),n=new w(this.session,i.row,i.column),s=n.getCurrentToken(),o=0;s&&-1!==s.type.indexOf("tag-name")&&(s=n.stepBackward());var r=s||n.stepForward();if(r){var a,l,c=!1,h={},d=i.column-r.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(r.value.match(/[{}()\[\]]/g)){for(;d<r.value.length&&!c;d++)if(u[r.value[d]])switch(l=u[r.value[d]]+"."+r.type.replace("rparen","lparen"),isNaN(h[l])&&(h[l]=0),r.value[d]){case"(":case"[":case"{":h[l]++;break;case")":case"]":case"}":h[l]--,-1===h[l]&&(a="bracket",c=!0)}}else-1!==r.type.indexOf("tag-name")&&(isNaN(h[r.value])&&(h[r.value]=0),"<"===s.value&&o>1?h[r.value]++:"</"===s.value&&h[r.value]--,-1===h[r.value]&&(a="tag",c=!0));c||(s=r,o++,r=n.stepForward(),d=0)}while(r&&!c);if(a){var f,g;if("bracket"===a)(f=this.session.getBracketRange(i))||(g=(f=new p(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+d-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+d-1)).start,(t||g.row===i.row&&Math.abs(g.column-i.column)<2)&&(f=this.session.getBracketRange(g)));else if("tag"===a){if(!r||-1===r.type.indexOf("tag-name"))return;if(0===(f=new p(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2)).compare(i.row,i.column)){var m=this.session.getMatchingTags(i);m&&(m.openTag.contains(i.row,i.column)?g=(f=m.closeTag).start:(f=m.openTag,g=m.closeTag.start.row===i.row&&m.closeTag.start.column===i.column?f.end:f.start))}g=g||f.start}(g=f&&f.cursor||g)&&(e?f&&t?this.selection.setRange(f):f&&f.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(g.row,g.column):this.selection.moveTo(g.row,g.column))}}},this.gotoLine=function(e,t,i){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,i)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var i=this.$search.find(this.session),n=0;return i?(this.$tryReplace(i,e)&&(n=1),this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end),n):n},this.replaceAll=function(e,t){t&&this.$search.set(t);var i=this.$search.findAll(this.session),n=0;if(!i.length)return n;var s=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=i.length-1;o>=0;--o)this.$tryReplace(i[o],e)&&n++;return this.selection.setSelectionRange(s),n},this.$tryReplace=function(e,t){var i=this.session.getTextRange(e);return null!==(t=this.$search.replace(i,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&s.mixin(t,e);var n=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(n)||this.$search.$options.needle)||(n=this.session.getWordRange(n.start.row,n.start.column),e=this.session.getTextRange(n)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:n});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,i),o):(t.backwards?n.start=n.end:n.end=n.start,void this.selection.setRange(n))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(i)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,i=this,n=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var s=this.$scrollAnchor;s.style.cssText="position:absolute",this.container.insertBefore(s,this.container.firstChild);var o=this.on("changeSelection",(function(){n=!0})),r=this.renderer.on("beforeRender",(function(){n&&(t=i.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(n&&t&&(i.isFocused()||i.searchBox&&i.searchBox.isFocused())){var e=i.renderer,o=e.$cursorLayer.$pixelPos,r=e.layerConfig,a=o.top-r.offset;null!=(n=o.top>=0&&a+t.top<0||!(o.top<r.height&&o.top+t.top+r.lineHeight>window.innerHeight)&&null)&&(s.style.top=a+"px",s.style.left=o.left+"px",s.style.height=r.lineHeight+"px",s.scrollIntoView(n)),n=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",r))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,o.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,i){var n=this;v.loadModule("ace/ext/prompt",(function(s){s.prompt(n,e,t,i)}))}}.call(k.prototype),v.defineOptions(k.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?_.attach(this):_.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?_.attach(this):_.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),o.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),o.addCssClass(this.container,"ace_hasPlaceholder");var t=o.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var _={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"·":""))+""},getWidth:function(e,t,i){return Math.max(t.toString().length,(i.lastRow+1).toString().length,2)*i.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=k})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,i){"use strict";var n=function(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,i){if(!this.$fromUndo&&e!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===t||!this.lastDeltas){this.lastDeltas=[];var n=this.$undoStack.length;n>this.$undoDepth-1&&this.$undoStack.splice(0,n-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e)}},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,n=i.length;n--;){var s=i[n][0];if(s.id<=e)break;s.id<t&&(s.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var i=this.selections,n=i.length;n--;){var s=i[n];if(s.rev<e)return t&&(s=i[n+1]),s}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,n=null,s=0,o=i.length;o--;){var r=i[o][0];if(r.id<t&&!n&&(n=o+1),r.id<=e){s=o+1;break}}return i.slice(s,n)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var i=this.$undoStack;if(function(e,t){for(var i=t;i--;){var n=e[i];if(n&&!n[0].ignore){for(;i<t-1;){var s=h(e[i],e[i+1]);e[i]=s[0],e[i+1]=s[1],i++}return!0}}}(i,i.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var n=i.pop(),s=null;return n&&(s=e.undoChanges(n,t),this.$redoStack.push(n),this.$syncRev()),this.$fromUndo=!1,s}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var i=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var i=0;i<t.length;i++)for(var n=t[i],s=0;s<n.length;s++)g(e,n[s])}(this.$redoStack,i),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var n=this.$redoStack.pop(),s=null;return n&&(s=e.redoChanges(n,t),this.$undoStack.push(n),this.$syncRev()),this.$fromUndo=!1,s},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],i=t&&t[0].id||0;this.$redoStackBaseRev=i,this.$rev=i},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?a(e):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)}}).call(n.prototype);var s=e("./range").Range,o=s.comparePoints;function r(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join("\n"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function l(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function c(e,t){var i="insert"==e.action,n="insert"==t.action;if(i&&n)if(o(t.start,e.end)>=0)u(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;u(e,t,1)}else if(i&&!n)if(o(t.start,e.end)>=0)u(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;u(e,t,-1)}else if(!i&&n)if(o(t.start,e.start)>=0)u(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;u(e,t,1)}else if(!i&&!n)if(o(t.start,e.start)>=0)u(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;u(e,t,-1)}return[t,e]}function h(e,t){for(var i=e.length;i--;)for(var n=0;n<t.length;n++)if(!c(e[i],t[n])){for(;i<e.length;){for(;n--;)c(t[n],e[i]);n=t.length,i++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function d(e,t){var i="insert"==e.action,n="insert"==t.action;if(i&&n)o(e.start,t.start)<0?u(t,e,1):u(e,t,1);else if(i&&!n)o(e.start,t.end)>=0?u(e,t,-1):(o(e.start,t.start)<=0||u(e,s.fromPoints(t.start,e.start),-1),u(t,e,1));else if(!i&&n)o(t.start,e.end)>=0?u(t,e,-1):(o(t.start,e.start)<=0||u(t,s.fromPoints(e.start,t.start),-1),u(e,t,1));else if(!i&&!n)if(o(t.start,e.end)>=0)u(t,e,-1);else{var r,a;if(!(o(t.end,e.start)<=0))return o(e.start,t.start)<0&&(r=e,e=p(e,t.start)),o(e.end,t.end)>0&&(a=p(e,t.end)),f(t.end,e.start,e.end,-1),a&&!r&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,r,a].filter(Boolean);u(e,t,-1)}return[t,e]}function u(e,t,i){f(e.start,t.start,t.end,i),f(e.end,t.start,t.end,i)}function f(e,t,i,n){e.row==(1==n?t:i).row&&(e.column+=n*(i.column-t.column)),e.row+=n*(i.row-t.row)}function p(e,t){var i=e.lines,n=e.end;e.end=r(t);var s=e.end.row-e.start.row,o=i.splice(s,i.length),a=s?t.column:t.column-e.start.column;return i.push(o[0].substring(0,a)),o[0]=o[0].substr(a),{start:r(t),end:n,lines:o,action:e.action}}function g(e,t){t=function(e){return{start:r(e.start),end:r(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var i=e.length;i--;){for(var n=e[i],s=0;s<n.length;s++){var o=d(n[s],t);t=o[0],2!=o.length&&(o[2]?(n.splice(s+1,1,o[1],o[2]),s++):o[1]||(n.splice(s,1),s--))}n.length||e.splice(i,1)}return e}s.comparePoints,t.UndoManager=n})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,i){"use strict";var n=e("../lib/dom"),s=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){n.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,i){var n=t.firstRowScreen*t.lineHeight,s=Math.floor(n/this.canvasHeight);return i.documentToScreenRow(e,0)*t.lineHeight-s*this.canvasHeight},this.computeLineHeight=function(e,t,i){return t.lineHeight*i.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=n.createFragment(this.element),i=0;i<e.length;i++)t.appendChild(e[i].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=n.createFragment(this.element),i=0;i<e.length;i++)t.appendChild(e[i].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,i,s){var o=this.cellCache.pop();if(!o){var r=n.createElement("div");s&&s(r),this.element.appendChild(r),o={element:r,text:"",row:e}}return o.row=e,o}}).call(s.prototype),t.Lines=s})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(e,t,i){"use strict";var n=e("../lib/dom"),s=e("../lib/oop"),o=e("../lib/lang"),r=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,l=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function c(e){var t=document.createTextNode("");e.appendChild(t);var i=n.createElement("span");return e.appendChild(i),e}(function(){s.implement(this,r),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var i=e[t],n=i.row,s=this.$annotations[n];s||(s=this.$annotations[n]={text:[]});var r=i.text;r=r?o.escapeHTML(r):i.html||"",-1===s.text.indexOf(r)&&s.text.push(r);var a=i.type,l=i.className;l?s.className=l:"error"==a?s.className=" ace_error":"warning"==a&&" ace_error"!=s.className?s.className=" ace_warning":"info"!=a||s.className||(s.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,i=e.end.row-t;if(0===i);else if("remove"==e.action)this.$annotations.splice(t,i+1,null);else{var n=new Array(i+1);n.unshift(t,1),this.$annotations.splice.apply(this.$annotations,n)}}},this.update=function(e){this.config=e;var t=this.session,i=e.firstRow,n=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=n,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var s=t.getNextFoldLine(i),o=s?s.start.row:1/0,r=null,a=-1,l=i;;){if(l>o&&(l=s.end.row+1,o=(s=t.getNextFoldLine(l,s))?s.start.row:1/0),l>n){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(r=this.$lines.get(++a))?r.row=l:(r=this.$lines.createCell(l,e,this.session,c),this.$lines.push(r)),this.$renderCell(r,e,s,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,i=t.gutterRenderer||this.$renderer,n=t.$firstLineNumber,s=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(s=t.getLength()+n-1);var o=i?i.getWidth(t,s,e):s.toString().length*e.characterWidth,r=this.$padding||this.$computePadding();(o+=r.left+r.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var i=0;i<t.length;i++){var n=t[i];if(n.row>=this.$cursorRow){if(n.row>this.$cursorRow){var s=this.session.getFoldLine(this.$cursorRow);if(!(i>0&&s&&s.start.row==t[i-1].row))break;n=t[i-1]}n.element.className="ace_gutter-active-line "+n.element.className,this.$cursorCell=n;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var i=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),n=this.oldLastRow;if(this.oldLastRow=i,!t||n<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var s=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);s>0;s--)this.$lines.shift();if(n>i)for(s=this.session.getFoldedRowCount(i+1,n);s>0;s--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),i>n&&this.$lines.push(this.$renderLines(e,n+1,i)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,i){for(var n=[],s=t,o=this.session.getNextFoldLine(s),r=o?o.start.row:1/0;s>r&&(s=o.end.row+1,r=(o=this.session.getNextFoldLine(s,o))?o.start.row:1/0),!(s>i);){var a=this.$lines.createCell(s,e,this.session,c);this.$renderCell(a,e,o,s),n.push(a),s++}return n},this.$renderCell=function(e,t,i,s){var o=e.element,r=this.session,a=o.childNodes[0],l=o.childNodes[1],c=r.$firstLineNumber,h=r.$breakpoints,d=r.$decorations,u=r.gutterRenderer||this.$renderer,f=this.$showFoldWidgets&&r.foldWidgets,p=i?i.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(s==this.$cursorRow||i&&s<this.$cursorRow&&s>=p&&this.$cursorRow<=i.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),h[s]&&(g+=h[s]),d[s]&&(g+=d[s]),this.$annotations[s]&&(g+=this.$annotations[s].className),o.className!=g&&(o.className=g),f){var m=f[s];null==m&&(m=f[s]=r.getFoldWidget(s))}if(m){g="ace_fold-widget ace_"+m,"start"==m&&s==p&&s<i.end.row?g+=" ace_closed":g+=" ace_open",l.className!=g&&(l.className=g);var b=t.lineHeight+"px";n.setStyle(l.style,"height",b),n.setStyle(l.style,"display","inline-block")}else l&&n.setStyle(l.style,"display","none");var v=(u?u.getText(r,s):s+c).toString();return v!==a.data&&(a.data=v),n.setStyle(e.element.style,"height",this.$lines.computeLineHeight(s,t,r)+"px"),n.setStyle(e.element.style,"top",this.$lines.computeLineTop(s,t,r)+"px"),e.text=v,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return e.x<t.left+i.left?"markers":this.$showFoldWidgets&&e.x>i.right-t.right?"foldWidgets":void 0}}).call(l.prototype),t.Gutter=l})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,i){"use strict";var n=e("../range").Range,s=e("../lib/dom"),o=function(e){this.element=s.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var i=-1!=this.i&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=t,i.className=e},this.update=function(e){if(e){var t;for(var i in this.config=e,this.i=0,this.markers){var n=this.markers[i];if(n.range){var s=n.range.clipRows(e.firstRow,e.lastRow);if(!s.isEmpty())if(s=s.toScreenRange(this.session),n.renderer){var o=this.$getTop(s.start.row,e),r=this.$padding+s.start.column*e.characterWidth;n.renderer(t,s,r,o,e)}else"fullLine"==n.type?this.drawFullLineMarker(t,s,n.clazz,e):"screenLine"==n.type?this.drawScreenLineMarker(t,s,n.clazz,e):s.isMultiLine()?"text"==n.type?this.drawTextMarker(t,s,n.clazz,e):this.drawMultiLineMarker(t,s,n.clazz,e):this.drawSingleLineMarker(t,s,n.clazz+" ace_start ace_br15",e)}else n.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,i,s,o){for(var r=this.session,a=t.start.row,l=t.end.row,c=a,h=0,d=0,u=r.getScreenLastRowColumn(c),f=new n(c,t.start.column,c,d);c<=l;c++)f.start.row=f.end.row=c,f.start.column=c==a?t.start.column:r.getRowWrapIndent(c),f.end.column=u,h=d,d=u,u=c+1<l?r.getScreenLastRowColumn(c+1):c==l?0:t.end.column,this.drawSingleLineMarker(e,f,i+(c==a?" ace_start":"")+" ace_br"+((c==a||c==a+1&&t.start.column?1:0)|(h<d?2:0)|(d>u?4:0)|(c==l?8:0)),s,c==l?0:1,o)},this.drawMultiLineMarker=function(e,t,i,n,s){var o=this.$padding,r=n.lineHeight,a=this.$getTop(t.start.row,n),l=o+t.start.column*n.characterWidth;if(s=s||"",this.session.$bidiHandler.isBidiRow(t.start.row)?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,i+" ace_br1 ace_start",n,null,s)):this.elt(i+" ace_br1 ace_start","height:"+r+"px;right:0;top:"+a+"px;left:"+l+"px;"+(s||"")),this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,i+" ace_br12",n,null,s)}else{a=this.$getTop(t.end.row,n);var h=t.end.column*n.characterWidth;this.elt(i+" ace_br12","height:"+r+"px;width:"+h+"px;top:"+a+"px;left:"+o+"px;"+(s||""))}if(!((r=(t.end.row-t.start.row-1)*n.lineHeight)<=0)){a=this.$getTop(t.start.row+1,n);var d=(t.start.column?1:0)|(t.end.column?0:8);this.elt(i+(d?" ace_br"+d:""),"height:"+r+"px;right:0;top:"+a+"px;left:"+o+"px;"+(s||""))}},this.drawSingleLineMarker=function(e,t,i,n,s,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,i,n,s,o);var r=n.lineHeight,a=(t.end.column+(s||0)-t.start.column)*n.characterWidth,l=this.$getTop(t.start.row,n),c=this.$padding+t.start.column*n.characterWidth;this.elt(i,"height:"+r+"px;width:"+a+"px;top:"+l+"px;left:"+c+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,i,n,s,o){var r=n.lineHeight,a=this.$getTop(t.start.row,n),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(i,"height:"+r+"px;width:"+(e.width+(s||0))+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(o||""))}),this)},this.drawFullLineMarker=function(e,t,i,n,s){var o=this.$getTop(t.start.row,n),r=n.lineHeight;t.start.row!=t.end.row&&(r+=this.$getTop(t.end.row,n)-o),this.elt(i,"height:"+r+"px;top:"+o+"px;left:0;right:0;"+(s||""))},this.drawScreenLineMarker=function(e,t,i,n,s){var o=this.$getTop(t.start.row,n),r=n.lineHeight;this.elt(i,"height:"+r+"px;top:"+o+"px;left:0;right:0;"+(s||""))}}).call(o.prototype),t.Marker=o})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(e,t,i){"use strict";var n=e("../lib/oop"),s=e("../lib/dom"),o=e("../lib/lang"),r=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,l=function(e){this.dom=s,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new r(this.element)};(function(){n.implement(this,a),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$highlightIndentGuides=!0,this.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides!==e&&(this.$highlightIndentGuides=e,e)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],i=1;i<e+1;i++)this.showTabs?((n=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",n.textContent=o.stringRepeat(this.TAB_CHAR,i),t.push(n)):t.push(this.dom.createTextNode(o.stringRepeat(" ",i),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var n,s="ace_indent-guide",r=this.showSpaces?" ace_invisible ace_invisible_space":"",a=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):a;(n=this.dom.createElement("span")).className=s+r,n.textContent=a,this.$tabStrings[" "]=n,(n=this.dom.createElement("span")).className=s+l,n.textContent=c,this.$tabStrings["\t"]=n}},this.updateLines=function(e,t,i){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var n=Math.max(t,e.firstRow),s=Math.min(i,e.lastRow),o=this.element.childNodes,r=0,a=e.firstRow;a<n;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(n)){n=l.start.row;break}a=l.end.row}r++}for(var l,c=!1,h=(a=n,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);a>h&&(a=l.end.row+1,h=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>s);){var d=o[r++];if(d){this.dom.removeChildren(d),this.$renderLine(d,a,a==h&&l),c&&(d.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var u=e.lineHeight*this.session.getRowLength(a)+"px";d.style.height!=u&&(c=!0,d.style.height=u)}a++}if(c)for(;r<this.$lines.cells.length;){var f=this.$lines.cells[r++];f.element.style.top=this.$lines.computeLineTop(f.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var i=e.lastRow,n=t?t.lastRow:-1;if(!t||n<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var s=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);s>0;s--)this.$lines.shift();if(t.lastRow>e.lastRow)for(s=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);s>0;s--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},this.$renderLinesFragment=function(e,t,i){for(var n=[],o=t,r=this.session.getNextFoldLine(o),a=r?r.start.row:1/0;o>a&&(o=r.end.row+1,a=(r=this.session.getNextFoldLine(o,r))?r.start.row:1/0),!(o>i);){var l=this.$lines.createCell(o,e,this.session),c=l.element;this.dom.removeChildren(c),s.setStyle(c.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),s.setStyle(c.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(c,o,o==a&&r),this.$useLineGroups()?c.className="ace_line_group":c.className="ace_line",n.push(l),o++}return n},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,i=e.lastRow,n=this.$lines;n.getLength();)n.pop();n.push(this.$renderLinesFragment(e,t,i))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,i,n){for(var s,r=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,l=this.dom.createFragment(this.element),c=0;s=a.exec(n);){var h=s[1],d=s[2],u=s[3],f=s[4],p=s[5];if(r.showSpaces||!d){var g=c!=s.index?n.slice(c,s.index):"";if(c=s.index+s[0].length,g&&l.appendChild(this.dom.createTextNode(g,this.element)),h){var m=r.session.getScreenTabSize(t+s.index);l.appendChild(r.$tabStrings[m].cloneNode(!0)),t+=m-1}else d?r.showSpaces?((v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",v.textContent=o.stringRepeat(r.SPACE_CHAR,d.length),l.appendChild(v)):l.appendChild(this.com.createTextNode(d,this.element)):u?((v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",v.textContent=o.stringRepeat(r.SPACE_CHAR,u.length),l.appendChild(v)):f?(t+=1,(v=this.dom.createElement("span")).style.width=2*r.config.characterWidth+"px",v.className=r.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",v.textContent=r.showSpaces?r.SPACE_CHAR:f,l.appendChild(v)):p&&(t+=1,(v=this.dom.createElement("span")).style.width=2*r.config.characterWidth+"px",v.className="ace_cjk",v.textContent=p,l.appendChild(v))}}if(l.appendChild(this.dom.createTextNode(c?n.slice(c):n,this.element)),this.$textToken[i.type])e.appendChild(l);else{var b="ace_"+i.type.replace(/\./g," ace_"),v=this.dom.createElement("span");"fold"==i.type&&(v.style.width=i.value.length*this.config.characterWidth+"px"),v.className=b,v.appendChild(l),e.appendChild(v)}return t+n.length},this.renderIndentGuide=function(e,t,i){var n=t.search(this.$indentGuideRe);if(n<=0||n>=i)return t;if(" "==t[0]){for(var s=(n-=n%this.tabSize)/this.tabSize,o=0;o<s;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(n)}if("\t"==t[0]){for(o=0;o<n;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(n)}return this.$highlightIndentGuide(),t},this.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var t=this.session.selection.getCursor(),i=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,n=Math.floor(i/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:n,start:t.row},this.session.$bracketHighlight)for(var s=this.session.$bracketHighlight.ranges,o=0;o<s.length;o++)if(t.row!==s[o].start.row){this.$highlightIndentGuideMarker.end=s[o].start.row,t.row>s[o].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}if(!this.$highlightIndentGuideMarker.end&&""!==e[t.row]&&t.column===e[t.row].length)for(this.$highlightIndentGuideMarker.dir=1,o=t.row+1;o<e.length;o++){var r=e[o],a=/^\s*/.exec(r)[0].length;if(""!==r&&(this.$highlightIndentGuideMarker.end=o,a<=i))break}this.$renderHighlightIndentGuide()}}},this.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,t=0;t<e.length;t++){var i=e[t].element.childNodes;if(i.length>0)for(var n=0;n<i.length;n++)if(i[n].classList&&i[n].classList.contains("ace_indent-guide-active")){i[n].classList.remove("ace_indent-guide-active");break}}},this.$setIndentGuideActive=function(e,t){if(""!==this.session.doc.getLine(e.row)){var i=e.element.childNodes;if(i){var n=i[t-1];n&&n.classList&&n.classList.contains("ace_indent-guide")&&n.classList.add("ace_indent-guide-active")}}},this.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(0!==t)if(1===this.$highlightIndentGuideMarker.dir)for(var i=0;i<e.length;i++){var n=e[i];if(this.$highlightIndentGuideMarker.end&&n.row>=this.$highlightIndentGuideMarker.start+1){if(n.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(n,t)}}else for(i=e.length-1;i>=0;i--)if(n=e[i],this.$highlightIndentGuideMarker.end&&n.row<this.$highlightIndentGuideMarker.start){if(n.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(n,t)}}},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,i){var n=0,s=0,r=i[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var h=t[c],d=h.value;if(0==c&&this.displayIndentGuides){if(n=d.length,!(d=this.renderIndentGuide(l,d,r)))continue;n-=d.length}if(n+d.length<r)a=this.$renderToken(l,a,h,d),n+=d.length;else{for(;n+d.length>=r;)a=this.$renderToken(l,a,h,d.substring(0,r-n)),d=d.substring(r-n),n=r,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(o.stringRepeat(" ",i.indent),this.element)),a=0,r=i[++s]||Number.MAX_VALUE;0!=d.length&&(n+=d.length,a=this.$renderToken(l,a,h,d))}}i[i.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},this.$renderSimpleLine=function(e,t){for(var i=0,n=0;n<t.length;n++){var s=t[n],o=s.value;if(0!=n||!this.displayIndentGuides||(o=this.renderIndentGuide(e,o))){if(i+o.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,i,s,o);i=this.$renderToken(e,i,s,o)}}},this.$renderOverflowMessage=function(e,t,i,n,s){i&&this.$renderToken(e,t,i,n.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=s?"<hide>":"<click to see more...>",e.appendChild(o)},this.$renderLine=function(e,t,i){if(i||0==i||(i=this.session.getFoldLine(t)),i)var n=this.$getFoldLineTokens(t,i);else n=this.session.getTokens(t);var s=e;if(n.length){var o=this.session.getRowSplitData(t);o&&o.length?(this.$renderWrappedLine(e,n,o),s=e.lastChild):(s=e,this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s)),this.$renderSimpleLine(s,n))}else this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s));if(this.showEOL&&s){i&&(t=i.end.row);var r=this.dom.createElement("span");r.className="ace_invisible ace_invisible_eol",r.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,s.appendChild(r)}},this.$getFoldLineTokens=function(e,t){var i=this.session,n=[],s=i.getTokens(e);return t.walk((function(e,t,o,r,a){null!=e?n.push({type:"fold",value:e}):(a&&(s=i.getTokens(t)),s.length&&function(e,t,i){for(var s=0,o=0;o+e[s].value.length<t;)if(o+=e[s].value.length,++s==e.length)return;for(o!=t&&((r=e[s].value.substring(t-o)).length>i-t&&(r=r.substring(0,i-t)),n.push({type:e[s].type,value:r}),o=t+r.length,s+=1);o<i&&s<e.length;){var r;(r=e[s].value).length+o>i?n.push({type:e[s].type,value:r.substring(0,i-o)}):n.push(e[s]),o+=r.length,s+=1}}(s,r,o))}),t.end.row,this.session.getLine(t.end.row).length),n},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),t.Text=l})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,i){"use strict";var n=e("../lib/dom"),s=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),n.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,i=t.length;i--;)n.setStyle(t[i].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&n.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,n.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,n.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=n.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,n.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,n.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,n.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&n.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),n.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),top:(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,i=0,s=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]),i=0;for(var o=t.length;i<o;i++){var r=this.getPixelPosition(t[i].cursor,!0);if(!((r.top>e.height+e.offset||r.top<0)&&i>1)){var a=this.cursors[s++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,r,e,t[i],this.session):this.isCursorInView(r,e)?(n.setStyle(l,"display","block"),n.translate(a,r.left,r.top),n.setStyle(l,"width",Math.round(e.characterWidth)+"px"),n.setStyle(l,"height",e.lineHeight+"px")):n.setStyle(l,"display","none")}}for(;this.cursors.length>s;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=r,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?n.addCssClass(this.element,"ace_overwrite-cursors"):n.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(s.prototype),t.Cursor=s})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/dom"),o=e("./lib/event"),r=e("./lib/event_emitter").EventEmitter,a=32768,l=function(e){this.element=s.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=s.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){n.implement(this,r),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(l.prototype);var c=function(e,t){l.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=s.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};n.inherits(c,l),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(c.prototype);var h=function(e,t){l.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(h,l),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(h.prototype),t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=h,t.VScrollBar=c,t.HScrollBar=h})),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/dom"),o=e("./lib/event"),r=e("./lib/event_emitter").EventEmitter;s.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var a=function(e){this.element=s.createElement("div"),this.element.className="ace_sb"+this.classSuffix,this.inner=s.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")};(function(){n.implement(this,r),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,this.parent=e,this.width=this.VScrollWidth,this.renderer=t,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0};n.inherits(l,a),function(){this.classSuffix="-v",n.implement(this,r),this.onMouseDown=function(e,t){if("mousedown"===e&&0===o.getButton(t)&&2!==t.detail){if(t.target===this.inner){var i=this,n=t.clientY,s=t.clientY,r=this.thumbTop;o.capture(this.inner,(function(e){n=e.clientY}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==n){var e=i.scrollTopFromThumbTop(r+n-s);e!==i.scrollTop&&i._emit("scroll",{data:e})}}),20);return o.preventDefault(t)}var l=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(l)}),o.preventDefault(t)}},this.getHeight=function(){return this.height},this.scrollTopFromThumbTop=function(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(t>>=0)<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},this.setInnerHeight=this.setScrollHeight=function(e,t){(this.pageHeight!==e||t)&&(this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},this.setScrollTop=function(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}.call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=t};n.inherits(c,a),function(){this.classSuffix="-h",n.implement(this,r),this.onMouseDown=function(e,t){if("mousedown"===e&&0===o.getButton(t)&&2!==t.detail){if(t.target===this.inner){var i=this,n=t.clientX,s=t.clientX,r=this.thumbLeft;o.capture(this.inner,(function(e){n=e.clientX}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==n){var e=i.scrollLeftFromThumbLeft(r+n-s);e!==i.scrollLeft&&i._emit("scroll",{data:e})}}),20);return o.preventDefault(t)}var l=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(l)}),o.preventDefault(t)}},this.getHeight=function(){return this.isVisible?this.height:0},this.scrollLeftFromThumbLeft=function(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(t>>=0)<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t},this.setWidth=function(e){this.width=Math.max(0,e),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},this.setInnerWidth=this.setScrollWidth=function(e,t){(this.pageWidth!==e||t)&&(this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},this.setScrollLeft=function(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,i){"use strict";var n=e("./lib/event"),s=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var i=this;this._flush=function(e){i.pending=!1;var t=i.changes;if(t&&(n.blockIdle(100),i.changes=0,i.onRender(t)),i.changes){if(i.$recursionLimit--<0)return;i.schedule()}else i.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(n.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(s.prototype),t.RenderLoop=s})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,i){var n=e("../lib/oop"),s=e("../lib/dom"),o=e("../lib/lang"),r=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c=512,h="function"==typeof ResizeObserver,d=200,u=t.FontMetrics=function(e){this.el=s.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=s.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=s.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",c),this.$characterSize={width:0,height:0},h?this.$addObserver():this.checkForSizeChanges()};(function(){n.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=r.onIdle((function t(){e.checkForSizeChanges(),r.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/c};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,c),this.$main.getBoundingClientRect().width/c},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=s.buildDom([e(0,0),e(d,0),e(0,d),e(d,d)],this.el)},this.transformCoordinates=function(e,t){function i(e,t,i){var n=e[1]*t[0]-e[0]*t[1];return[(-t[1]*i[0]+t[0]*i[1])/n,(+e[1]*i[0]-e[0]*i[1])/n]}function n(e,t){return[e[0]-t[0],e[1]-t[1]]}function s(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function r(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e&&(e=o(1/this.$getZoom(this.el),e)),this.els||this.$initTransformMeasureNodes();var a=r(this.els[0]),l=r(this.els[1]),c=r(this.els[2]),h=r(this.els[3]),u=i(n(h,l),n(h,c),n(s(l,c),s(h,a))),f=o(1+u[0],n(l,a)),p=o(1+u[1],n(c,a));if(t){var g=t,m=u[0]*g[0]/d+u[1]*g[1]/d+1,b=s(o(g[0],f),o(g[1],p));return s(o(1/m/d,b),a)}var v=n(e,a),w=i(n(f,o(u[0],v)),n(p,o(u[1],v)),v);return o(d,w)}}).call(u.prototype)})),ace.define("ace/css/editor.css",["require","exports","module"],(function(e,t,i){i.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell.ace_error {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n    will-change: transform;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #FFF;\n    background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n}\n\n.ace_folding-enabled > .ace_gutter-cell {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n}'})),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,i){"use strict";var n=e("../lib/dom"),s=e("../lib/oop"),o=e("../lib/event_emitter").EventEmitter,r=function(e,t){this.canvas=n.createElement("canvas"),this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.canvasHeight=e.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=e.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},e.element.appendChild(this.canvas)};(function(){s.implement(this,o),this.$updateDecorators=function(e){var t=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;e&&(this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height,(e.lastRow+1)*this.lineHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight);var i=this.canvas.getContext("2d"),n=this.renderer.session.$annotations;if(i.clearRect(0,0,this.canvas.width,this.canvas.height),n){var s={info:1,warning:2,error:3};n.forEach((function(e){e.priority=s[e.type]||null})),n=n.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));for(var o=this.renderer.session.$foldData,r=0;r<n.length;r++){var a=n[r].row,l=this.compensateFoldRows(a,o),c=Math.round((a-l)*this.lineHeight*this.heightRatio),h=Math.round((a-l)*this.lineHeight*this.heightRatio),d=Math.round(((a-l)*this.lineHeight+this.lineHeight)*this.heightRatio);if(d-h<this.minDecorationHeight){var u=(h+d)/2|0;u<this.halfMinDecorationHeight?u=this.halfMinDecorationHeight:u+this.halfMinDecorationHeight>this.canvasHeight&&(u=this.canvasHeight-this.halfMinDecorationHeight),h=Math.round(u-this.halfMinDecorationHeight),d=Math.round(u+this.halfMinDecorationHeight)}i.fillStyle=t[n[r].type]||null,i.fillRect(0,c,this.canvasWidth,d-h)}}var f=this.renderer.session.selection.getCursor();f&&(l=this.compensateFoldRows(f.row,o),c=Math.round((f.row-l)*this.lineHeight*this.heightRatio),i.fillStyle="rgba(0, 0, 0, 0.5)",i.fillRect(0,c,this.canvasWidth,2))},this.compensateFoldRows=function(e,t){var i=0;if(t&&t.length>0)for(var n=0;n<t.length;n++)e>t[n].start.row&&e<t[n].end.row?i+=e-t[n].start.row:e>=t[n].end.row&&(i+=t[n].end.row-t[n].start.row);return i}}).call(r.prototype),t.Decorator=r})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/dom"),o=e("./config"),r=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,u=e("./scrollbar_custom").HScrollBar,f=e("./scrollbar_custom").VScrollBar,p=e("./renderloop").RenderLoop,g=e("./layer/font_metrics").FontMetrics,m=e("./lib/event_emitter").EventEmitter,b=e("./css/editor.css"),v=e("./layer/decorators").Decorator,w=e("./lib/useragent"),y=w.isIE;s.importCssString(b,"ace_editor.css",!1);var x=function(e,t){var i=this;this.container=e||s.createElement("div"),s.addCssClass(this.container,"ace_editor"),s.HI_DPI&&s.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==o.get("useStrictCSP")&&o.set("useStrictCSP",!1),this.$gutter=s.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=s.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=s.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new r(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var n=this.$textLayer=new l(this.content);this.canvas=n.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.on("scroll",(function(e){i.$scrollAnimation||i.session.setScrollTop(e.data-i.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){i.$scrollAnimation||i.session.setScrollLeft(e.data-i.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!w.isIOS,this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),s.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,i){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,i,n){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var s=this.container;n||(n=s.clientHeight||s.scrollHeight),i||(i=s.clientWidth||s.scrollWidth);var o=this.$updateCachedSize(e,t,i,n);if(!this.$size.scrollerHeight||!i&&!n)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},this.$updateCachedSize=function(e,t,i,n){n-=this.$extraHeight||0;var o=0,r=this.$size,a={width:r.width,height:r.height,scrollerHeight:r.scrollerHeight,scrollerWidth:r.scrollerWidth};if(n&&(e||r.height!=n)&&(r.height=n,o|=this.CHANGE_SIZE,r.scrollerHeight=r.height,this.$horizScroll&&(r.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(r.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),i&&(e||r.width!=i)){o|=this.CHANGE_SIZE,r.width=i,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,s.setStyle(this.scrollBarH.element.style,"left",t+"px"),s.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),r.scrollerWidth=Math.max(0,i-t-this.scrollBarV.getWidth()-this.margin.h),s.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";s.setStyle(this.scrollBarH.element.style,"right",l),s.setStyle(this.scroller.style,"right",l),s.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(r.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return r.$dirty=!i||!n,o&&this._signal("resize",a),o},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},this.setHighlightIndentGuides=function(e){this.setOption("highlightIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=s.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=s.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var i=this.$cursorLayer.$pixelPos;if(i){t&&t.markerRange&&(i=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var n=this.layerConfig,o=i.top,r=i.left;o-=n.offset;var a=t&&t.useTextareaForIME?this.lineHeight:y?0:1;if(o<0||o>n.height-a)s.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-a;if(t)if(t.useTextareaForIME){var h=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(h)[0]}else o+=this.lineHeight+2;else o+=this.lineHeight;(r-=this.scrollLeft)>this.$size.scrollerWidth-l&&(r=this.$size.scrollerWidth-l),r+=this.gutterWidth+this.margin.left,s.setStyle(e,"height",a+"px"),s.setStyle(e,"width",l+"px"),s.translate(this.textarea,Math.min(r,this.$size.scrollerWidth-l),Math.min(o,c))}}}else s.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,i,n){var s=this.scrollMargin;s.top=0|e,s.bottom=0|t,s.right=0|n,s.left=0|i,s.v=s.top+s.bottom,s.h=s.left+s.right,s.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-s.top),this.updateFull()},this.setMargin=function(e,t,i,n){var s=this.margin;s.top=0|e,s.bottom=0|t,s.right=0|n,s.left=0|i,s.v=s.top+s.bottom,s.h=s.left+s.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var i=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),i.firstRow!=this.layerConfig.firstRow&&i.firstRowScreen==this.layerConfig.firstRowScreen){var n=this.scrollTop+(i.firstRow-this.layerConfig.firstRow)*this.lineHeight;n>0&&(this.scrollTop=n,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}i=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),s.translate(this.content,-this.scrollLeft,-i.offset);var o=i.width+2*this.$padding+"px",r=i.minHeight+"px";s.setStyle(this.content.style,"width",o),s.setStyle(this.content.style,"height",r)}if(e&this.CHANGE_H_SCROLL&&(s.translate(this.content,-this.scrollLeft,-i.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(i):this.$gutterLayer.scrollLines(i)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(i)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(i)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(i),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(i)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(i),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(i)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i),this._signal("afterRender",e)}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,i=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(i+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&i>this.$maxPixelHeight&&(i=this.$maxPixelHeight);var n=!(i<=2*this.lineHeight)&&e>t;if(i!=this.desiredHeight||this.$size.height!=this.desiredHeight||n!=this.$vScroll){n!=this.$vScroll&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var s=this.container.clientWidth;this.container.style.height=i+"px",this.$updateCachedSize(!0,this.$gutterWidth,s,i),this.desiredHeight=i,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,i=t.height<=2*this.lineHeight,n=this.session.getScreenLength()*this.lineHeight,s=this.$getLongestLine(),o=!i&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-s-2*this.$padding<0),r=this.$horizScroll!==o;r&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;n+=c;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,n-t.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,s+2*this.$padding-t.scrollerWidth+h.right)));var d=!i&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-n+c<0||this.scrollTop>h.top),u=a!==d;u&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var f,p,g=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,b=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),v=b+m,w=this.lineHeight;b=e.screenToDocumentRow(b,0);var y=e.getFoldLine(b);y&&(b=y.start.row),f=e.documentToScreenRow(b,0),p=e.getRowLength(b)*w,v=Math.min(e.screenToDocumentRow(v,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(v)*w+p,g=this.scrollTop-f*w;var x=0;return(this.layerConfig.width!=s||r)&&(x=this.CHANGE_H_SCROLL),(r||u)&&(x|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),u&&(s=this.$getLongestLine())),this.layerConfig={width:s,padding:this.$padding,firstRow:b,firstRowScreen:f,lastRow:v,lineHeight:w,characterWidth:this.characterWidth,minHeight:l,maxHeight:n,offset:g,gutterOffset:w?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/w)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(s-this.$padding),x},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;if(!(e>i.lastRow+1||t<i.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,i){this.scrollCursorIntoView(e,i),this.scrollCursorIntoView(t,i)},this.scrollCursorIntoView=function(e,t,i){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(e),s=n.left,o=n.top,r=i&&i.top||0,a=i&&i.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+r>o?(t&&l+r>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft,h=2*this.layerConfig.characterWidth;s-h<c?((s-=h)<this.$padding+h&&(s=-this.scrollMargin.left),this.session.setScrollLeft(s)):(s+=h,c+this.$size.scrollerWidth<s+this.characterWidth?this.session.setScrollLeft(Math.round(s+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&s-c<this.characterWidth&&this.session.setScrollLeft(0))}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var i=this.$cursorLayer.getPixelPosition(e),n=this.$size.scrollerHeight-this.lineHeight,s=i.top-n*(t||0);return this.session.setScrollTop(s),s},this.STEPS=8,this.$calcSteps=function(e,t){var i,n,s=0,o=this.STEPS,r=[];for(s=0;s<o;++s)r.push((i=s/this.STEPS,n=e,(t-e)*(Math.pow(i-1,3)+1)+n));return r},this.scrollToLine=function(e,t,i,n){var s=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),!1!==i&&this.animateScrolling(o,n)},this.animateScrolling=function(e,t){var i=this.scrollTop;if(this.$animatedScroll){var n=this;if(e!=i){if(this.$scrollAnimation){var s=this.$scrollAnimation.steps;if(s.length&&(e=s[0])==i)return}var o=n.$calcSteps(e,i);this.$scrollAnimation={from:e,to:i,steps:o},clearInterval(this.$timer),n.session.setScrollTop(o.shift()),n.session.$scrollTop=i,this.$timer=setInterval((function(){if(!n.$stopAnimation)return n.session?void(o.length?(n.session.setScrollTop(o.shift()),n.session.$scrollTop=i):null!=i?(n.session.$scrollTop=-1,n.session.setScrollTop(i),i=null):r()):clearInterval(n.$timer);r()}),10)}}function r(){n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,n.$stopAnimation=!1,t&&t()}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(e,t){var i;if(this.$hasCssTransforms){i={top:0,left:0};var n=this.$fontMetrics.transformCoordinates([e,t]);e=n[1]-this.gutterWidth-this.margin.left,t=n[0]}else i=this.scroller.getBoundingClientRect();var s=e+this.scrollLeft-i.left-this.$padding,o=s/this.characterWidth,r=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:r,column:a,side:o-a>0?1:-1,offsetX:s}},this.screenToTextCoordinates=function(e,t){var i;if(this.$hasCssTransforms){i={top:0,left:0};var n=this.$fontMetrics.transformCoordinates([e,t]);e=n[1]-this.gutterWidth-this.margin.left,t=n[0]}else i=this.scroller.getBoundingClientRect();var s=e+this.scrollLeft-i.left-this.$padding,o=s/this.characterWidth,r=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-i.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(r,0),s)},this.textToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(e,t),s=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e)?this.session.$bidiHandler.getPosLeft(n.column):Math.round(n.column*this.characterWidth)),o=n.row*this.lineHeight;return{pageX:i.left+s-this.scrollLeft,pageY:i.top+o-this.scrollTop}},this.visualizeFocus=function(){s.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){s.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(s.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),s.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.setGhostText=function(e,t){var i=this.session.selection.cursor,n=t||{row:i.row,column:i.column};this.removeGhostText();var s=e.split("\n");this.addToken(s[0],"ghost_text",n.row,n.column),this.$ghostText={text:e,position:{row:n.row,column:n.column}},s.length>1&&(this.$ghostTextWidget={text:s.slice(1).join("\n"),row:n.row,column:n.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget))},this.removeGhostText=function(){if(this.$ghostText){var e=this.$ghostText.position;this.removeExtraToken(e.row,e.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},this.addToken=function(e,t,i,n){var s=this.session;s.bgTokenizer.lines[i]=null;var o={type:t,value:e},r=s.getTokens(i);if(null==n)r.push(o);else for(var a=0,l=0;l<r.length;l++){var c=r[l];if(n<=(a+=c.value.length)){var h=c.value.length-(a-n),d=c.value.slice(0,h),u=c.value.slice(h);r.splice(l,1,{type:c.type,value:d},o,{type:c.type,value:u});break}}this.updateLines(i,i)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){var i=this;if(this.$themeId=e,i._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)r(e);else{var n=e||this.$options.theme.initialValue;o.loadModule(["theme",n],r)}function r(n){if(i.$themeId!=e)return t&&t();if(!n||!n.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");n.$id&&(i.$themeId=n.$id),s.importCssString(n.cssText,n.cssClass,i.container),i.theme&&s.removeCssClass(i.container,i.theme.cssClass);var o="padding"in n?n.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&o!=i.$padding&&i.setPadding(o),i.$theme=n.cssClass,i.theme=n,s.addCssClass(i.container,n.cssClass),s.setCssClass(i.container,"ace_dark",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:n}),t&&t()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){s.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){s.removeCssClass(this.container,e)},this.setCursorStyle=function(e){s.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){s.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){s.importCssString(b,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""},this.$updateCustomScrollbar=function(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===e?(this.scrollBarV=new f(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})),this.$scrollDecorator=new v(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})))}}).call(x.prototype),o.defineOptions(x.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){s.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(e){1==this.$textLayer.setHighlightIndentGuides(e)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(e){this.$updateCustomScrollbar(e)},initialValue:!1},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!w.isMobile&&!w.isIE}}),t.VirtualRenderer=x})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,i){"use strict";var n=e("../lib/oop"),s=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,r=e("../config");function a(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(r.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+s.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return i.append(t),i.getBlob("application/javascript")}}(e),i=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(i)}return new Worker(e)}var l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,o),this.$createWorkerFromOldConfig=function(t,i,n,s,o){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),r.get("packaged")||!e.toUrl)s=s||r.moduleUrl(i,"worker");else{var l=this.$normalizePath;s=s||l(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach((function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=a(s),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:c,module:i,classname:n}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return s.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,i){if(i){var n=this.callbackId++;this.callbacks[n]=i,t.push(n)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker&&this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener,!0)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype),t.UIWorkerClient=function(e,t,i){var n=null,s=!1,a=Object.create(o),c=[],h=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),n&&(s?setTimeout(d):d())}});h.setEmitSync=function(e){s=e};var d=function(){var e=c.shift();e.command?n[e.command].apply(n,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){h.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},r.loadModule(["worker",t],(function(e){for(n=new e[i](a);c.length;)d()})),h},t.WorkerClient=l,t.createWorker=a})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,i){"use strict";var n=e("./range").Range,s=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),r=function(e,t,i,n,s,o){var r=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=s,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=n,this.$onCursorChange=function(){setTimeout((function(){r.onCursorChange()}))},this.$pos=i;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,s),this.setup=function(){var e=this,t=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var s=this.pos;s.$insertRight=!0,s.detach(),s.markerId=i.addMarker(new n(s.row,s.column,s.row,s.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(i){var n=t.createAnchor(i.row,i.column);n.$insertRight=!0,n.detach(),e.others.push(n)})),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(i){i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var i="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,s=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),s&&(this.length+=i),s&&!this.session.$fromUndo)if("insert"===e.action)for(var r=this.others.length-1;r>=0;r--){var a={row:(l=this.others[r]).row,column:l.column+o};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(r=this.others.length-1;r>=0;r--){var l;a={row:(l=this.others[r]).row,column:l.column+o},this.doc.remove(new n(a.row,a.column,a.row,a.column-i))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,i=function(i,s){t.removeMarker(i.markerId),i.markerId=t.addMarker(new n(i.row,i.column,i.row,i.column+e.length),s,null,!1)};i(this.pos,this.mainClass);for(var s=this.others.length;s--;)i(this.others[s],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,i=0;i<t;i++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(r.prototype),t.PlaceHolder=r})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,i){var n=e("../lib/event"),s=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,i=t.altKey,r=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&s.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||i||l){if(0===c){var h,d=e.editor,u=d.selection,f=d.inMultiSelectMode,p=e.getDocumentPosition(),g=u.getCursor(),m=e.inSelection()||u.isEmpty()&&o(p,g),b=e.x,v=e.y,w=d.session,y=d.renderer.pixelToScreenCoordinates(b,v),x=y;if(d.$mouseHandler.$enableJumpToDef)a&&i||l&&i?h=r?"block":"add":i&&d.$blockSelectEnabled&&(h="block");else if(l&&!i){if(h="add",!f&&r)return}else i&&d.$blockSelectEnabled&&(h="block");if(h&&s.isMac&&t.ctrlKey&&d.$mouseHandler.cancelContextMenu(),"add"==h){if(!f&&m)return;if(!f){var k=u.toOrientedRange();d.addSelectionMarker(k)}var _=u.rangeList.rangeAtPoint(p);d.inVirtualSelectionMode=!0,r&&(_=null,k=u.ranges[0]||k,d.removeSelectionMarker(k)),d.once("mouseup",(function(){var e=u.toOrientedRange();_&&e.isEmpty()&&o(_.cursor,e.cursor)?u.substractPoint(e.cursor):(r?u.substractPoint(k.cursor):k&&(d.removeSelectionMarker(k),u.addRange(k)),u.addRange(e)),d.inVirtualSelectionMode=!1}))}else if("block"==h){var A;e.stop(),d.inVirtualSelectionMode=!0;var C=[],$=function(){var e=d.renderer.pixelToScreenCoordinates(b,v),t=w.screenToDocumentPosition(e.row,e.column,e.offsetX);o(x,e)&&o(t,u.lead)||(x=e,d.selection.moveToPosition(t),d.renderer.scrollCursorIntoView(),d.removeSelectionMarkers(C),C=u.rectangularRangeBlock(x,y),d.$mouseHandler.$clickSelection&&1==C.length&&C[0].isEmpty()&&(C[0]=d.$mouseHandler.$clickSelection.clone()),C.forEach(d.addSelectionMarker,d),d.updateSelectionMarkers())};f&&!l?u.toSingleRange():!f&&l&&(A=u.toOrientedRange(),d.addSelectionMarker(A)),r?y=w.documentToScreenPosition(u.lead):u.moveToPosition(p),x={row:-1,column:-1};var S=$;n.capture(d.container,(function(e){b=e.clientX,v=e.clientY}),(function(e){$(),clearInterval(M),d.removeSelectionMarkers(C),C.length||(C=[u.toOrientedRange()]),A&&(d.removeSelectionMarker(A),u.toSingleRange(A));for(var t=0;t<C.length;t++)u.addRange(C[t]);d.inVirtualSelectionMode=!1,d.$mouseHandler.$clickSelection=null}));var M=setInterval((function(){S()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,i){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,i){var n=e("./range_list").RangeList,s=e("./range").Range,o=e("./selection").Selection,r=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),l=e("./lib/lang"),c=e("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var h=new(0,e("./search").Search),d=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(d.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i)}e.cursor||(e.cursor=e.end);var n=this.rangeList.add(e);return this.$onAddRange(e),n.length&&this.$onRemoveRange(n),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var i=e.length;i--;){var n=this.ranges.indexOf(e[i]);this.ranges.splice(n,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new n,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],i=0;i<e.length;i++){var n=e[i],o=n.start.row,r=n.end.row;if(o===r)t.push(n.clone());else{for(t.push(new s(o,n.start.column,o,this.session.getLine(o).length));++o<r;)t.push(this.getLineRange(o,!0));t.push(new s(r,0,r,n.end.column))}0!=i||this.isBackwards()||(t=t.reverse())}for(this.toSingleRange(),i=t.length;i--;)this.addRange(t[i])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],i=s.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],i=s.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{var n=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(n,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,i){var n=[],o=e.column<t.column;if(o)var r=e.column,a=t.column,l=e.offsetX,c=t.offsetX;else r=t.column,a=e.column,l=t.offsetX,c=e.offsetX;var h,d,u,f=e.row<t.row;if(f)var p=e.row,g=t.row;else p=t.row,g=e.row;r<0&&(r=0),p<0&&(p=0),p==g&&(i=!0);for(var m=p;m<=g;m++){var b=s.fromPoints(this.session.screenToDocumentPosition(m,r,l),this.session.screenToDocumentPosition(m,a,c));if(b.isEmpty()){if(h&&(u=h,(d=b.end).row==u.row&&d.column==u.column))break;h=b.end}b.cursor=o?b.start:b.end,n.push(b)}if(f&&n.reverse(),!i){for(var v=n.length-1;n[v].isEmpty()&&v>0;)v--;if(v>0)for(var w=0;n[w].isEmpty();)w++;for(var y=v;y>=w;y--)n[y].isEmpty()&&n.splice(y,1)}return n}}.call(o.prototype);var u=e("./editor").Editor;function f(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",r),e.commands.addCommands(c.defaultCommands),function(e){if(e.textInput){var t=e.textInput.getElement(),i=!1;a.addListener(t,"keydown",(function(t){var s=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&s?i||(e.renderer.setMouseCursor("crosshair"),i=!0):i&&n()}),e),a.addListener(t,"keyup",n,e),a.addListener(t,"blur",n,e)}function n(t){i&&(e.renderer.setMouseCursor(""),i=!1)}}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,i=e.length;i--;){var n=e[i];if(n.marker){this.session.removeMarker(n.marker);var s=t.indexOf(n);-1!=s&&t.splice(s,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,i=e.editor;if(i.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?n=i.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?n=i.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(i.exitMultiSelectMode(),n=t.exec(i,e.args||{})):n=t.multiSelectAction(i,e.args||{});else{var n=t.exec(i,e.args||{});i.multiSelect.addRange(i.multiSelect.toOrientedRange()),i.multiSelect.mergeOverlappingRanges()}return n}},this.forEachSelection=function(e,t,i){if(!this.inVirtualSelectionMode){var n,s=i&&i.keepOrder,r=1==i||i&&i.$byLines,a=this.session,l=this.selection,c=l.rangeList,h=(s?l:c).ranges;if(!h.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var d=l._eventRegistry;l._eventRegistry={};var u=new o(a);this.inVirtualSelectionMode=!0;for(var f=h.length;f--;){if(r)for(;f>0&&h[f].start.row==h[f-1].end.row;)f--;u.fromOrientedRange(h[f]),u.index=f,this.selection=a.selection=u;var p=e.exec?e.exec(this,t||{}):e(this,t||{});n||void 0===p||(n=p),u.toOrientedRange(h[f])}u.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=d,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),n}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,i=[],n=0;n<t.length;n++)i.push(this.session.getTextRange(t[n]));var s=this.session.getDocument().getNewLineCharacter();(e=i.join(s)).length==(i.length-1)*s.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var i=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var n=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;n.row!=t.row||this.session.$clipPositionToDocument(n.row,n.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,i){if((t=t||{}).needle=e||t.needle,null==t.needle){var n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(n)}this.$search.set(t);var s=this.$search.findAll(this.session);if(!s.length)return 0;var o=this.multiSelect;i||o.toSingleRange(s[0]);for(var r=s.length;r--;)o.addRange(s[r],!0);return n&&o.rangeList.rangeAtPoint(n.start)&&o.addRange(n,!0),s.length},this.selectMoreLines=function(e,t){var i=this.selection.toOrientedRange(),n=i.cursor==i.end,o=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var r,a=this.session.screenToDocumentPosition(o.row+e,o.column);if(i.isEmpty())c=a;else var l=this.session.documentToScreenPosition(n?i.end:i.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);if(n?(r=s.fromPoints(a,c)).cursor=r.start:(r=s.fromPoints(c,a)).cursor=r.end,r.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var h=i.cursor}else this.selection.addRange(i);this.selection.addRange(r),h&&this.selection.substractPoint(h)},this.transposeSelections=function(e){for(var t=this.session,i=t.multiSelect,n=i.ranges,s=n.length;s--;)if((a=n[s]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}i.mergeOverlappingRanges();var r=[];for(s=n.length;s--;){var a=n[s];r.unshift(t.getTextRange(a))}for(e<0?r.unshift(r.pop()):r.push(r.shift()),s=n.length;s--;)o=(a=n[s]).clone(),t.replace(a,r[s]),a.start.row=o.start.row,a.start.column=o.start.column;i.fromOrientedRange(i.ranges[0])},this.selectMore=function(e,t,i){var n=this.session,s=n.multiSelect.toOrientedRange();if(!s.isEmpty()||((s=n.getWordRange(s.start.row,s.start.column)).cursor=-1==e?s.start:s.end,this.multiSelect.addRange(s),!i)){var o=n.getTextRange(s),r=function(e,t,i){return h.$options.wrap=!0,h.$options.needle=t,h.$options.backwards=-1==i,h.find(e)}(n,o,e);r&&(r.cursor=-1==e?r.start:r.end,this.session.unfold(r),this.multiSelect.addRange(r),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,i=t.ranges,n=-1,o=i.filter((function(e){if(e.cursor.row==n)return!0;n=e.cursor.row}));if(i.length&&o.length!=i.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var r=0,a=1/0,c=i.map((function(t){var i=t.cursor,n=e.getLine(i.row).substr(i.column).search(/\S/g);return-1==n&&(n=0),i.column>r&&(r=i.column),n<a&&(a=n),n}));i.forEach((function(t,i){var n=t.cursor,o=r-n.column,h=c[i]-a;o>h?e.insert(n,l.stringRepeat(" ",o-h)):e.remove(new s(n.row,n.column,n.row,n.column-o+h)),t.start.column=t.end.column=r,t.start.row=t.end.row=n.row,t.cursor=t.end})),t.fromOrientedRange(i[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var h=this.selection.getRange(),d=h.start.row,u=h.end.row,f=d==u;if(f){var p,g=this.session.getLength();do{p=this.session.getLine(u)}while(/[=:]/.test(p)&&++u<g);do{p=this.session.getLine(d)}while(/[=:]/.test(p)&&--d>0);d<0&&(d=0),u>=g&&(u=g-1)}var m=this.session.removeFullLines(d,u);m=this.$reAlignText(m,f),this.session.insert({row:d,column:0},m.join("\n")+"\n"),f||(h.start.column=0,h.end.column=m[m.length-1].length),this.selection.setRange(h)}},this.$reAlignText=function(e,t){var i,n,s,o=!0,r=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==i?(i=t[1].length,n=t[2].length,s=t[3].length,t):(i+n+s!=t[1].length+t[2].length+t[3].length&&(r=!1),i!=t[1].length&&(o=!1),i>t[1].length&&(i=t[1].length),n<t[2].length&&(n=t[2].length),s>t[3].length&&(s=t[3].length),t):[e]})).map(t?c:o?r?function(e){return e[2]?a(i+n-e[2].length)+e[2]+a(s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?a(i)+e[2]+a(s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?a(i)+e[2]+a(n-e[2].length+s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(u.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var i=e.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=f,e("./config").defineOptions(u.prototype,"editor",{enableMultiselect:{set:function(e){f(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",r)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",r))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,i){"use strict";var n=e("../../range").Range,s=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);return this.foldingStartMarker.test(n)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?"end":""},this.getFoldWidgetRange=function(e,t,i){return null},this.indentationBlock=function(e,t,i){var s=/\S/,o=e.getLine(t),r=o.search(s);if(-1!=r){for(var a=i||o.length,l=e.getLength(),c=t,h=t;++t<l;){var d=e.getLine(t).search(s);if(-1!=d){if(d<=r){var u=e.getTokenAt(t,0);if(!u||"string"!==u.type)break}h=t}}if(h>c){var f=e.getLine(h).length;return new n(c,a,h,f)}}},this.openingBracketBlock=function(e,t,i,s,o){var r={row:i,column:s+1},a=e.$findClosingBracket(t,r,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>r.row&&(a.row--,a.column=e.getLine(a.row).length),n.fromPoints(r,a)}},this.closingBracketBlock=function(e,t,i,s,o){var r={row:i,column:s},a=e.$findOpeningBracket(t,r);if(a)return a.column++,r.column--,n.fromPoints(a,r)}}).call(s.prototype)})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,i){"use strict";var n=e("../line_widgets").LineWidgets,s=e("../lib/dom"),o=e("../range").Range;t.showErrorMarker=function(e,t){var i=e.session;i.widgetManager||(i.widgetManager=new n(i),i.widgetManager.attach(e));var r=e.getCursorPosition(),a=r.row,l=i.widgetManager.getWidgetsAtRow(a).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():a-=t;var c,h=function(e,t,i){var n=e.getAnnotations().sort(o.comparePoints);if(n.length){var s=function(e,t,i){for(var n=0,s=e.length-1;n<=s;){var o=n+s>>1,r=i(t,e[o]);if(r>0)n=o+1;else{if(!(r<0))return o;s=o-1}}return-(n+1)}(n,{row:t,column:-1},o.comparePoints);s<0&&(s=-s-1),s>=n.length?s=i>0?0:n.length-1:0===s&&i<0&&(s=n.length-1);var r=n[s];if(r&&i){if(r.row===t){do{r=n[s+=i]}while(r&&r.row===t);if(!r)return n.slice()}var a=[];t=r.row;do{a[i<0?"unshift":"push"](r),r=n[s+=i]}while(r&&r.row==t);return a.length&&a}}}(i,a,t);if(h){var d=h[0];r.column=(d.pos&&"number"!=typeof d.column?d.pos.sc:d.column)||0,r.row=d.row,c=e.renderer.$gutterLayer.$annotations[r.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(r.row),e.selection.moveToPosition(r);var u={row:r.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},f=u.el.appendChild(s.createElement("div")),p=u.el.appendChild(s.createElement("div"));p.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(r).left;p.style.left=g+e.renderer.gutterWidth-5+"px",u.el.className="error_widget_wrapper",f.className="error_widget "+c.className,f.innerHTML=c.text.join("<br>"),f.appendChild(s.createElement("div"));var m=function(e,t,i){if(0===t&&("esc"===i||"return"===i))return u.destroy(),{command:"null"}};u.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),i.widgetManager.removeLineWidget(u),e.off("changeSelection",u.destroy),e.off("changeSession",u.destroy),e.off("mouseup",u.destroy),e.off("change",u.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",u.destroy),e.on("changeSession",u.destroy),e.on("mouseup",u.destroy),e.on("change",u.destroy),e.session.widgetManager.addLineWidget(u),u.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:u.el.offsetHeight})},s.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],(function(e,t,i){"use strict";e("./loader_build")(t);var n=e("./lib/dom"),s=e("./lib/event"),o=e("./range").Range,r=e("./editor").Editor,a=e("./edit_session").EditSession,l=e("./undomanager").UndoManager,c=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.edit=function(e,i){if("string"==typeof e){var o=e;if(!(e=document.getElementById(o)))throw new Error("ace.edit can't find div #"+o)}if(e&&e.env&&e.env.editor instanceof r)return e.env.editor;var a="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;a=l.value,e=n.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(a=e.textContent,e.innerHTML="");var h=t.createEditSession(a),d=new r(new c(e),h,i),u={document:h,editor:d,onResize:d.resize.bind(d,null)};return l&&(u.textarea=l),s.addListener(window,"resize",u.onResize),d.on("destroy",(function(){s.removeListener(window,"resize",u.onResize),u.editor.container.env=null})),d.container.env=d.env=u,d},t.createEditSession=function(e,t){var i=new a(e,t);return i.setUndoManager(new l),i},t.Range=o,t.Editor=r,t.EditSession=a,t.UndoManager=l,t.VirtualRenderer=c,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){for(var i in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(i)&&(window.ace[i]=t[i]);window.ace.default=window.ace,e&&(e.exports=window.ace)}))},717:(e,t,i)=>{e=i.nmd(e),ace.define("ace/ext/modelist",["require","exports","module"],(function(e,t,i){"use strict";var n=[],s=function(e,t,i){var n;this.name=e,this.caption=t,this.mode="ace/mode/"+e,this.extensions=i,n=/\^/.test(i)?i.replace(/\|(\^)?/g,(function(e,t){return"$|"+(t?"^":"^.*\\.")}))+"$":"^.*\\.("+i+")$",this.extRe=new RegExp(n,"gi")};s.prototype.supportsFile=function(e){return e.match(this.extRe)};var o={ABAP:["abap"],ABC:["abc"],ActionScript:["as"],ADA:["ada|adb"],Alda:["alda"],Apache_Conf:["^htaccess|^htgroups|^htpasswd|^conf|htaccess|htgroups|htpasswd"],Apex:["apex|cls|trigger|tgr"],AQL:["aql"],AsciiDoc:["asciidoc|adoc"],ASL:["dsl|asl|asl.json"],Assembly_x86:["asm|a"],AutoHotKey:["ahk"],BatchFile:["bat|cmd"],BibTeX:["bib"],C_Cpp:["cpp|c|cc|cxx|h|hh|hpp|ino"],C9Search:["c9search_results"],Cirru:["cirru|cr"],Clojure:["clj|cljs"],Cobol:["CBL|COB"],coffee:["coffee|cf|cson|^Cakefile"],ColdFusion:["cfm"],Crystal:["cr"],CSharp:["cs"],Csound_Document:["csd"],Csound_Orchestra:["orc"],Csound_Score:["sco"],CSS:["css"],Curly:["curly"],D:["d|di"],Dart:["dart"],Diff:["diff|patch"],Dockerfile:["^Dockerfile"],Dot:["dot"],Drools:["drl"],Edifact:["edi"],Eiffel:["e|ge"],EJS:["ejs"],Elixir:["ex|exs"],Elm:["elm"],Erlang:["erl|hrl"],Forth:["frt|fs|ldr|fth|4th"],Fortran:["f|f90"],FSharp:["fsi|fs|ml|mli|fsx|fsscript"],FSL:["fsl"],FTL:["ftl"],Gcode:["gcode"],Gherkin:["feature"],Gitignore:["^.gitignore"],Glsl:["glsl|frag|vert"],Gobstones:["gbs"],golang:["go"],GraphQLSchema:["gql"],Groovy:["groovy"],HAML:["haml"],Handlebars:["hbs|handlebars|tpl|mustache"],Haskell:["hs"],Haskell_Cabal:["cabal"],haXe:["hx"],Hjson:["hjson"],HTML:["html|htm|xhtml|vue|we|wpy"],HTML_Elixir:["eex|html.eex"],HTML_Ruby:["erb|rhtml|html.erb"],INI:["ini|conf|cfg|prefs"],Io:["io"],Ion:["ion"],Jack:["jack"],Jade:["jade|pug"],Java:["java"],JavaScript:["js|jsm|jsx|cjs|mjs"],JEXL:["jexl"],JSON:["json"],JSON5:["json5"],JSONiq:["jq"],JSP:["jsp"],JSSM:["jssm|jssm_state"],JSX:["jsx"],Julia:["jl"],Kotlin:["kt|kts"],LaTeX:["tex|latex|ltx|bib"],Latte:["latte"],LESS:["less"],Liquid:["liquid"],Lisp:["lisp"],LiveScript:["ls"],Log:["log"],LogiQL:["logic|lql"],Logtalk:["lgt"],LSL:["lsl"],Lua:["lua"],LuaPage:["lp"],Lucene:["lucene"],Makefile:["^Makefile|^GNUmakefile|^makefile|^OCamlMakefile|make"],Markdown:["md|markdown"],Mask:["mask"],MATLAB:["matlab"],Maze:["mz"],MediaWiki:["wiki|mediawiki"],MEL:["mel"],MIPS:["s|asm"],MIXAL:["mixal"],MUSHCode:["mc|mush"],MySQL:["mysql"],Nginx:["nginx|conf"],Nim:["nim"],Nix:["nix"],NSIS:["nsi|nsh"],Nunjucks:["nunjucks|nunjs|nj|njk"],ObjectiveC:["m|mm"],OCaml:["ml|mli"],PartiQL:["partiql|pql"],Pascal:["pas|p"],Perl:["pl|pm"],pgSQL:["pgsql"],PHP:["php|inc|phtml|shtml|php3|php4|php5|phps|phpt|aw|ctp|module"],PHP_Laravel_blade:["blade.php"],Pig:["pig"],PLSQL:["plsql"],Powershell:["ps1"],Praat:["praat|praatscript|psc|proc"],Prisma:["prisma"],Prolog:["plg|prolog"],Properties:["properties"],Protobuf:["proto"],Puppet:["epp|pp"],Python:["py"],QML:["qml"],R:["r"],Raku:["raku|rakumod|rakutest|p6|pl6|pm6"],Razor:["cshtml|asp"],RDoc:["Rd"],Red:["red|reds"],RHTML:["Rhtml"],Robot:["robot|resource"],RST:["rst"],Ruby:["rb|ru|gemspec|rake|^Guardfile|^Rakefile|^Gemfile"],Rust:["rs"],SaC:["sac"],SASS:["sass"],SCAD:["scad"],Scala:["scala|sbt"],Scheme:["scm|sm|rkt|oak|scheme"],Scrypt:["scrypt"],SCSS:["scss"],SH:["sh|bash|^.bashrc"],SJS:["sjs"],Slim:["slim|skim"],Smarty:["smarty|tpl"],Smithy:["smithy"],snippets:["snippets"],Soy_Template:["soy"],Space:["space"],SPARQL:["rq"],SQL:["sql"],SQLServer:["sqlserver"],Stylus:["styl|stylus"],SVG:["svg"],Swift:["swift"],Tcl:["tcl"],Terraform:["tf","tfvars","terragrunt"],Tex:["tex"],Text:["txt"],Textile:["textile"],Toml:["toml"],TSX:["tsx"],Turtle:["ttl"],Twig:["twig|swig"],Typescript:["ts|typescript|str"],Vala:["vala"],VBScript:["vbs|vb"],Velocity:["vm"],Verilog:["v|vh|sv|svh"],VHDL:["vhd|vhdl"],Visualforce:["vfp|component|page"],Wollok:["wlk|wpgm|wtest"],XML:["xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl|xaml"],XQuery:["xq"],YAML:["yaml|yml"],Zeek:["zeek|bro"],Django:["html"]},r={ObjectiveC:"Objective-C",CSharp:"C#",golang:"Go",C_Cpp:"C and C++",Csound_Document:"Csound Document",Csound_Orchestra:"Csound",Csound_Score:"Csound Score",coffee:"CoffeeScript",HTML_Ruby:"HTML (Ruby)",HTML_Elixir:"HTML (Elixir)",FTL:"FreeMarker",PHP_Laravel_blade:"PHP (Blade Template)",Perl6:"Perl 6",AutoHotKey:"AutoHotkey / AutoIt"},a={};for(var l in o){var c=o[l],h=(r[l]||l).replace(/_/g," "),d=l.toLowerCase(),u=new s(d,h,c[0]);a[d]=u,n.push(u)}i.exports={getModeForPath:function(e){for(var t=a.text,i=e.split(/[\/\\]/).pop(),s=0;s<n.length;s++)if(n[s].supportsFile(i)){t=n[s];break}return t},modes:n,modesByName:a}})),ace.require(["ace/ext/modelist"],(function(t){e&&(e.exports=t)}))},6245:(e,t,i)=>{ace.config.setModuleUrl("ace/ext/beautify",i(4277)),ace.config.setModuleUrl("ace/ext/code_lens",i(4113)),ace.config.setModuleUrl("ace/ext/elastic_tabstops_lite",i(1334)),ace.config.setModuleUrl("ace/ext/emmet",i(9503)),ace.config.setModuleUrl("ace/ext/error_marker",i(3823)),ace.config.setModuleUrl("ace/ext/hardwrap",i(3526)),ace.config.setModuleUrl("ace/ext/keyboard_menu",i(8026)),ace.config.setModuleUrl("ace/ext/language_tools",i(5065)),ace.config.setModuleUrl("ace/ext/linking",i(4422)),ace.config.setModuleUrl("ace/ext/modelist",i(9624)),ace.config.setModuleUrl("ace/ext/options",i(7704)),ace.config.setModuleUrl("ace/ext/prompt",i(3172)),ace.config.setModuleUrl("ace/ext/rtl",i(1165)),ace.config.setModuleUrl("ace/ext/searchbox",i(7490)),ace.config.setModuleUrl("ace/ext/settings_menu",i(9159)),ace.config.setModuleUrl("ace/ext/spellcheck",i(4666)),ace.config.setModuleUrl("ace/ext/split",i(2489)),ace.config.setModuleUrl("ace/ext/static_highlight",i(6385)),ace.config.setModuleUrl("ace/ext/statusbar",i(3038)),ace.config.setModuleUrl("ace/ext/textarea",i(7097)),ace.config.setModuleUrl("ace/ext/themelist",i(3603)),ace.config.setModuleUrl("ace/ext/whitespace",i(5367)),ace.config.setModuleUrl("ace/keyboard/emacs",i(7863)),ace.config.setModuleUrl("ace/keyboard/sublime",i(7630)),ace.config.setModuleUrl("ace/keyboard/vim",i(1380)),ace.config.setModuleUrl("ace/keyboard/vscode",i(1366)),ace.config.setModuleUrl("ace/mode/abap",i(1108)),ace.config.setModuleUrl("ace/mode/abc",i(6293)),ace.config.setModuleUrl("ace/mode/actionscript",i(29)),ace.config.setModuleUrl("ace/mode/ada",i(6375)),ace.config.setModuleUrl("ace/mode/alda",i(9254)),ace.config.setModuleUrl("ace/mode/apache_conf",i(7006)),ace.config.setModuleUrl("ace/mode/apex",i(9027)),ace.config.setModuleUrl("ace/mode/applescript",i(8032)),ace.config.setModuleUrl("ace/mode/aql",i(3398)),ace.config.setModuleUrl("ace/mode/asciidoc",i(3723)),ace.config.setModuleUrl("ace/mode/asl",i(4264)),ace.config.setModuleUrl("ace/mode/assembly_x86",i(2066)),ace.config.setModuleUrl("ace/mode/autohotkey",i(7382)),ace.config.setModuleUrl("ace/mode/batchfile",i(9323)),ace.config.setModuleUrl("ace/mode/bibtex",i(2629)),ace.config.setModuleUrl("ace/mode/c9search",i(1022)),ace.config.setModuleUrl("ace/mode/c_cpp",i(9783)),ace.config.setModuleUrl("ace/mode/cirru",i(3322)),ace.config.setModuleUrl("ace/mode/clojure",i(3068)),ace.config.setModuleUrl("ace/mode/cobol",i(7944)),ace.config.setModuleUrl("ace/mode/coffee",i(6816)),ace.config.setModuleUrl("ace/mode/coldfusion",i(4338)),ace.config.setModuleUrl("ace/mode/crystal",i(5209)),ace.config.setModuleUrl("ace/mode/csharp",i(6147)),ace.config.setModuleUrl("ace/mode/csound_document",i(4967)),ace.config.setModuleUrl("ace/mode/csound_orchestra",i(9681)),ace.config.setModuleUrl("ace/mode/csound_score",i(2988)),ace.config.setModuleUrl("ace/mode/csp",i(1951)),ace.config.setModuleUrl("ace/mode/css",i(1590)),ace.config.setModuleUrl("ace/mode/curly",i(1877)),ace.config.setModuleUrl("ace/mode/d",i(6473)),ace.config.setModuleUrl("ace/mode/dart",i(5029)),ace.config.setModuleUrl("ace/mode/diff",i(2070)),ace.config.setModuleUrl("ace/mode/django",i(8721)),ace.config.setModuleUrl("ace/mode/dockerfile",i(5655)),ace.config.setModuleUrl("ace/mode/dot",i(3030)),ace.config.setModuleUrl("ace/mode/drools",i(5838)),ace.config.setModuleUrl("ace/mode/edifact",i(751)),ace.config.setModuleUrl("ace/mode/eiffel",i(2501)),ace.config.setModuleUrl("ace/mode/ejs",i(7593)),ace.config.setModuleUrl("ace/mode/elixir",i(6281)),ace.config.setModuleUrl("ace/mode/elm",i(6642)),ace.config.setModuleUrl("ace/mode/erlang",i(9514)),ace.config.setModuleUrl("ace/mode/forth",i(3429)),ace.config.setModuleUrl("ace/mode/fortran",i(5187)),ace.config.setModuleUrl("ace/mode/fsharp",i(1417)),ace.config.setModuleUrl("ace/mode/fsl",i(9306)),ace.config.setModuleUrl("ace/mode/ftl",i(2802)),ace.config.setModuleUrl("ace/mode/gcode",i(9901)),ace.config.setModuleUrl("ace/mode/gherkin",i(8135)),ace.config.setModuleUrl("ace/mode/gitignore",i(8100)),ace.config.setModuleUrl("ace/mode/glsl",i(1975)),ace.config.setModuleUrl("ace/mode/gobstones",i(5623)),ace.config.setModuleUrl("ace/mode/golang",i(361)),ace.config.setModuleUrl("ace/mode/graphqlschema",i(2550)),ace.config.setModuleUrl("ace/mode/groovy",i(2641)),ace.config.setModuleUrl("ace/mode/haml",i(5521)),ace.config.setModuleUrl("ace/mode/handlebars",i(7605)),ace.config.setModuleUrl("ace/mode/haskell",i(4977)),ace.config.setModuleUrl("ace/mode/haskell_cabal",i(2681)),ace.config.setModuleUrl("ace/mode/haxe",i(722)),ace.config.setModuleUrl("ace/mode/hjson",i(4217)),ace.config.setModuleUrl("ace/mode/html",i(557)),ace.config.setModuleUrl("ace/mode/html_elixir",i(5050)),ace.config.setModuleUrl("ace/mode/html_ruby",i(6493)),ace.config.setModuleUrl("ace/mode/ini",i(1580)),ace.config.setModuleUrl("ace/mode/io",i(8019)),ace.config.setModuleUrl("ace/mode/ion",i(1226)),ace.config.setModuleUrl("ace/mode/jack",i(618)),ace.config.setModuleUrl("ace/mode/jade",i(9461)),ace.config.setModuleUrl("ace/mode/java",i(7002)),ace.config.setModuleUrl("ace/mode/javascript",i(6358)),ace.config.setModuleUrl("ace/mode/jexl",i(4028)),ace.config.setModuleUrl("ace/mode/json",i(2358)),ace.config.setModuleUrl("ace/mode/json5",i(7496)),ace.config.setModuleUrl("ace/mode/jsoniq",i(7905)),ace.config.setModuleUrl("ace/mode/jsp",i(4441)),ace.config.setModuleUrl("ace/mode/jssm",i(3703)),ace.config.setModuleUrl("ace/mode/jsx",i(1531)),ace.config.setModuleUrl("ace/mode/julia",i(3679)),ace.config.setModuleUrl("ace/mode/kotlin",i(2478)),ace.config.setModuleUrl("ace/mode/latex",i(2926)),ace.config.setModuleUrl("ace/mode/latte",i(5460)),ace.config.setModuleUrl("ace/mode/less",i(7051)),ace.config.setModuleUrl("ace/mode/liquid",i(3566)),ace.config.setModuleUrl("ace/mode/lisp",i(5992)),ace.config.setModuleUrl("ace/mode/livescript",i(6846)),ace.config.setModuleUrl("ace/mode/logiql",i(4158)),ace.config.setModuleUrl("ace/mode/logtalk",i(8164)),ace.config.setModuleUrl("ace/mode/lsl",i(7214)),ace.config.setModuleUrl("ace/mode/lua",i(9193)),ace.config.setModuleUrl("ace/mode/luapage",i(7036)),ace.config.setModuleUrl("ace/mode/lucene",i(1145)),ace.config.setModuleUrl("ace/mode/makefile",i(9724)),ace.config.setModuleUrl("ace/mode/markdown",i(3094)),ace.config.setModuleUrl("ace/mode/mask",i(9999)),ace.config.setModuleUrl("ace/mode/matlab",i(2562)),ace.config.setModuleUrl("ace/mode/maze",i(1995)),ace.config.setModuleUrl("ace/mode/mediawiki",i(2699)),ace.config.setModuleUrl("ace/mode/mel",i(1367)),ace.config.setModuleUrl("ace/mode/mips",i(951)),ace.config.setModuleUrl("ace/mode/mixal",i(9636)),ace.config.setModuleUrl("ace/mode/mushcode",i(8279)),ace.config.setModuleUrl("ace/mode/mysql",i(5765)),ace.config.setModuleUrl("ace/mode/nginx",i(9258)),ace.config.setModuleUrl("ace/mode/nim",i(2583)),ace.config.setModuleUrl("ace/mode/nix",i(149)),ace.config.setModuleUrl("ace/mode/nsis",i(2726)),ace.config.setModuleUrl("ace/mode/nunjucks",i(4009)),ace.config.setModuleUrl("ace/mode/objectivec",i(6877)),ace.config.setModuleUrl("ace/mode/ocaml",i(5599)),ace.config.setModuleUrl("ace/mode/partiql",i(6744)),ace.config.setModuleUrl("ace/mode/pascal",i(5396)),ace.config.setModuleUrl("ace/mode/perl",i(2893)),ace.config.setModuleUrl("ace/mode/pgsql",i(3665)),ace.config.setModuleUrl("ace/mode/php",i(9030)),ace.config.setModuleUrl("ace/mode/php_laravel_blade",i(7847)),ace.config.setModuleUrl("ace/mode/pig",i(8864)),ace.config.setModuleUrl("ace/mode/plain_text",i(7251)),ace.config.setModuleUrl("ace/mode/plsql",i(2469)),ace.config.setModuleUrl("ace/mode/powershell",i(9933)),ace.config.setModuleUrl("ace/mode/praat",i(647)),ace.config.setModuleUrl("ace/mode/prisma",i(8591)),ace.config.setModuleUrl("ace/mode/prolog",i(5661)),ace.config.setModuleUrl("ace/mode/properties",i(9423)),ace.config.setModuleUrl("ace/mode/protobuf",i(857)),ace.config.setModuleUrl("ace/mode/puppet",i(7906)),ace.config.setModuleUrl("ace/mode/python",i(2198)),ace.config.setModuleUrl("ace/mode/qml",i(8200)),ace.config.setModuleUrl("ace/mode/r",i(9904)),ace.config.setModuleUrl("ace/mode/raku",i(2745)),ace.config.setModuleUrl("ace/mode/razor",i(297)),ace.config.setModuleUrl("ace/mode/rdoc",i(3475)),ace.config.setModuleUrl("ace/mode/red",i(8613)),ace.config.setModuleUrl("ace/mode/redshift",i(3643)),ace.config.setModuleUrl("ace/mode/rhtml",i(9288)),ace.config.setModuleUrl("ace/mode/robot",i(9538)),ace.config.setModuleUrl("ace/mode/rst",i(7374)),ace.config.setModuleUrl("ace/mode/ruby",i(2449)),ace.config.setModuleUrl("ace/mode/rust",i(9934)),ace.config.setModuleUrl("ace/mode/sac",i(4583)),ace.config.setModuleUrl("ace/mode/sass",i(1418)),ace.config.setModuleUrl("ace/mode/scad",i(4129)),ace.config.setModuleUrl("ace/mode/scala",i(6363)),ace.config.setModuleUrl("ace/mode/scheme",i(7439)),ace.config.setModuleUrl("ace/mode/scrypt",i(832)),ace.config.setModuleUrl("ace/mode/scss",i(3887)),ace.config.setModuleUrl("ace/mode/sh",i(8971)),ace.config.setModuleUrl("ace/mode/sjs",i(641)),ace.config.setModuleUrl("ace/mode/slim",i(6774)),ace.config.setModuleUrl("ace/mode/smarty",i(726)),ace.config.setModuleUrl("ace/mode/smithy",i(3378)),ace.config.setModuleUrl("ace/mode/snippets",i(1033)),ace.config.setModuleUrl("ace/mode/soy_template",i(6178)),ace.config.setModuleUrl("ace/mode/space",i(3434)),ace.config.setModuleUrl("ace/mode/sparql",i(9366)),ace.config.setModuleUrl("ace/mode/sql",i(4117)),ace.config.setModuleUrl("ace/mode/sqlserver",i(6979)),ace.config.setModuleUrl("ace/mode/stylus",i(7945)),ace.config.setModuleUrl("ace/mode/svg",i(7857)),ace.config.setModuleUrl("ace/mode/swift",i(4928)),ace.config.setModuleUrl("ace/mode/tcl",i(5545)),ace.config.setModuleUrl("ace/mode/terraform",i(4806)),ace.config.setModuleUrl("ace/mode/tex",i(965)),ace.config.setModuleUrl("ace/mode/text",i(8322)),ace.config.setModuleUrl("ace/mode/textile",i(6626)),ace.config.setModuleUrl("ace/mode/toml",i(2363)),ace.config.setModuleUrl("ace/mode/tsx",i(3930)),ace.config.setModuleUrl("ace/mode/turtle",i(4205)),ace.config.setModuleUrl("ace/mode/twig",i(8488)),ace.config.setModuleUrl("ace/mode/typescript",i(1947)),ace.config.setModuleUrl("ace/mode/vala",i(9897)),ace.config.setModuleUrl("ace/mode/vbscript",i(6405)),ace.config.setModuleUrl("ace/mode/velocity",i(5794)),ace.config.setModuleUrl("ace/mode/verilog",i(9010)),ace.config.setModuleUrl("ace/mode/vhdl",i(7535)),ace.config.setModuleUrl("ace/mode/visualforce",i(7109)),ace.config.setModuleUrl("ace/mode/wollok",i(9601)),ace.config.setModuleUrl("ace/mode/xml",i(3889)),ace.config.setModuleUrl("ace/mode/xquery",i(2317)),ace.config.setModuleUrl("ace/mode/yaml",i(577)),ace.config.setModuleUrl("ace/mode/zeek",i(7154)),ace.config.setModuleUrl("ace/theme/ambiance",i(9274)),ace.config.setModuleUrl("ace/theme/chaos",i(9647)),ace.config.setModuleUrl("ace/theme/chrome",i(2434)),ace.config.setModuleUrl("ace/theme/cloud9_day",i(8025)),ace.config.setModuleUrl("ace/theme/cloud9_night",i(5429)),ace.config.setModuleUrl("ace/theme/cloud9_night_low_color",i(5091)),ace.config.setModuleUrl("ace/theme/clouds",i(2776)),ace.config.setModuleUrl("ace/theme/clouds_midnight",i(8557)),ace.config.setModuleUrl("ace/theme/cobalt",i(7479)),ace.config.setModuleUrl("ace/theme/crimson_editor",i(9204)),ace.config.setModuleUrl("ace/theme/dawn",i(7877)),ace.config.setModuleUrl("ace/theme/dracula",i(5056)),ace.config.setModuleUrl("ace/theme/dreamweaver",i(4262)),ace.config.setModuleUrl("ace/theme/eclipse",i(6529)),ace.config.setModuleUrl("ace/theme/github",i(8437)),ace.config.setModuleUrl("ace/theme/gob",i(7722)),ace.config.setModuleUrl("ace/theme/gruvbox",i(9021)),ace.config.setModuleUrl("ace/theme/gruvbox_dark_hard",i(3245)),ace.config.setModuleUrl("ace/theme/gruvbox_light_hard",i(5996)),ace.config.setModuleUrl("ace/theme/idle_fingers",i(1197)),ace.config.setModuleUrl("ace/theme/iplastic",i(7669)),ace.config.setModuleUrl("ace/theme/katzenmilch",i(7533)),ace.config.setModuleUrl("ace/theme/kr_theme",i(5626)),ace.config.setModuleUrl("ace/theme/kuroir",i(6527)),ace.config.setModuleUrl("ace/theme/merbivore",i(7406)),ace.config.setModuleUrl("ace/theme/merbivore_soft",i(8267)),ace.config.setModuleUrl("ace/theme/mono_industrial",i(8845)),ace.config.setModuleUrl("ace/theme/monokai",i(4834)),ace.config.setModuleUrl("ace/theme/nord_dark",i(5498)),ace.config.setModuleUrl("ace/theme/one_dark",i(9061)),ace.config.setModuleUrl("ace/theme/pastel_on_dark",i(9580)),ace.config.setModuleUrl("ace/theme/solarized_dark",i(1502)),ace.config.setModuleUrl("ace/theme/solarized_light",i(2266)),ace.config.setModuleUrl("ace/theme/sqlserver",i(7779)),ace.config.setModuleUrl("ace/theme/terminal",i(5880)),ace.config.setModuleUrl("ace/theme/textmate",i(6722)),ace.config.setModuleUrl("ace/theme/tomorrow",i(6394)),ace.config.setModuleUrl("ace/theme/tomorrow_night",i(754)),ace.config.setModuleUrl("ace/theme/tomorrow_night_blue",i(4174)),ace.config.setModuleUrl("ace/theme/tomorrow_night_bright",i(1911)),ace.config.setModuleUrl("ace/theme/tomorrow_night_eighties",i(2334)),ace.config.setModuleUrl("ace/theme/twilight",i(4852)),ace.config.setModuleUrl("ace/theme/vibrant_ink",i(3840)),ace.config.setModuleUrl("ace/theme/xcode",i(4884)),ace.config.setModuleUrl("ace/mode/base_worker",i(4474)),ace.config.setModuleUrl("ace/mode/coffee_worker",i(7067)),ace.config.setModuleUrl("ace/mode/css_worker",i(3948)),ace.config.setModuleUrl("ace/mode/html_worker",i(425)),ace.config.setModuleUrl("ace/mode/javascript_worker",i(1836)),ace.config.setModuleUrl("ace/mode/json_worker",i(6881)),ace.config.setModuleUrl("ace/mode/lua_worker",i(3439)),ace.config.setModuleUrl("ace/mode/php_worker",i(4984)),ace.config.setModuleUrl("ace/mode/xml_worker",i(2980)),ace.config.setModuleUrl("ace/mode/xquery_worker",i(2426)),ace.config.setModuleUrl("ace/mode/yaml_worker",i(9257)),ace.config.setModuleUrl("ace/snippets/abap",i(6504)),ace.config.setModuleUrl("ace/snippets/abc",i(5240)),ace.config.setModuleUrl("ace/snippets/actionscript",i(9742)),ace.config.setModuleUrl("ace/snippets/ada",i(8332)),ace.config.setModuleUrl("ace/snippets/alda",i(4971)),ace.config.setModuleUrl("ace/snippets/apache_conf",i(1072)),ace.config.setModuleUrl("ace/snippets/apex",i(2820)),ace.config.setModuleUrl("ace/snippets/applescript",i(8089)),ace.config.setModuleUrl("ace/snippets/aql",i(2688)),ace.config.setModuleUrl("ace/snippets/asciidoc",i(2950)),ace.config.setModuleUrl("ace/snippets/asl",i(3092)),ace.config.setModuleUrl("ace/snippets/assembly_x86",i(9780)),ace.config.setModuleUrl("ace/snippets/autohotkey",i(1763)),ace.config.setModuleUrl("ace/snippets/batchfile",i(1743)),ace.config.setModuleUrl("ace/snippets/bibtex",i(9022)),ace.config.setModuleUrl("ace/snippets/c9search",i(2545)),ace.config.setModuleUrl("ace/snippets/c_cpp",i(8396)),ace.config.setModuleUrl("ace/snippets/cirru",i(2343)),ace.config.setModuleUrl("ace/snippets/clojure",i(5860)),ace.config.setModuleUrl("ace/snippets/cobol",i(4623)),ace.config.setModuleUrl("ace/snippets/coffee",i(9037)),ace.config.setModuleUrl("ace/snippets/coldfusion",i(5581)),ace.config.setModuleUrl("ace/snippets/crystal",i(4039)),ace.config.setModuleUrl("ace/snippets/csharp",i(3248)),ace.config.setModuleUrl("ace/snippets/csound_document",i(428)),ace.config.setModuleUrl("ace/snippets/csound_orchestra",i(5823)),ace.config.setModuleUrl("ace/snippets/csound_score",i(3731)),ace.config.setModuleUrl("ace/snippets/csp",i(6557)),ace.config.setModuleUrl("ace/snippets/css",i(7675)),ace.config.setModuleUrl("ace/snippets/curly",i(3790)),ace.config.setModuleUrl("ace/snippets/d",i(4689)),ace.config.setModuleUrl("ace/snippets/dart",i(2505)),ace.config.setModuleUrl("ace/snippets/diff",i(9822)),ace.config.setModuleUrl("ace/snippets/django",i(7986)),ace.config.setModuleUrl("ace/snippets/dockerfile",i(9212)),ace.config.setModuleUrl("ace/snippets/dot",i(8191)),ace.config.setModuleUrl("ace/snippets/drools",i(7879)),ace.config.setModuleUrl("ace/snippets/edifact",i(3737)),ace.config.setModuleUrl("ace/snippets/eiffel",i(9067)),ace.config.setModuleUrl("ace/snippets/ejs",i(147)),ace.config.setModuleUrl("ace/snippets/elixir",i(1883)),ace.config.setModuleUrl("ace/snippets/elm",i(8572)),ace.config.setModuleUrl("ace/snippets/erlang",i(4135)),ace.config.setModuleUrl("ace/snippets/forth",i(3174)),ace.config.setModuleUrl("ace/snippets/fortran",i(2539)),ace.config.setModuleUrl("ace/snippets/fsharp",i(5250)),ace.config.setModuleUrl("ace/snippets/fsl",i(490)),ace.config.setModuleUrl("ace/snippets/ftl",i(1805)),ace.config.setModuleUrl("ace/snippets/gcode",i(6143)),ace.config.setModuleUrl("ace/snippets/gherkin",i(6850)),ace.config.setModuleUrl("ace/snippets/gitignore",i(957)),ace.config.setModuleUrl("ace/snippets/glsl",i(5154)),ace.config.setModuleUrl("ace/snippets/gobstones",i(1523)),ace.config.setModuleUrl("ace/snippets/golang",i(7480)),ace.config.setModuleUrl("ace/snippets/graphqlschema",i(7570)),ace.config.setModuleUrl("ace/snippets/groovy",i(9179)),ace.config.setModuleUrl("ace/snippets/haml",i(8639)),ace.config.setModuleUrl("ace/snippets/handlebars",i(8096)),ace.config.setModuleUrl("ace/snippets/haskell",i(1889)),ace.config.setModuleUrl("ace/snippets/haskell_cabal",i(9478)),ace.config.setModuleUrl("ace/snippets/haxe",i(6639)),ace.config.setModuleUrl("ace/snippets/hjson",i(6754)),ace.config.setModuleUrl("ace/snippets/html",i(4349)),ace.config.setModuleUrl("ace/snippets/html_elixir",i(7204)),ace.config.setModuleUrl("ace/snippets/html_ruby",i(2473)),ace.config.setModuleUrl("ace/snippets/ini",i(1752)),ace.config.setModuleUrl("ace/snippets/io",i(380)),ace.config.setModuleUrl("ace/snippets/ion",i(3785)),ace.config.setModuleUrl("ace/snippets/jack",i(6051)),ace.config.setModuleUrl("ace/snippets/jade",i(3795)),ace.config.setModuleUrl("ace/snippets/java",i(1666)),ace.config.setModuleUrl("ace/snippets/javascript",i(6014)),ace.config.setModuleUrl("ace/snippets/jexl",i(4565)),ace.config.setModuleUrl("ace/snippets/json",i(3992)),ace.config.setModuleUrl("ace/snippets/json5",i(7841)),ace.config.setModuleUrl("ace/snippets/jsoniq",i(3129)),ace.config.setModuleUrl("ace/snippets/jsp",i(3217)),ace.config.setModuleUrl("ace/snippets/jssm",i(6087)),ace.config.setModuleUrl("ace/snippets/jsx",i(6818)),ace.config.setModuleUrl("ace/snippets/julia",i(8327)),ace.config.setModuleUrl("ace/snippets/kotlin",i(5009)),ace.config.setModuleUrl("ace/snippets/latex",i(3568)),ace.config.setModuleUrl("ace/snippets/latte",i(1353)),ace.config.setModuleUrl("ace/snippets/less",i(4914)),ace.config.setModuleUrl("ace/snippets/liquid",i(8784)),ace.config.setModuleUrl("ace/snippets/lisp",i(1650)),ace.config.setModuleUrl("ace/snippets/livescript",i(4301)),ace.config.setModuleUrl("ace/snippets/logiql",i(1159)),ace.config.setModuleUrl("ace/snippets/logtalk",i(9900)),ace.config.setModuleUrl("ace/snippets/lsl",i(7584)),ace.config.setModuleUrl("ace/snippets/lua",i(6610)),ace.config.setModuleUrl("ace/snippets/luapage",i(3273)),ace.config.setModuleUrl("ace/snippets/lucene",i(6757)),ace.config.setModuleUrl("ace/snippets/makefile",i(8536)),ace.config.setModuleUrl("ace/snippets/markdown",i(456)),ace.config.setModuleUrl("ace/snippets/mask",i(3946)),ace.config.setModuleUrl("ace/snippets/matlab",i(3801)),ace.config.setModuleUrl("ace/snippets/maze",i(9113)),ace.config.setModuleUrl("ace/snippets/mediawiki",i(782)),ace.config.setModuleUrl("ace/snippets/mel",i(6622)),ace.config.setModuleUrl("ace/snippets/mips",i(3899)),ace.config.setModuleUrl("ace/snippets/mixal",i(5072)),ace.config.setModuleUrl("ace/snippets/mushcode",i(8719)),ace.config.setModuleUrl("ace/snippets/mysql",i(239)),ace.config.setModuleUrl("ace/snippets/nginx",i(5591)),ace.config.setModuleUrl("ace/snippets/nim",i(1053)),ace.config.setModuleUrl("ace/snippets/nix",i(8002)),ace.config.setModuleUrl("ace/snippets/nsis",i(186)),ace.config.setModuleUrl("ace/snippets/nunjucks",i(8262)),ace.config.setModuleUrl("ace/snippets/objectivec",i(4457)),ace.config.setModuleUrl("ace/snippets/ocaml",i(1506)),ace.config.setModuleUrl("ace/snippets/partiql",i(9287)),ace.config.setModuleUrl("ace/snippets/pascal",i(3935)),ace.config.setModuleUrl("ace/snippets/perl",i(9018)),ace.config.setModuleUrl("ace/snippets/pgsql",i(6066)),ace.config.setModuleUrl("ace/snippets/php",i(6132)),ace.config.setModuleUrl("ace/snippets/php_laravel_blade",i(4543)),ace.config.setModuleUrl("ace/snippets/pig",i(1105)),ace.config.setModuleUrl("ace/snippets/plain_text",i(5873)),ace.config.setModuleUrl("ace/snippets/plsql",i(5786)),ace.config.setModuleUrl("ace/snippets/powershell",i(6214)),ace.config.setModuleUrl("ace/snippets/praat",i(2730)),ace.config.setModuleUrl("ace/snippets/prisma",i(835)),ace.config.setModuleUrl("ace/snippets/prolog",i(682)),ace.config.setModuleUrl("ace/snippets/properties",i(2554)),ace.config.setModuleUrl("ace/snippets/protobuf",i(9444)),ace.config.setModuleUrl("ace/snippets/puppet",i(8157)),ace.config.setModuleUrl("ace/snippets/python",i(7223)),ace.config.setModuleUrl("ace/snippets/qml",i(4257)),ace.config.setModuleUrl("ace/snippets/r",i(8119)),ace.config.setModuleUrl("ace/snippets/raku",i(9949)),ace.config.setModuleUrl("ace/snippets/razor",i(6048)),ace.config.setModuleUrl("ace/snippets/rdoc",i(2453)),ace.config.setModuleUrl("ace/snippets/red",i(3448)),ace.config.setModuleUrl("ace/snippets/redshift",i(5186)),ace.config.setModuleUrl("ace/snippets/rhtml",i(8298)),ace.config.setModuleUrl("ace/snippets/robot",i(8661)),ace.config.setModuleUrl("ace/snippets/rst",i(1573)),ace.config.setModuleUrl("ace/snippets/ruby",i(1602)),ace.config.setModuleUrl("ace/snippets/rust",i(4334)),ace.config.setModuleUrl("ace/snippets/sac",i(8999)),ace.config.setModuleUrl("ace/snippets/sass",i(8225)),ace.config.setModuleUrl("ace/snippets/scad",i(2551)),ace.config.setModuleUrl("ace/snippets/scala",i(1545)),ace.config.setModuleUrl("ace/snippets/scheme",i(1005)),ace.config.setModuleUrl("ace/snippets/scrypt",i(7544)),ace.config.setModuleUrl("ace/snippets/scss",i(9202)),ace.config.setModuleUrl("ace/snippets/sh",i(9032)),ace.config.setModuleUrl("ace/snippets/sjs",i(2257)),ace.config.setModuleUrl("ace/snippets/slim",i(8051)),ace.config.setModuleUrl("ace/snippets/smarty",i(7393)),ace.config.setModuleUrl("ace/snippets/smithy",i(6154)),ace.config.setModuleUrl("ace/snippets/snippets",i(9495)),ace.config.setModuleUrl("ace/snippets/soy_template",i(5791)),ace.config.setModuleUrl("ace/snippets/space",i(1583)),ace.config.setModuleUrl("ace/snippets/sparql",i(920)),ace.config.setModuleUrl("ace/snippets/sql",i(6848)),ace.config.setModuleUrl("ace/snippets/sqlserver",i(4980)),ace.config.setModuleUrl("ace/snippets/stylus",i(2147)),ace.config.setModuleUrl("ace/snippets/svg",i(7250)),ace.config.setModuleUrl("ace/snippets/swift",i(655)),ace.config.setModuleUrl("ace/snippets/tcl",i(2854)),ace.config.setModuleUrl("ace/snippets/terraform",i(7161)),ace.config.setModuleUrl("ace/snippets/tex",i(8337)),ace.config.setModuleUrl("ace/snippets/text",i(3564)),ace.config.setModuleUrl("ace/snippets/textile",i(673)),ace.config.setModuleUrl("ace/snippets/toml",i(4944)),ace.config.setModuleUrl("ace/snippets/tsx",i(2167)),ace.config.setModuleUrl("ace/snippets/turtle",i(9459)),ace.config.setModuleUrl("ace/snippets/twig",i(8967)),ace.config.setModuleUrl("ace/snippets/typescript",i(8052)),ace.config.setModuleUrl("ace/snippets/vala",i(4675)),ace.config.setModuleUrl("ace/snippets/vbscript",i(3118)),ace.config.setModuleUrl("ace/snippets/velocity",i(4173)),ace.config.setModuleUrl("ace/snippets/verilog",i(283)),ace.config.setModuleUrl("ace/snippets/vhdl",i(2785)),ace.config.setModuleUrl("ace/snippets/visualforce",i(3104)),ace.config.setModuleUrl("ace/snippets/wollok",i(2061)),ace.config.setModuleUrl("ace/snippets/xml",i(7872)),ace.config.setModuleUrl("ace/snippets/xquery",i(9873)),ace.config.setModuleUrl("ace/snippets/yaml",i(172)),ace.config.setModuleUrl("ace/snippets/zeek",i(4206))},258:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){var t,i,o=l(e),r=o[0],a=o[1],c=new s(function(e,t,i){return 3*(t+i)/4-i}(0,r,a)),h=0,d=a>0?r-4:r;for(i=0;i<d;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],c[h++]=t>>16&255,c[h++]=t>>8&255,c[h++]=255&t;return 2===a&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,c[h++]=255&t),1===a&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,c[h++]=t>>8&255,c[h++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,s=n%3,o=[],r=16383,a=0,l=n-s;a<l;a+=r)o.push(c(e,a,a+r>l?l:a+r));return 1===s?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===s&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),o.join("")};for(var i=[],n=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,a=o.length;r<a;++r)i[r]=o[r],n[o.charCodeAt(r)]=r;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function c(e,t,n){for(var s,o,r=[],a=t;a<n;a+=3)s=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),r.push(i[(o=s)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return r.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8764:(e,t,i)=>{"use strict";const n=i(258),s=i(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const r=2147483647;function a(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,i){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,i)}function c(e,t,i){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const i=0|g(e,t);let n=a(i);const s=n.write(e,t);return s!==i&&(n=n.slice(0,s)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return u(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return f(e,t,i);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return f(e,t,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,i);const s=function(e){if(l.isBuffer(e)){const t=0|p(e.length),i=a(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?a(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return h(e),a(e<0?0:0|p(e))}function u(e){const t=e.length<0?0:0|p(e.length),i=a(t);for(let n=0;n<t;n+=1)i[n]=255&e[n];return i}function f(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),Object.setPrototypeOf(n,l.prototype),n}function p(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const i=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;let s=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return G(e).length;default:if(s)return n?-1:q(e).length;t=(""+t).toLowerCase(),s=!0}}function m(e,t,i){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,i);case"utf8":case"utf-8":return $(this,t,i);case"ascii":return M(this,t,i);case"latin1":case"binary":return E(this,t,i);case"base64":return C(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,i){const n=e[t];e[t]=e[i],e[i]=n}function v(e,t,i,n,s){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),Y(i=+i)&&(i=s?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(s)return-1;i=e.length-1}else if(i<0){if(!s)return-1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:w(e,t,i,n,s);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):w(e,[t],i,n,s);throw new TypeError("val must be string, number or Buffer")}function w(e,t,i,n,s){let o,r=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;r=2,a/=2,l/=2,i/=2}function c(e,t){return 1===r?e[t]:e.readUInt16BE(t*r)}if(s){let n=-1;for(o=i;o<a;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===l)return n*r}else-1!==n&&(o-=o-n),n=-1}else for(i+l>a&&(i=a-l),o=i;o>=0;o--){let i=!0;for(let n=0;n<l;n++)if(c(e,o+n)!==c(t,n)){i=!1;break}if(i)return o}return-1}function y(e,t,i,n){i=Number(i)||0;const s=e.length-i;n?(n=Number(n))>s&&(n=s):n=s;const o=t.length;let r;for(n>o/2&&(n=o/2),r=0;r<n;++r){const n=parseInt(t.substr(2*r,2),16);if(Y(n))return r;e[i+r]=n}return r}function x(e,t,i,n){return K(q(t,e.length-i),e,i,n)}function k(e,t,i,n){return K(function(e){const t=[];for(let i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function _(e,t,i,n){return K(G(t),e,i,n)}function A(e,t,i,n){return K(function(e,t){let i,n,s;const o=[];for(let r=0;r<e.length&&!((t-=2)<0);++r)i=e.charCodeAt(r),n=i>>8,s=i%256,o.push(s),o.push(n);return o}(t,e.length-i),e,i,n)}function C(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function $(e,t,i){i=Math.min(e.length,i);const n=[];let s=t;for(;s<i;){const t=e[s];let o=null,r=t>239?4:t>223?3:t>191?2:1;if(s+r<=i){let i,n,a,l;switch(r){case 1:t<128&&(o=t);break;case 2:i=e[s+1],128==(192&i)&&(l=(31&t)<<6|63&i,l>127&&(o=l));break;case 3:i=e[s+1],n=e[s+2],128==(192&i)&&128==(192&n)&&(l=(15&t)<<12|(63&i)<<6|63&n,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:i=e[s+1],n=e[s+2],a=e[s+3],128==(192&i)&&128==(192&n)&&128==(192&a)&&(l=(15&t)<<18|(63&i)<<12|(63&n)<<6|63&a,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,r=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),s+=r}return function(e){const t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);let i="",n=0;for(;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=S));return i}(n)}t.kMaxLength=r,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,i){return c(e,t,i)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,i){return function(e,t,i){return h(e),e<=0?a(e):void 0!==t?"string"==typeof i?a(e).fill(t,i):a(e).fill(t):a(e)}(e,t,i)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;const n=l.allocUnsafe(t);let s=0;for(i=0;i<e.length;++i){let t=e[i];if(X(t,Uint8Array))s+t.length>n.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(n,s)):Uint8Array.prototype.set.call(n,t,s);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,s)}s+=t.length}return n},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)b(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?$(this,0,e):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const i=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,i,n,s){if(X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===s&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(this===e)return 0;let o=(s>>>=0)-(n>>>=0),r=(i>>>=0)-(t>>>=0);const a=Math.min(o,r),c=this.slice(n,s),h=e.slice(t,i);for(let e=0;e<a;++e)if(c[e]!==h[e]){o=c[e],r=h[e];break}return o<r?-1:r<o?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return v(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return v(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}const s=this.length-t;if((void 0===i||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return y(this,e,t,i);case"utf8":case"utf-8":return x(this,e,t,i);case"ascii":case"latin1":case"binary":return k(this,e,t,i);case"base64":return _(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const S=4096;function M(e,t,i){let n="";i=Math.min(e.length,i);for(let s=t;s<i;++s)n+=String.fromCharCode(127&e[s]);return n}function E(e,t,i){let n="";i=Math.min(e.length,i);for(let s=t;s<i;++s)n+=String.fromCharCode(e[s]);return n}function T(e,t,i){const n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);let s="";for(let n=t;n<i;++n)s+=Q[e[n]];return s}function L(e,t,i){const n=e.slice(t,i);let s="";for(let e=0;e<n.length-1;e+=2)s+=String.fromCharCode(n[e]+256*n[e+1]);return s}function R(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,i,n,s,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<o)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function O(e,t,i,n,s){j(t,n,s,e,i,7);let o=Number(t&BigInt(4294967295));e[i++]=o,o>>=8,e[i++]=o,o>>=8,e[i++]=o,o>>=8,e[i++]=o;let r=Number(t>>BigInt(32)&BigInt(4294967295));return e[i++]=r,r>>=8,e[i++]=r,r>>=8,e[i++]=r,r>>=8,e[i++]=r,i}function F(e,t,i,n,s){j(t,n,s,e,i,7);let o=Number(t&BigInt(4294967295));e[i+7]=o,o>>=8,e[i+6]=o,o>>=8,e[i+5]=o,o>>=8,e[i+4]=o;let r=Number(t>>BigInt(32)&BigInt(4294967295));return e[i+3]=r,r>>=8,e[i+2]=r,r>>=8,e[i+1]=r,r>>=8,e[i]=r,i+8}function z(e,t,i,n,s,o){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function U(e,t,i,n,o){return t=+t,i>>>=0,o||z(e,0,i,4),s.write(e,t,i,n,23,4),i+4}function N(e,t,i,n,o){return t=+t,i>>>=0,o||z(e,0,i,8),s.write(e,t,i,n,52,8),i+8}l.prototype.slice=function(e,t){const i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||R(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||R(e,t,this.length);let n=this[e+--t],s=1;for(;t>0&&(s*=256);)n+=this[e+--t]*s;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=J((function(e){W(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||H(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,s=this[++e]+256*this[++e]+65536*this[++e]+i*2**24;return BigInt(n)+(BigInt(s)<<BigInt(32))})),l.prototype.readBigUInt64BE=J((function(e){W(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||H(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],s=this[++e]*2**24+65536*this[++e]+256*this[++e]+i;return(BigInt(n)<<BigInt(32))+BigInt(s)})),l.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||R(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||R(e,t,this.length);let n=t,s=1,o=this[e+--n];for(;n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=J((function(e){W(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||H(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=J((function(e){W(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||H(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+i)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),s.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),s.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),s.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),s.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||I(this,e,t,i,Math.pow(2,8*i)-1,0);let s=1,o=0;for(this[t]=255&e;++o<i&&(s*=256);)this[t+o]=e/s&255;return t+i},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||I(this,e,t,i,Math.pow(2,8*i)-1,0);let s=i-1,o=1;for(this[t+s]=255&e;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+i},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=J((function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=J((function(e,t=0){return F(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*i-1);I(this,e,t,i,n-1,-n)}let s=0,o=1,r=0;for(this[t]=255&e;++s<i&&(o*=256);)e<0&&0===r&&0!==this[t+s-1]&&(r=1),this[t+s]=(e/o>>0)-r&255;return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*i-1);I(this,e,t,i,n-1,-n)}let s=i-1,o=1,r=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===r&&0!==this[t+s+1]&&(r=1),this[t+s]=(e/o>>0)-r&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=J((function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=J((function(e,t=0){return F(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,i){return U(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return U(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return N(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return N(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);const s=n-i;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;let s;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(s=t;s<i;++s)this[s]=e;else{const o=l.isBuffer(e)?e:l.from(e,n),r=o.length;if(0===r)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=o[s%r]}return this};const B={};function P(e,t,i){B[e]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function D(e){let t="",i=e.length;const n="-"===e[0]?1:0;for(;i>=n+4;i-=3)t=`_${e.slice(i-3,i)}${t}`;return`${e.slice(0,i)}${t}`}function j(e,t,i,n,s,o){if(e>i||e<t){const n="bigint"==typeof t?"n":"";let s;throw s=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${i}${n}`,new B.ERR_OUT_OF_RANGE("value",s,e)}!function(e,t,i){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+i]||H(t,e.length-(i+1))}(n,s,o)}function W(e,t){if("number"!=typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,i){if(Math.floor(e)!==e)throw W(e,i),new B.ERR_OUT_OF_RANGE(i||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${t}`,e)}P("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),P("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),P("ERR_OUT_OF_RANGE",(function(e,t,i){let n=`The value of "${e}" is out of range.`,s=i;return Number.isInteger(i)&&Math.abs(i)>2**32?s=D(String(i)):"bigint"==typeof i&&(s=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(s=D(s)),s+="n"),n+=` It must be ${t}. Received ${s}`,n}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function q(e,t){let i;t=t||1/0;const n=e.length;let s=null;const o=[];for(let r=0;r<n;++r){if(i=e.charCodeAt(r),i>55295&&i<57344){if(!s){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(r+1===n){(t-=3)>-1&&o.push(239,191,189);continue}s=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),s=i;continue}i=65536+(s-55296<<10|i-56320)}else s&&(t-=3)>-1&&o.push(239,191,189);if(s=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function G(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,i,n){let s;for(s=0;s<n&&!(s+i>=t.length||s>=e.length);++s)t[s+i]=e[s];return s}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let i=0;i<16;++i){const n=16*i;for(let s=0;s<16;++s)t[n+s]=e[i]+e[s]}return t}();function J(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},886:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(7537),s=i.n(n),o=i(3645),r=i.n(o)()(s());r.push([e.id,'.editor{background-color:#272822;color:#fff;font-size:11px;font-family:Arial,Helvetica,sans-serif;display:flex;height:365px}.ace{flex-basis:75%}.fileList{--spacing: 1rem;--radius: 7px;flex-basis:25%;padding:.5rem;overflow-y:auto}.fileList ul{margin:0;padding:0}.fileList li{cursor:pointer;padding:.25rem .5rem}.fileList li:hover{background-color:#222}.fileList li{display:block;position:relative;padding-left:calc(2*var(--spacing) - var(--radius) - 2px);white-space:nowrap}.fileList ul li{border-left:2px solid #ddd}.fileList ul li:last-child{border-color:rgba(0,0,0,0)}.fileList ul li::before{content:"";display:block;position:absolute;top:calc(var(--spacing)/-4);left:-2px;width:calc(var(--spacing) + 2px);height:calc(var(--spacing) + 1px);border:solid #ddd;border-width:0 0 2px 2px}.fileList summary{display:block;cursor:pointer}.fileList summary::marker,.fileList summary::-webkit-details-marker{display:none}.fileList summary:focus{outline:none}.fileList summary:focus-visible{outline:1px dotted #000}.fileList li::after,.fileList summary::before{display:block;position:absolute;top:calc(var(--spacing)/2 - var(--radius));left:calc(var(--spacing) - var(--radius) - 1px);width:calc(2*var(--radius));height:calc(2*var(--radius));background:#ddd}.fileList summary::before{content:">";z-index:1;background-color:#272822;color:#fff;line-height:calc(2*var(--radius) - 2px);text-align:center;left:5px;top:7px}.fileList details[open]>summary::before{transform:rotate(90deg)}',"",{version:3,sources:["webpack://./src/components/Editor.scss"],names:[],mappings:"AACA,QACE,wBAAA,CACA,UAAA,CACA,cAAA,CACA,sCAAA,CACA,YAAA,CACA,YAAA,CAGF,KACE,cAAA,CAGF,UACE,eAAA,CACA,aAAA,CACA,cAAA,CACA,aAAA,CACA,eAAA,CAGF,aACE,QAAA,CACA,SAAA,CAGF,aACE,cAAA,CACA,oBAAA,CAEA,mBACE,qBAAA,CAIJ,aACE,aAAA,CACA,iBAAA,CACA,yDAAA,CACA,kBAAA,CAGF,gBACE,0BAAA,CAGF,2BACE,0BAAA,CAGF,wBACE,UAAA,CACA,aAAA,CACA,iBAAA,CACA,2BAAA,CACA,SAAA,CACA,gCAAA,CACA,iCAAA,CACA,iBAAA,CACA,wBAAA,CAGF,kBACE,aAAA,CACA,cAAA,CAGF,oEAEE,YAAA,CAGF,wBACE,YAAA,CAGF,gCACE,uBAAA,CAGF,8CAEE,aAAA,CACA,iBAAA,CACA,0CAAA,CACA,+CAAA,CACA,2BAAA,CACA,4BAAA,CACA,eAAA,CAGF,0BACE,WAAA,CACA,SAAA,CACA,wBAAA,CACA,UAAA,CACA,uCAAA,CACA,iBAAA,CACA,QAAA,CACA,OAAA,CAGF,wCAEE,uBAAA",sourcesContent:["\n.editor {\n  background-color: #272822;\n  color: #fff;\n  font-size: 11px;\n  font-family: Arial, Helvetica, sans-serif;\n  display: flex;\n  height: 365px;\n}\n\n.ace {\n  flex-basis: 75%;\n}\n\n.fileList {\n  --spacing : 1rem;\n  --radius  : 7px;\n  flex-basis: 25%;\n  padding: .5rem;\n  overflow-y: auto;\n}\n\n.fileList ul {\n  margin: 0;\n  padding: 0;\n}\n\n.fileList li {\n  cursor: pointer;\n  padding: .25rem .5rem;\n\n  &:hover {\n    background-color: #222;\n  }\n}\n\n.fileList li{\n  display      : block;\n  position     : relative;\n  padding-left : calc(2 * var(--spacing) - var(--radius) - 2px);\n  white-space: nowrap;\n}\n\n.fileList ul li{\n  border-left : 2px solid #ddd;\n}\n\n.fileList ul li:last-child{\n  border-color : transparent;\n}\n\n.fileList ul li::before{\n  content      : '';\n  display      : block;\n  position     : absolute;\n  top          : calc(var(--spacing) / -4);\n  left         : -2px;\n  width        : calc(var(--spacing) + 2px);\n  height       : calc(var(--spacing) + 1px);\n  border       : solid #ddd;\n  border-width : 0 0 2px 2px;\n}\n\n.fileList summary{\n  display : block;\n  cursor  : pointer;\n}\n\n.fileList summary::marker,\n.fileList summary::-webkit-details-marker{\n  display : none;\n}\n\n.fileList summary:focus{\n  outline : none;\n}\n\n.fileList summary:focus-visible{\n  outline : 1px dotted #000;\n}\n\n.fileList li::after,\n.fileList summary::before{\n  display       : block;\n  position      : absolute;\n  top           : calc(var(--spacing) / 2 - var(--radius));\n  left          : calc(var(--spacing) - var(--radius) - 1px);\n  width         : calc(2 * var(--radius));\n  height        : calc(2 * var(--radius));\n  background    : #ddd;\n}\n\n.fileList summary::before{\n  content     : '>';\n  z-index     : 1;\n  background-color: #272822;\n  color       : #fff;\n  line-height : calc(2 * var(--radius) - 2px);\n  text-align  : center;\n  left: 5px;\n  top: 7px;\n}\n\n.fileList details[open] > summary::before{\n  // content : '−';\n  transform: rotate(90deg); \n}\n\n"],sourceRoot:""}]);const a=r},5752:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(7537),s=i.n(n),o=i(3645),r=i.n(o)()(s());r.push([e.id,".interface{background-color:#000;color:#fff;font-size:11px;font-family:Arial,Helvetica,sans-serif;position:relative;user-select:none;height:435px}.interface img,.interface span,.interface webaudio-keyboard,.interface webaudio-knob,.interface webaudio-slider,.interface webaudio-switch{position:absolute}.interface img{z-index:1}.interface webaudio-keyboard,.interface webaudio-knob,.interface webaudio-slider,.interface webaudio-switch{z-index:2}.interface span{align-items:center;display:flex;justify-content:center;z-index:3}.interface webaudio-keyboard{left:0;top:359px}.tabs{align-content:flex-start;color:#fff;display:flex;flex-wrap:wrap}.radiotab{position:absolute;opacity:0}.label{width:100%;cursor:pointer;padding:.5rem 1rem;text-align:center}.label:hover{background-color:#222}.radiotab:checked+.label{background-color:#333}.panel{background-color:#333;position:relative;display:none;width:100%}.radiotab:checked+.label+.panel{display:block}@media(min-width: 600px){.panel{order:99}.label{width:auto}}","",{version:3,sources:["webpack://./src/components/Interface.scss"],names:[],mappings:"AACA,WACE,qBAAA,CACA,UAAA,CACA,cAAA,CACA,sCAAA,CACA,iBAAA,CACA,gBAAA,CACA,YAAA,CAGF,2IAME,iBAAA,CAIF,eACE,SAAA,CAGF,4GAIE,SAAA,CAGF,gBACE,kBAAA,CACA,YAAA,CACA,sBAAA,CACA,SAAA,CAGF,6BACE,MAAA,CACA,SAAA,CAGF,MACE,wBAAA,CACA,UAAA,CACA,YAAA,CACA,cAAA,CAGF,UACE,iBAAA,CACA,SAAA,CAGF,OACE,UAAA,CACA,cAAA,CACA,kBAAA,CACA,iBAAA,CAGF,aACE,qBAAA,CAGF,yBACE,qBAAA,CAGF,OACE,qBAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,gCACE,aAAA,CAGF,yBACE,OACE,QAAA,CAEF,OACE,UAAA,CAAA",sourcesContent:["\n.interface {\n  background-color: #000;\n  color: #fff;\n  font-size: 11px;\n  font-family: Arial, Helvetica, sans-serif;\n  position: relative;\n  user-select: none;\n  height: 435px;\n}\n\n.interface img,\n.interface span,\n.interface webaudio-keyboard,\n.interface webaudio-knob,\n.interface webaudio-slider,\n.interface webaudio-switch {\n  position: absolute;\n  // transform: translate(-50%, -50%); \n}\n\n.interface img {\n  z-index: 1;\n}\n\n.interface webaudio-keyboard,\n.interface webaudio-knob,\n.interface webaudio-slider,\n.interface webaudio-switch {\n  z-index: 2;\n}\n\n.interface span {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  z-index: 3;\n}\n\n.interface webaudio-keyboard {\n  left: 0;\n  top: 359px;\n}\n\n.tabs {\n  align-content: flex-start;\n  color: #fff;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.radiotab {\n  position: absolute;\n  opacity: 0;\n}\n\n.label {\n  width: 100%;\n  cursor: pointer;\n  padding: .5rem 1rem;\n  text-align: center;\n}\n\n.label:hover {\n  background-color: #222;\n}\n\n.radiotab:checked + .label {\n  background-color: #333;\n}\n\n.panel {\n  background-color: #333;\n  position: relative;\n  display: none;\n  width: 100%;\n}\n\n.radiotab:checked + .label + .panel {\n  display: block;\n}\n\n@media (min-width: 600px) {\n  .panel {\n    order: 99;\n  }\n  .label {\n    width: auto;\n  }\n}\n"],sourceRoot:""}]);const a=r},9477:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(7537),s=i.n(n),o=i(3645),r=i.n(o)()(s());r.push([e.id,".player{width:775px}.header{background-color:#000;color:#fff;font-size:11px;font-family:Arial,Helvetica,sans-serif;padding:1rem}","",{version:3,sources:["webpack://./src/components/Player.scss"],names:[],mappings:"AAAA,QACE,WAAA,CAGF,QACE,qBAAA,CACA,UAAA,CACA,cAAA,CACA,sCAAA,CACA,YAAA",sourcesContent:[".player {\n  width: 775px;\n}\n\n.header {\n  background-color: #000;\n  color: #fff;\n  font-size: 11px;\n  font-family: Arial, Helvetica, sans-serif;\n  padding: 1rem;\n}\n"],sourceRoot:""}]);const a=r},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,s,o){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(r[l]=!0)}for(var c=0;c<e.length;c++){var h=[].concat(e[c]);n&&r[h[0]]||(void 0!==o&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=o),i&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=i):h[2]=i),s&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=s):h[4]="".concat(s)),t.push(h))}},t}},7537:e=>{"use strict";e.exports=function(e){var t=e[1],i=e[3];if(!i)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),o="/*# ".concat(s," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},624:e=>{function t(e){if(e)return function(e){for(var i in t.prototype)e[i]=t.prototype[i];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},t.prototype.once=function(e,t){var i=this;function n(){i.off(e,n),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var s=0;s<n.length;s++)if((i=n[s])===t||i.fn===t){n.splice(s,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i)for(var n=0,s=(i=i.slice(0)).length;n<s;++n)i[n].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},4277:(e,t,i)=>{e.exports=i.p+"852f0ecd7b17e3bfd700a821ff438f7e.js"},4113:(e,t,i)=>{e.exports=i.p+"7d64980faff5b041a461fd0ba3e2f3f5.js"},1334:(e,t,i)=>{e.exports=i.p+"1db8d65ab1ad8dbb0aae7b9ebe280ca7.js"},9503:(e,t,i)=>{e.exports=i.p+"69ec362e03850ff2d49044acbb19b385.js"},3823:(e,t,i)=>{e.exports=i.p+"c530988d2b1966fd10a4d99fa3877e1b.js"},3526:(e,t,i)=>{e.exports=i.p+"2fe2904fc024afaf81732563cb83e547.js"},8026:(e,t,i)=>{e.exports=i.p+"cfe1a9dd61dd943a574fc6c7157372f7.js"},5065:(e,t,i)=>{e.exports=i.p+"5d70949945a5bfe69b9b08730d43db16.js"},4422:(e,t,i)=>{e.exports=i.p+"fec23c6964d6cf25681d1f3e24b076a4.js"},9624:(e,t,i)=>{e.exports=i.p+"13e3e7539bf798eebd800b16dad0cb61.js"},7704:(e,t,i)=>{e.exports=i.p+"c8a6da69d2c5665bdc70af32d84637c8.js"},3172:(e,t,i)=>{e.exports=i.p+"2631966490c52eaf47c26040eae85efb.js"},1165:(e,t,i)=>{e.exports=i.p+"07567125b93045706d81f17f7d04e262.js"},7490:(e,t,i)=>{e.exports=i.p+"f3a21a0f236d2b7d45be954c32efaa14.js"},9159:(e,t,i)=>{e.exports=i.p+"5e9783b44abd320fced8f18d600b7c52.js"},4666:(e,t,i)=>{e.exports=i.p+"2f55cddc8eb85b63ee5b4ce0e5488230.js"},2489:(e,t,i)=>{e.exports=i.p+"6f77d1c97d1c6937d21c4a1034be62b6.js"},6385:(e,t,i)=>{e.exports=i.p+"c92169023ff93e3c3e03bc2f4c73615a.js"},3038:(e,t,i)=>{e.exports=i.p+"cbf021d377207ecc00145a138fd03f0f.js"},7097:(e,t,i)=>{e.exports=i.p+"645b74a0625033669c9d0440b32e3fd0.js"},3603:(e,t,i)=>{e.exports=i.p+"16b5146f5e9b7a1a196f6d11a6187282.js"},5367:(e,t,i)=>{e.exports=i.p+"2f25a4dc442bc9aebc58cae30c50c3e2.js"},7863:(e,t,i)=>{e.exports=i.p+"6365d65802807679247605c8df7ea9ec.js"},7630:(e,t,i)=>{e.exports=i.p+"3b02cca9e95276a74f3ed2bbc7a64ce6.js"},1380:(e,t,i)=>{e.exports=i.p+"c1ef58663e7326fe623bed35be305efd.js"},1366:(e,t,i)=>{e.exports=i.p+"8fa2dead80e1f4956c4c5c868ebb0b81.js"},1108:(e,t,i)=>{e.exports=i.p+"fb08407a1b7ad7f9a2da2a7845f596c5.js"},6293:(e,t,i)=>{e.exports=i.p+"bf37de323316c6ae5745fc11fd576b1c.js"},29:(e,t,i)=>{e.exports=i.p+"875ae58e8015a6d08dbc9d0c04e24638.js"},6375:(e,t,i)=>{e.exports=i.p+"392e4c8d74cb1c9267a14eb0270ba2d6.js"},9254:(e,t,i)=>{e.exports=i.p+"d4f1a314cb3668f8e17f24bccf0229b6.js"},7006:(e,t,i)=>{e.exports=i.p+"39fea85ed7dd99d7c6c9e59b7040523f.js"},9027:(e,t,i)=>{e.exports=i.p+"686915e134683f72ea5f3c227a6f13be.js"},8032:(e,t,i)=>{e.exports=i.p+"2611b2dc99534665bf6734ddfa6b8de4.js"},3398:(e,t,i)=>{e.exports=i.p+"cd29b6e52c3ebcbaee8c7bb709fd1d8e.js"},3723:(e,t,i)=>{e.exports=i.p+"0b06cbc7edf78b6f2810187262e7630b.js"},4264:(e,t,i)=>{e.exports=i.p+"d3a6de3a3eae748464b9d49001eba546.js"},2066:(e,t,i)=>{e.exports=i.p+"a6b8f5b8c9ce7808c5ca6baccdf1ad1e.js"},7382:(e,t,i)=>{e.exports=i.p+"fa0c561bb37040fc8145e5c70ea64912.js"},9323:(e,t,i)=>{e.exports=i.p+"4b692785a8a6340a89e6067274a7583c.js"},2629:(e,t,i)=>{e.exports=i.p+"5cab33610b8d9c1aee4db4672811cb5f.js"},1022:(e,t,i)=>{e.exports=i.p+"02b97d3c4a7e895228beec69fb63e420.js"},9783:(e,t,i)=>{e.exports=i.p+"efbb5510bc35424b261de45355e3a626.js"},3322:(e,t,i)=>{e.exports=i.p+"92164e5d714ab4cda2b91eede29bc191.js"},3068:(e,t,i)=>{e.exports=i.p+"5061ac5e99882b9f26051a5d73c75271.js"},7944:(e,t,i)=>{e.exports=i.p+"a72ec8ab4a5bdfd6695dfa5fa86ef30d.js"},6816:(e,t,i)=>{e.exports=i.p+"3a3b2fef963d6c2c49c5b11b74a9ea81.js"},4338:(e,t,i)=>{e.exports=i.p+"6e860ea82b2868e605b25cf5f3e79c3b.js"},5209:(e,t,i)=>{e.exports=i.p+"8f8ce96f0f6ce8d8a30d5f2dcb4eca76.js"},6147:(e,t,i)=>{e.exports=i.p+"039ae6f160cd9781bcbb003484e23cdc.js"},4967:(e,t,i)=>{e.exports=i.p+"d990538e9bb18371ca4e54a043b544a3.js"},9681:(e,t,i)=>{e.exports=i.p+"2184bcd361a0e38d249bc49439d994cb.js"},2988:(e,t,i)=>{e.exports=i.p+"b992b348ffb6453e4a02a60e71c5304e.js"},1951:(e,t,i)=>{e.exports=i.p+"9b80d1a12acd18c90e41ca92073122a7.js"},1590:(e,t,i)=>{e.exports=i.p+"3564e45dfb2ed064007f910db434889f.js"},1877:(e,t,i)=>{e.exports=i.p+"47cc855409817d6be0f272cff5d8a566.js"},6473:(e,t,i)=>{e.exports=i.p+"ab3d46f8dd12e29e10eb35c5e406bbcb.js"},5029:(e,t,i)=>{e.exports=i.p+"d72f9e2d15bf7a51a613e2f116b1a2df.js"},2070:(e,t,i)=>{e.exports=i.p+"43139bfbcbce9de597b4985dc1e6a03b.js"},8721:(e,t,i)=>{e.exports=i.p+"8bc0134df3327edc15fad4011a7ef8c8.js"},5655:(e,t,i)=>{e.exports=i.p+"8b0e5da82a1aa923f454ee2e6568850b.js"},3030:(e,t,i)=>{e.exports=i.p+"474c86d7a4a0fa50030c6503fdb52392.js"},5838:(e,t,i)=>{e.exports=i.p+"cd88309c904c403022c51d1fa3ee4bf3.js"},751:(e,t,i)=>{e.exports=i.p+"3063479c31202a0d1ecf707b2a4ce742.js"},2501:(e,t,i)=>{e.exports=i.p+"2adc6bc4a8a2bf35636e8fc7fe0df2dd.js"},7593:(e,t,i)=>{e.exports=i.p+"7b149fc44540735190f0abe7546a69ad.js"},6281:(e,t,i)=>{e.exports=i.p+"277128dcbc226dfeb8fde9391fb24787.js"},6642:(e,t,i)=>{e.exports=i.p+"e0fa6a4fe8bff90d50ce812e666957ca.js"},9514:(e,t,i)=>{e.exports=i.p+"262f489eb59166e1215642b60446d123.js"},3429:(e,t,i)=>{e.exports=i.p+"10c464f3f882bfeeefbc0934c2ee9fbe.js"},5187:(e,t,i)=>{e.exports=i.p+"19017707f34649cae551ee9d5ea1edbf.js"},1417:(e,t,i)=>{e.exports=i.p+"135747176621bcc94e9edd0323a81d3c.js"},9306:(e,t,i)=>{e.exports=i.p+"111d9fdb9864abba36298d1a0807fe6d.js"},2802:(e,t,i)=>{e.exports=i.p+"569511c9ae26db72043c2c03e327e25a.js"},9901:(e,t,i)=>{e.exports=i.p+"ac12519ccf3cc323b28f70e35f922e3f.js"},8135:(e,t,i)=>{e.exports=i.p+"410ecb602443afbd5908a14f39b40eb2.js"},8100:(e,t,i)=>{e.exports=i.p+"73cdbb2580cd6a02d989c86e56bb83f3.js"},1975:(e,t,i)=>{e.exports=i.p+"919edf70e532c72ecd4b9579c1879bc2.js"},5623:(e,t,i)=>{e.exports=i.p+"0e9e3e7130e916ab2a5074104cf58c10.js"},361:(e,t,i)=>{e.exports=i.p+"945ea249c1f1d3595cc55a51046d9032.js"},2550:(e,t,i)=>{e.exports=i.p+"363d3bac8dcd9a83332c3758185ce080.js"},2641:(e,t,i)=>{e.exports=i.p+"a4359dd961aff7979121730f1a000715.js"},5521:(e,t,i)=>{e.exports=i.p+"12f1dfe288cde1fda28776dbc2b17abe.js"},7605:(e,t,i)=>{e.exports=i.p+"fcae41196f7c52ef8b0e17065fb0ebcf.js"},4977:(e,t,i)=>{e.exports=i.p+"5df362c9904925cdf574d9506e4be76d.js"},2681:(e,t,i)=>{e.exports=i.p+"5f8e9f09349e37425d6ef96bf1bf7a2d.js"},722:(e,t,i)=>{e.exports=i.p+"979239ac9b74c2c57dcc2b66e7e3b353.js"},4217:(e,t,i)=>{e.exports=i.p+"83bd353f98aa901411c82b8af58d1296.js"},557:(e,t,i)=>{e.exports=i.p+"eda1064525b2e3ea3e2eaba9bbff6ec1.js"},5050:(e,t,i)=>{e.exports=i.p+"f316506de87117d7f440fe7c6fba692c.js"},6493:(e,t,i)=>{e.exports=i.p+"8db78ecdca0cf3c5f423eca8766fd5cd.js"},1580:(e,t,i)=>{e.exports=i.p+"4d156ee0485ab4b40b090a3cd7b995a9.js"},8019:(e,t,i)=>{e.exports=i.p+"3a6ca6958d003ae67bb7fefc8713ee93.js"},1226:(e,t,i)=>{e.exports=i.p+"54a7b0b5248e428a4a703329f36e286f.js"},618:(e,t,i)=>{e.exports=i.p+"5b2b9bc695bfdee92665388010a7e74d.js"},9461:(e,t,i)=>{e.exports=i.p+"88c5669303ea9c7b7c172b45a6ea365d.js"},7002:(e,t,i)=>{e.exports=i.p+"bfaa80a916ebecb2398b5b63590a0c05.js"},6358:(e,t,i)=>{e.exports=i.p+"f1889728797be19372facc2c832f8065.js"},4028:(e,t,i)=>{e.exports=i.p+"99e41196ce05ad5fb70891b44ac227e8.js"},2358:(e,t,i)=>{e.exports=i.p+"4816d92f4fbed14925ed1946f4135365.js"},7496:(e,t,i)=>{e.exports=i.p+"6257c20a623b032171b358cc95a1adab.js"},7905:(e,t,i)=>{e.exports=i.p+"d8f7ecdd496f3caf14f5afbedfff1937.js"},4441:(e,t,i)=>{e.exports=i.p+"32398e706069c4b609b5cfa872917ebf.js"},3703:(e,t,i)=>{e.exports=i.p+"a4e021a4b5d5d65cc87fee17c1886c3f.js"},1531:(e,t,i)=>{e.exports=i.p+"023545291c7d55eb893591da836fc73d.js"},3679:(e,t,i)=>{e.exports=i.p+"349237ad9565dc823ce7bcb7527ba7ee.js"},2478:(e,t,i)=>{e.exports=i.p+"6707296f86034ccf2225ce3c27370114.js"},2926:(e,t,i)=>{e.exports=i.p+"6327ff8d569aa463a91e5ea774d1980e.js"},5460:(e,t,i)=>{e.exports=i.p+"25896c7babd9d46a58cc37029ff93568.js"},7051:(e,t,i)=>{e.exports=i.p+"bba393726b199f66d8b4314385c1f2f0.js"},3566:(e,t,i)=>{e.exports=i.p+"842f79fb31926b8da1739c33c365da8d.js"},5992:(e,t,i)=>{e.exports=i.p+"c3174a46927bbec0fbd8946f97bd7170.js"},6846:(e,t,i)=>{e.exports=i.p+"2ad349208b3a727abb3c9f943865a27c.js"},4158:(e,t,i)=>{e.exports=i.p+"b491027881efabe4493ad65daf3368de.js"},8164:(e,t,i)=>{e.exports=i.p+"d1f0ad8ca2a550bc292669b06a614f79.js"},7214:(e,t,i)=>{e.exports=i.p+"ad88ef07c8c702b1a5f1e3d19c1052c7.js"},9193:(e,t,i)=>{e.exports=i.p+"e45a0dfd102b67ad7cdefe10500bf0d7.js"},7036:(e,t,i)=>{e.exports=i.p+"ee3ddecefdf957d6d016821cd903afa5.js"},1145:(e,t,i)=>{e.exports=i.p+"50bd9a652785963a5d7d24bda4dee4ca.js"},9724:(e,t,i)=>{e.exports=i.p+"08d12eee2127dc573b757f69752c6704.js"},3094:(e,t,i)=>{e.exports=i.p+"1b0aafebfed87a44ca58bc041571f054.js"},9999:(e,t,i)=>{e.exports=i.p+"9a73a8c225dc6db280e2ca2429a93a42.js"},2562:(e,t,i)=>{e.exports=i.p+"b943c561d9e064f79f938275bad6e597.js"},1995:(e,t,i)=>{e.exports=i.p+"52fd09d1713345d9ee64dc7daea9fd6f.js"},2699:(e,t,i)=>{e.exports=i.p+"d1db2c4677dd2ee7a0c690c58798a013.js"},1367:(e,t,i)=>{e.exports=i.p+"116d29a13f16f0a9bf9c25eaa2186c24.js"},951:(e,t,i)=>{e.exports=i.p+"55a1830305eaf8f525aad4c04c138483.js"},9636:(e,t,i)=>{e.exports=i.p+"7620537538da40e17ccbf70a43f4fd0c.js"},8279:(e,t,i)=>{e.exports=i.p+"6231f0100394f756aac18e8d972d8f2b.js"},5765:(e,t,i)=>{e.exports=i.p+"c4bc14809712037bf601bf7914d57732.js"},9258:(e,t,i)=>{e.exports=i.p+"4d6d9020e7e5c8d8dee7a5e374355f05.js"},2583:(e,t,i)=>{e.exports=i.p+"4430c55f023b72fb5e389cee9351b38c.js"},149:(e,t,i)=>{e.exports=i.p+"d723acafb30584c955c9aeaedb3e03f0.js"},2726:(e,t,i)=>{e.exports=i.p+"9b3441051d8551264ac58b36253b9b10.js"},4009:(e,t,i)=>{e.exports=i.p+"8a6c57a8223a58263ee86e7df95bc985.js"},6877:(e,t,i)=>{e.exports=i.p+"154e51d48e7dc7f244bf748e4deb64f9.js"},5599:(e,t,i)=>{e.exports=i.p+"8de1f09307a99c5a8bb0a53d32fbaaa9.js"},6744:(e,t,i)=>{e.exports=i.p+"8cfffdd2f772eec8342fdfc4d511e0cc.js"},5396:(e,t,i)=>{e.exports=i.p+"df350f726187b69bcededaaed6cf5f31.js"},2893:(e,t,i)=>{e.exports=i.p+"b8cb123e6c753c6031ab9c6a4acbbcd6.js"},3665:(e,t,i)=>{e.exports=i.p+"05edc16945dbd5dbfc620a42a1da296a.js"},9030:(e,t,i)=>{e.exports=i.p+"8afb70e6a4c526e4f16bf49fb8cf3c35.js"},7847:(e,t,i)=>{e.exports=i.p+"593029c5822af3b8beebe4d13b801f98.js"},8864:(e,t,i)=>{e.exports=i.p+"764b59bdd3a89e14f88c9d63020551a1.js"},7251:(e,t,i)=>{e.exports=i.p+"843c762c24f7fac628d8c62519a7b308.js"},2469:(e,t,i)=>{e.exports=i.p+"0d9ac3f6468082360311da967190e45f.js"},9933:(e,t,i)=>{e.exports=i.p+"f5dfa3d3658fddbce84d7c3ecd5504f0.js"},647:(e,t,i)=>{e.exports=i.p+"7f9a9efc9ab681fcbf6400e2adb368a9.js"},8591:(e,t,i)=>{e.exports=i.p+"23602ad4c88f0f19e7a0a12454ebf556.js"},5661:(e,t,i)=>{e.exports=i.p+"7f79d4bde67c8013b187889b63e25bce.js"},9423:(e,t,i)=>{e.exports=i.p+"0144de97a3c256f81447e7e7135780e5.js"},857:(e,t,i)=>{e.exports=i.p+"9296988a753e8e251ff627aef2c929e8.js"},7906:(e,t,i)=>{e.exports=i.p+"56ddbe1e119db3c02da97dc04012cf2b.js"},2198:(e,t,i)=>{e.exports=i.p+"8d7988f603ec76ecb92315442285a83d.js"},8200:(e,t,i)=>{e.exports=i.p+"250c230f9465d8affc02c67d41d7e067.js"},9904:(e,t,i)=>{e.exports=i.p+"ff9176b28afa428194276840d85679ef.js"},2745:(e,t,i)=>{e.exports=i.p+"938b32f75aefeab50ba608132c5862c8.js"},297:(e,t,i)=>{e.exports=i.p+"c84e779b889a1e11ad87fb7176d9f6be.js"},3475:(e,t,i)=>{e.exports=i.p+"f59696ab0f6f26c339d7e6bb1d73a5c3.js"},8613:(e,t,i)=>{e.exports=i.p+"5cd4e1282f4409600b942819b7aa4f21.js"},3643:(e,t,i)=>{e.exports=i.p+"151786e5421aae5a57d862be1387a079.js"},9288:(e,t,i)=>{e.exports=i.p+"7283474943e921206e7c6ab061760b39.js"},9538:(e,t,i)=>{e.exports=i.p+"11e3a2a8fb5bcb9d19298a80cafd3f5a.js"},7374:(e,t,i)=>{e.exports=i.p+"0973bb38b2e3efd2a879fd8e81d50fce.js"},2449:(e,t,i)=>{e.exports=i.p+"b49ae09a10a2a2d6dfc7ba9cb37cbbb3.js"},9934:(e,t,i)=>{e.exports=i.p+"a9ed61bdf8ae777e7a6f68bf7175e839.js"},4583:(e,t,i)=>{e.exports=i.p+"2765855f04cd6d7fb7fcf0a81c1e2022.js"},1418:(e,t,i)=>{e.exports=i.p+"19df93bf1797b4caf8232cc4b544f865.js"},4129:(e,t,i)=>{e.exports=i.p+"7cc98960277ab04470e3ff9ed5fc6028.js"},6363:(e,t,i)=>{e.exports=i.p+"b7ee0efbcdf094a7f8b23108a209a273.js"},7439:(e,t,i)=>{e.exports=i.p+"951a8cbe4efaab1b1451ffd8904fc9dd.js"},832:(e,t,i)=>{e.exports=i.p+"4686855c499be892779f614770ec2cf7.js"},3887:(e,t,i)=>{e.exports=i.p+"a58f90f6c8db84024327b4d9059c991e.js"},8971:(e,t,i)=>{e.exports=i.p+"4b75999ea99d719689337def2fab50a3.js"},641:(e,t,i)=>{e.exports=i.p+"76157bd9c645f5ff31363b7af4a9e86b.js"},6774:(e,t,i)=>{e.exports=i.p+"eb90ad711d5c00d78fa48b9b9a9fe065.js"},726:(e,t,i)=>{e.exports=i.p+"9404e76c18135b12716e6da4c6cea788.js"},3378:(e,t,i)=>{e.exports=i.p+"949a350e1d9f92839865e927eb00673f.js"},1033:(e,t,i)=>{e.exports=i.p+"40f9100a898e3396df73051eb7c44cb8.js"},6178:(e,t,i)=>{e.exports=i.p+"65bbce52648dff5652ec5f16ff6488d0.js"},3434:(e,t,i)=>{e.exports=i.p+"77c629df0ebf40b066d0ffeb34b7711b.js"},9366:(e,t,i)=>{e.exports=i.p+"069a0d6b093e73e820f6a60a91fa614b.js"},4117:(e,t,i)=>{e.exports=i.p+"f8ee12a5cfa6ff1d3550ef30a238d89a.js"},6979:(e,t,i)=>{e.exports=i.p+"917b2857799bc462cb464bfe770581a8.js"},7945:(e,t,i)=>{e.exports=i.p+"8db9f93698f3eea94f936fcb5986f1a3.js"},7857:(e,t,i)=>{e.exports=i.p+"8731c9411475c19fb09b60f7dcbe1a52.js"},4928:(e,t,i)=>{e.exports=i.p+"93be766c753e075a3f7d5b89b3ee04ce.js"},5545:(e,t,i)=>{e.exports=i.p+"aefed4953ced506e20b934606ac083f3.js"},4806:(e,t,i)=>{e.exports=i.p+"7e4b5afab13800eedc72d1669997de99.js"},965:(e,t,i)=>{e.exports=i.p+"0c1e757d25446799bcab87a8607dee60.js"},8322:(e,t,i)=>{e.exports=i.p+"25718a469574ade47e23567d8c543169.js"},6626:(e,t,i)=>{e.exports=i.p+"b934b22e8f8a8b1ba81dbc2cf058b0cd.js"},2363:(e,t,i)=>{e.exports=i.p+"9fd3f255cfd09016ec7f4896bc51864c.js"},3930:(e,t,i)=>{e.exports=i.p+"b441455dc6e976e97db83dc2be48fd3c.js"},4205:(e,t,i)=>{e.exports=i.p+"84abf03cc94d264bb38020b4ac5f76e1.js"},8488:(e,t,i)=>{e.exports=i.p+"04d6fdc95fde068c2adbfaefceda64f4.js"},1947:(e,t,i)=>{e.exports=i.p+"7cb0b8a8e8a8bf596c70d97c89fbe2d1.js"},9897:(e,t,i)=>{e.exports=i.p+"f5d50af31e924b65e3bd3764e8d1df3a.js"},6405:(e,t,i)=>{e.exports=i.p+"ab237eed5fd16ab99c06f0d28d465edb.js"},5794:(e,t,i)=>{e.exports=i.p+"6bd6ab18aaa4ce0e16f01dbc09477829.js"},9010:(e,t,i)=>{e.exports=i.p+"41469950e6a0ef73a57342235b44c55a.js"},7535:(e,t,i)=>{e.exports=i.p+"71f39fefd16025c224fe31cdb352ae01.js"},7109:(e,t,i)=>{e.exports=i.p+"c520430800e81c168e3324d36625f0a3.js"},9601:(e,t,i)=>{e.exports=i.p+"5bfe07d37fe8de98aaf6da53691e8f82.js"},3889:(e,t,i)=>{e.exports=i.p+"e13fc7d468ab9b5797f2a44412ca2f00.js"},2317:(e,t,i)=>{e.exports=i.p+"03452373324e7ceaf58e3830eafd1a28.js"},577:(e,t,i)=>{e.exports=i.p+"1ab96c77da77918d9160c787732c68a6.js"},7154:(e,t,i)=>{e.exports=i.p+"da3a9dc1f8b62f2221f1040e8d207d0e.js"},6504:(e,t,i)=>{e.exports=i.p+"b02d982ccb1011197a5a24800b178a0a.js"},5240:(e,t,i)=>{e.exports=i.p+"879d6bc1ca1dde95a9a98dc7a2ab0d06.js"},9742:(e,t,i)=>{e.exports=i.p+"b8b6bd460e7da0ba8f3b2218327966ee.js"},8332:(e,t,i)=>{e.exports=i.p+"2f055ac4066041b9008dd6aebf9df34b.js"},4971:(e,t,i)=>{e.exports=i.p+"d542dda7308361c34af2afb9b70d755a.js"},1072:(e,t,i)=>{e.exports=i.p+"a4bedde07e392f8ebf64341b61f75df2.js"},2820:(e,t,i)=>{e.exports=i.p+"77aaca51c1c32acaf32656d45f4dc017.js"},8089:(e,t,i)=>{e.exports=i.p+"725da29f1643c2263a437c08a1454aea.js"},2688:(e,t,i)=>{e.exports=i.p+"efc14cdf19554635e477781704353ec2.js"},2950:(e,t,i)=>{e.exports=i.p+"eaa55a522fb2cb2f0287711f42344984.js"},3092:(e,t,i)=>{e.exports=i.p+"b808fb222140a85b23ebbe0fffa906d9.js"},9780:(e,t,i)=>{e.exports=i.p+"e874d975c9128dc6eb9a513d088bed9f.js"},1763:(e,t,i)=>{e.exports=i.p+"e7e1a807af3160b342e0a3550cf8f7c5.js"},1743:(e,t,i)=>{e.exports=i.p+"48e9351c5623d4da657ce7d5d0267ea6.js"},9022:(e,t,i)=>{e.exports=i.p+"9827973b533de05b338533a0211d97d9.js"},2545:(e,t,i)=>{e.exports=i.p+"bb5bab7a675544fe31ddb7f4a77dffb9.js"},8396:(e,t,i)=>{e.exports=i.p+"a2746fc96d535b19c120d4b87dc86ef1.js"},2343:(e,t,i)=>{e.exports=i.p+"23bb1a9f279e7a732bfd405350aab114.js"},5860:(e,t,i)=>{e.exports=i.p+"b1e349371cb9c226905c846706ad8b93.js"},4623:(e,t,i)=>{e.exports=i.p+"1c57b3481f295105588972ffa1305521.js"},9037:(e,t,i)=>{e.exports=i.p+"87bce6f50196688852142c679227b1b9.js"},5581:(e,t,i)=>{e.exports=i.p+"6c67587c2093ac3a19da9f2196e040b7.js"},4039:(e,t,i)=>{e.exports=i.p+"5a496ae20cc576bef1d35972548207cf.js"},3248:(e,t,i)=>{e.exports=i.p+"5e55b301888460bd06c8e26d1011e01a.js"},428:(e,t,i)=>{e.exports=i.p+"003671ee2a876e7614cd94390e2255b3.js"},5823:(e,t,i)=>{e.exports=i.p+"3ea020c57c2bbf457a8497df313b2e5c.js"},3731:(e,t,i)=>{e.exports=i.p+"64d6924350bd7706850cdc0dcc76ccf6.js"},6557:(e,t,i)=>{e.exports=i.p+"b1f3f77a9279cdb38846ebe13c3438bc.js"},7675:(e,t,i)=>{e.exports=i.p+"d5999827bd3af6b813a871de344b109a.js"},3790:(e,t,i)=>{e.exports=i.p+"58598705e7012f4ca1eb1dd21d3c59a5.js"},4689:(e,t,i)=>{e.exports=i.p+"70074e0c785c9a808dea76c7c7d17af3.js"},2505:(e,t,i)=>{e.exports=i.p+"1875ecdf54e78b5f07ff1bd944cf794b.js"},9822:(e,t,i)=>{e.exports=i.p+"8eede17ae9e4d25c3c17b8a8a7fc3c3d.js"},7986:(e,t,i)=>{e.exports=i.p+"eff4371180dfac54de25ed3a0105d82f.js"},9212:(e,t,i)=>{e.exports=i.p+"06d958315fc6cdbb28576b03e43203aa.js"},8191:(e,t,i)=>{e.exports=i.p+"c51840077c684be0e7e13339f85cd4a9.js"},7879:(e,t,i)=>{e.exports=i.p+"c3f345c994392d97785925e790513a9f.js"},3737:(e,t,i)=>{e.exports=i.p+"1495a3d68b15b8622c53f6688b64809f.js"},9067:(e,t,i)=>{e.exports=i.p+"7e4099fc2d04c7c1cf96892b962ba4ec.js"},147:(e,t,i)=>{e.exports=i.p+"6c0a75dc5671c3f237a79f6e45b9891c.js"},1883:(e,t,i)=>{e.exports=i.p+"aa5623ec68d23fedb9c9c115c7d99063.js"},8572:(e,t,i)=>{e.exports=i.p+"4ef80ee74467e0297eec3cc03092da01.js"},4135:(e,t,i)=>{e.exports=i.p+"f6d7091e70dee6c74956acfef2464d08.js"},3174:(e,t,i)=>{e.exports=i.p+"4bf3bc1fbdd26ac698fef1bdf26e3ff4.js"},2539:(e,t,i)=>{e.exports=i.p+"70286c33cab463fd576766adecd2d5d9.js"},5250:(e,t,i)=>{e.exports=i.p+"1533058f0ce13acdaa8d5bdc7d147bef.js"},490:(e,t,i)=>{e.exports=i.p+"724a16861717b5b4f786d24b56b62614.js"},1805:(e,t,i)=>{e.exports=i.p+"03aae8272914723a7bf85b984385032c.js"},6143:(e,t,i)=>{e.exports=i.p+"029ed9161a8d24a9c2ba97124020989d.js"},6850:(e,t,i)=>{e.exports=i.p+"cb652f200fc3dd740b2e7f678a9272ea.js"},957:(e,t,i)=>{e.exports=i.p+"d43ad5f9bad9a042b49b2592c7639c28.js"},5154:(e,t,i)=>{e.exports=i.p+"d78d3b050ea95b068380d975fd413fd7.js"},1523:(e,t,i)=>{e.exports=i.p+"4d0ebf4c528cee9b0cdd3e076e06570b.js"},7480:(e,t,i)=>{e.exports=i.p+"28785bea435918d49b290d27bf660baa.js"},7570:(e,t,i)=>{e.exports=i.p+"38b1d18836e38ee7b4deaeba0c35f7b8.js"},9179:(e,t,i)=>{e.exports=i.p+"2dd82c65030101b60dffccedd8741c6e.js"},8639:(e,t,i)=>{e.exports=i.p+"47e5776dff3b80ed69ab5947dba33c76.js"},8096:(e,t,i)=>{e.exports=i.p+"e61779df91186b23e7adf2d1968b2708.js"},1889:(e,t,i)=>{e.exports=i.p+"839e3594798c1942d3c92f9acfaa5f0b.js"},9478:(e,t,i)=>{e.exports=i.p+"3567d1ea443427e944a6f189a0898819.js"},6639:(e,t,i)=>{e.exports=i.p+"c80e89199aef31e48addb2b35ea96365.js"},6754:(e,t,i)=>{e.exports=i.p+"5b6a626249d0bc43e412fffa6a9ee177.js"},4349:(e,t,i)=>{e.exports=i.p+"fd9645aaf1f70c8abc562be41bee25fc.js"},7204:(e,t,i)=>{e.exports=i.p+"57f4109bd1f06be4dc2bcb8ff7eaf1e5.js"},2473:(e,t,i)=>{e.exports=i.p+"cd9a17f94a922c7c88000b1b3cdd67df.js"},1752:(e,t,i)=>{e.exports=i.p+"755114145e5b97e5571a160a39e716db.js"},380:(e,t,i)=>{e.exports=i.p+"5e8a4f4320a07ae4bb1d8a5cd621d955.js"},3785:(e,t,i)=>{e.exports=i.p+"e9c8f7e13e00284ce126890bf7ac46fd.js"},6051:(e,t,i)=>{e.exports=i.p+"e0adad8a8579bf99f3e22f7c214a5c64.js"},3795:(e,t,i)=>{e.exports=i.p+"3b190e5159c72fb7e27271956772bcba.js"},1666:(e,t,i)=>{e.exports=i.p+"62a96977e725e8bc809dc80afe0fedf1.js"},6014:(e,t,i)=>{e.exports=i.p+"8a31266178067a316bb2503147cdb5cb.js"},4565:(e,t,i)=>{e.exports=i.p+"a9cb92db2399f7ac97ad55fe79fe5c20.js"},3992:(e,t,i)=>{e.exports=i.p+"6d38cef4a006e6cfe54a6117aba7b600.js"},7841:(e,t,i)=>{e.exports=i.p+"8d9bb1799d9b98db107e84f10132e17f.js"},3129:(e,t,i)=>{e.exports=i.p+"432aff60ba31a74d2120031fdc894775.js"},3217:(e,t,i)=>{e.exports=i.p+"e2fe8f0d4fd950b20b30fabaea96b3f8.js"},6087:(e,t,i)=>{e.exports=i.p+"b881dca9d9a80f61d87374b4bd5a2dd5.js"},6818:(e,t,i)=>{e.exports=i.p+"ffd3b83e8b5878f4785591ff54b1dfff.js"},8327:(e,t,i)=>{e.exports=i.p+"88e2feda80ac8cfb28f1dc0ec833b40d.js"},5009:(e,t,i)=>{e.exports=i.p+"64a5f4d62507d032038dcd76d15188e1.js"},3568:(e,t,i)=>{e.exports=i.p+"aa0eee504d52a12d3a30bbd523afcc34.js"},1353:(e,t,i)=>{e.exports=i.p+"cf26dd07f19bcb5b7efbf057a6cfeb8f.js"},4914:(e,t,i)=>{e.exports=i.p+"cbdbd623038183a8c068dd24ecd90682.js"},8784:(e,t,i)=>{e.exports=i.p+"0972f21af3e75388ef55435c0b3b831d.js"},1650:(e,t,i)=>{e.exports=i.p+"4d8cb7033879cb7fcc7a43798e2bde22.js"},4301:(e,t,i)=>{e.exports=i.p+"58aab872dbdb5e1607076e1935130e03.js"},1159:(e,t,i)=>{e.exports=i.p+"ecdb4966f685f3e44b1f28fae46827a3.js"},9900:(e,t,i)=>{e.exports=i.p+"5d3314103b00c8ea165c6f9f6757f794.js"},7584:(e,t,i)=>{e.exports=i.p+"9b5a6ec07bb0a2daade10189696fc399.js"},6610:(e,t,i)=>{e.exports=i.p+"e0c565aadda4787ba4ef4456c0a7ee29.js"},3273:(e,t,i)=>{e.exports=i.p+"d5f79987405c2169278f8de37bcc9d05.js"},6757:(e,t,i)=>{e.exports=i.p+"de0fd4fd7c2d7a4887cbc99eed91f797.js"},8536:(e,t,i)=>{e.exports=i.p+"17632e1e19e438f431784dfd77e01773.js"},456:(e,t,i)=>{e.exports=i.p+"663ffb67b9683a2126410325d1a5a152.js"},3946:(e,t,i)=>{e.exports=i.p+"e2b38a8393be2cf23f3894ace3efb1c3.js"},3801:(e,t,i)=>{e.exports=i.p+"27730a0bdc6f430cc85049a46a73a029.js"},9113:(e,t,i)=>{e.exports=i.p+"0f147528a6f36ca40c8b3ec796429f58.js"},782:(e,t,i)=>{e.exports=i.p+"15f3800d33b854ba476c9daf1b9e0326.js"},6622:(e,t,i)=>{e.exports=i.p+"211511e7b374f57ad31acaf49dbdccb1.js"},3899:(e,t,i)=>{e.exports=i.p+"54560f13b36626237959e93b7771a484.js"},5072:(e,t,i)=>{e.exports=i.p+"582e24f5ba929e358fadfc7be4c18025.js"},8719:(e,t,i)=>{e.exports=i.p+"37ee3b5201ae2e2dc5dc8b1b20ad900e.js"},239:(e,t,i)=>{e.exports=i.p+"cf3f6b1c74c72cb5d02870022dbc9f94.js"},5591:(e,t,i)=>{e.exports=i.p+"9696a4229fb787eeb25b26f1274b75ee.js"},1053:(e,t,i)=>{e.exports=i.p+"cf188b3f83735389d47bb12fc9f7069a.js"},8002:(e,t,i)=>{e.exports=i.p+"ba6b8b3e06cd9d0aee9c69278ee84647.js"},186:(e,t,i)=>{e.exports=i.p+"130340e2c62b9e858f186dab5f491e55.js"},8262:(e,t,i)=>{e.exports=i.p+"6faa9e5f2a0122d2333fa450337a09b0.js"},4457:(e,t,i)=>{e.exports=i.p+"2fc0239242a898632ca8aa451cb930c2.js"},1506:(e,t,i)=>{e.exports=i.p+"92f4aab5c66f6269c7054c8fbcb3de13.js"},9287:(e,t,i)=>{e.exports=i.p+"63596b4896732fb322ab0496b4be1e74.js"},3935:(e,t,i)=>{e.exports=i.p+"5352ecd8e5f1a2637b48e18cc406edb1.js"},9018:(e,t,i)=>{e.exports=i.p+"07397bd479cbc34bc04576b4f15bdf18.js"},6066:(e,t,i)=>{e.exports=i.p+"5fedbf948ed123687f77167fac1faf8b.js"},6132:(e,t,i)=>{e.exports=i.p+"a709bba98acec5da3ea6258e245514cb.js"},4543:(e,t,i)=>{e.exports=i.p+"25eda4bb98e40a82cfd5b4bf9fbc06ec.js"},1105:(e,t,i)=>{e.exports=i.p+"3b6e7dc98c47eeafd851ca5072db4be6.js"},5873:(e,t,i)=>{e.exports=i.p+"cbdc4ca43a8c940a6c3f59a8b6f17df5.js"},5786:(e,t,i)=>{e.exports=i.p+"432a5982ba3ddf958381d780e1e9a8e2.js"},6214:(e,t,i)=>{e.exports=i.p+"3c5b59a666c5d39d9ba9cc054d36a410.js"},2730:(e,t,i)=>{e.exports=i.p+"13eda3507db9cbfb400f46b9b3ff6553.js"},835:(e,t,i)=>{e.exports=i.p+"894edcaf39c3c95818e3949d737ed459.js"},682:(e,t,i)=>{e.exports=i.p+"0a1d9862d917663419ac2dd2e8193267.js"},2554:(e,t,i)=>{e.exports=i.p+"51f903c5ce5284a63196247cffb5ca40.js"},9444:(e,t,i)=>{e.exports=i.p+"e4917fa7632b01d28e99304d32d989f7.js"},8157:(e,t,i)=>{e.exports=i.p+"805cb6232d7a9fa46025d48a43622ecf.js"},7223:(e,t,i)=>{e.exports=i.p+"283970c76db99e2d0d90f0e7c45494f9.js"},4257:(e,t,i)=>{e.exports=i.p+"10132993df2cf9c9423b53a8a44379ab.js"},8119:(e,t,i)=>{e.exports=i.p+"1736cea368ae85240f34289307fdf67f.js"},9949:(e,t,i)=>{e.exports=i.p+"cf9c7cbfc2b609b9ae59daeab82719c4.js"},6048:(e,t,i)=>{e.exports=i.p+"119f6c45ea400e3c27e1ce172e4c881d.js"},2453:(e,t,i)=>{e.exports=i.p+"d5a6140d581e5c4eb200259ce372f40b.js"},3448:(e,t,i)=>{e.exports=i.p+"a533e643002830be2da76c9527265860.js"},5186:(e,t,i)=>{e.exports=i.p+"83387cb17a7680f59240e7b399e3ac2b.js"},8298:(e,t,i)=>{e.exports=i.p+"37172facd8a534a38f378ca2a9c7c11b.js"},8661:(e,t,i)=>{e.exports=i.p+"02174460fe8ff6a6bc19db86543b9600.js"},1573:(e,t,i)=>{e.exports=i.p+"c64d6e1e72024bb5d3d3e9bfc19d183d.js"},1602:(e,t,i)=>{e.exports=i.p+"54a10f3bddad1e6da452fee7124fe846.js"},4334:(e,t,i)=>{e.exports=i.p+"24a3ff38afde257888d755ece9bfd704.js"},8999:(e,t,i)=>{e.exports=i.p+"078dd0bd08c93b1512e3d1b777591b21.js"},8225:(e,t,i)=>{e.exports=i.p+"170487867de05784a96608617bdd544d.js"},2551:(e,t,i)=>{e.exports=i.p+"5861dfe4f2c7823623e82d0619c5bf06.js"},1545:(e,t,i)=>{e.exports=i.p+"2272c6632c52c3e402ab27b8045ab8f1.js"},1005:(e,t,i)=>{e.exports=i.p+"03980cb12dacd26148c22bb61fce440f.js"},7544:(e,t,i)=>{e.exports=i.p+"58c35e5c73bbc1664bbd67c570342aa0.js"},9202:(e,t,i)=>{e.exports=i.p+"fd5bc50b18c9f46380cbe5ec1ac2127b.js"},9032:(e,t,i)=>{e.exports=i.p+"714763ddd9bd466c95df7b042900bb87.js"},2257:(e,t,i)=>{e.exports=i.p+"4e389cce6fb8f78845fab249bce43c0b.js"},8051:(e,t,i)=>{e.exports=i.p+"17dc98279d24649d3ca77cbce8c44e83.js"},7393:(e,t,i)=>{e.exports=i.p+"a1c8660c5bcc6b6a43a7fb3c351174d9.js"},6154:(e,t,i)=>{e.exports=i.p+"a4d638b976f02f35740be031f996e088.js"},9495:(e,t,i)=>{e.exports=i.p+"b306285dfd802d091e788de0f96b8cb2.js"},5791:(e,t,i)=>{e.exports=i.p+"ddbc961769cd2ff4d4a7a136168ebf4c.js"},1583:(e,t,i)=>{e.exports=i.p+"3b544bb2c5a4e7b225a4b50235a0fd6d.js"},920:(e,t,i)=>{e.exports=i.p+"1034e3807d1bcf55cb564491950237ab.js"},6848:(e,t,i)=>{e.exports=i.p+"d83cda12aee0c87c8b381a1234bf7798.js"},4980:(e,t,i)=>{e.exports=i.p+"9ed8c3550b5c3c1e878d0692f0338cb7.js"},2147:(e,t,i)=>{e.exports=i.p+"5f3ce6efab3c679ec1ad25ab0b3f6b2f.js"},7250:(e,t,i)=>{e.exports=i.p+"db8ca5cfb6fe4aaef215f116f6991784.js"},655:(e,t,i)=>{e.exports=i.p+"53e3600928916423671f3388e2d67844.js"},2854:(e,t,i)=>{e.exports=i.p+"dc8240db39815020378555a4d80571c3.js"},7161:(e,t,i)=>{e.exports=i.p+"1b15b9f88acaf59b96e59c6b5f32da12.js"},8337:(e,t,i)=>{e.exports=i.p+"894052ca1f8f35cc1cf7cfb29ef75027.js"},3564:(e,t,i)=>{e.exports=i.p+"191feb6103c36b202bc01ba262916cdf.js"},673:(e,t,i)=>{e.exports=i.p+"33b4e371d4983ab56f4db08627119f0b.js"},4944:(e,t,i)=>{e.exports=i.p+"b1170472ae4b50e3b0070eb991e502fe.js"},2167:(e,t,i)=>{e.exports=i.p+"9807cf1e443a7440371904b6525f37eb.js"},9459:(e,t,i)=>{e.exports=i.p+"9b1fd9cf4206cc32e84150c49707d811.js"},8967:(e,t,i)=>{e.exports=i.p+"d7d616d4aa8fd3f51d681242853dcde9.js"},8052:(e,t,i)=>{e.exports=i.p+"e6ad50b520736b595970c9e07029c3f1.js"},4675:(e,t,i)=>{e.exports=i.p+"49582665262ff6179b9f3a98adf7ed5c.js"},3118:(e,t,i)=>{e.exports=i.p+"7080d2a1db1608264a6d9d9fbaf2cce8.js"},4173:(e,t,i)=>{e.exports=i.p+"ef87482c92662e8b69a21f47588474ea.js"},283:(e,t,i)=>{e.exports=i.p+"f326f2f263b1498fedbe1d07d7254d10.js"},2785:(e,t,i)=>{e.exports=i.p+"962969a46fefcace3305abd4d6e14a2e.js"},3104:(e,t,i)=>{e.exports=i.p+"b33ef9b4202539d3690251cb8213a034.js"},2061:(e,t,i)=>{e.exports=i.p+"80ddbf4f0fdde4ddba57130e61043017.js"},7872:(e,t,i)=>{e.exports=i.p+"8ed58ed9c7e1cb1ae1f2830d29011ffb.js"},9873:(e,t,i)=>{e.exports=i.p+"c4e58637b4d14c303e29d3ce4b4a210f.js"},172:(e,t,i)=>{e.exports=i.p+"59cc05504a1c823b6d4796bf6b430822.js"},4206:(e,t,i)=>{e.exports=i.p+"b20cd9acf45420fcacfd923754185663.js"},9274:(e,t,i)=>{e.exports=i.p+"acb898eefa176c3f28344f5780cceb63.js"},9647:(e,t,i)=>{e.exports=i.p+"0d419aec4c7e2317238c3502a967b560.js"},2434:(e,t,i)=>{e.exports=i.p+"acaef5b3d4971efbf24be1a229186ff5.js"},8025:(e,t,i)=>{e.exports=i.p+"17b41db8dd7120d3a88417a1490f57b7.js"},5429:(e,t,i)=>{e.exports=i.p+"8a70eec5a46e423328f1e9d7d1a87f41.js"},5091:(e,t,i)=>{e.exports=i.p+"3cd75b9fb238f5af900205216be23a66.js"},2776:(e,t,i)=>{e.exports=i.p+"32f291b1164c2610ed1a9260677d15f0.js"},8557:(e,t,i)=>{e.exports=i.p+"c97c8951af9153f36715121ab359334c.js"},7479:(e,t,i)=>{e.exports=i.p+"f6a1ff9a83e32555a4e3c7b99727e02d.js"},9204:(e,t,i)=>{e.exports=i.p+"700530bc418f23dccca7db36bfa9f745.js"},7877:(e,t,i)=>{e.exports=i.p+"0d8cca845a71e82acc3ffc1fc95c94f3.js"},5056:(e,t,i)=>{e.exports=i.p+"ac0681e93739efad9b6f1b85453d6a1b.js"},4262:(e,t,i)=>{e.exports=i.p+"fc84e4779f22e5f1c9a70f56f47e0ed6.js"},6529:(e,t,i)=>{e.exports=i.p+"d492c085b5834c819ba21542b9147966.js"},8437:(e,t,i)=>{e.exports=i.p+"330c0deacbfbbb6f1249b5bd887d608a.js"},7722:(e,t,i)=>{e.exports=i.p+"7abc8b6c17be848321a446cfd88c27a9.js"},9021:(e,t,i)=>{e.exports=i.p+"4b73278b511eebb4d0f44a0eec778327.js"},3245:(e,t,i)=>{e.exports=i.p+"796a2d1a925ed311f35e5fc5907a3132.js"},5996:(e,t,i)=>{e.exports=i.p+"2772fa250d538d9b7a8702fb6c50d195.js"},1197:(e,t,i)=>{e.exports=i.p+"9d29de85381ba75c190573ea82708954.js"},7669:(e,t,i)=>{e.exports=i.p+"5fc5b7fdc1899b18bee20c7905c76182.js"},7533:(e,t,i)=>{e.exports=i.p+"531e426da5d4c152efe1e9522991e466.js"},5626:(e,t,i)=>{e.exports=i.p+"1d633c2bf495c2c286fe37d00950e1d4.js"},6527:(e,t,i)=>{e.exports=i.p+"4123d5ea3e1f99dd3a5f2a89e16c6e59.js"},7406:(e,t,i)=>{e.exports=i.p+"49c44a682cc7627c4a2e8b4d1cfec022.js"},8267:(e,t,i)=>{e.exports=i.p+"45873024a393c691246898090c972cd3.js"},8845:(e,t,i)=>{e.exports=i.p+"92e96a5183122509403347f8fde3e407.js"},4834:(e,t,i)=>{e.exports=i.p+"78b1ba82f7882d931072c4ef6e87f579.js"},5498:(e,t,i)=>{e.exports=i.p+"30d2b805bcbc5d6bd558d7bdf9137a0e.js"},9061:(e,t,i)=>{e.exports=i.p+"3afb97252c417c5f0dd54e20b1954f63.js"},9580:(e,t,i)=>{e.exports=i.p+"356c61041d30223f74711e79c8bb8ae9.js"},1502:(e,t,i)=>{e.exports=i.p+"0e693b29bbe881d5b78f15fb9cacbedd.js"},2266:(e,t,i)=>{e.exports=i.p+"4dec4bb457555975c148226534ecbdbe.js"},7779:(e,t,i)=>{e.exports=i.p+"4150db3307181a1afef55ab2c9ec191e.js"},5880:(e,t,i)=>{e.exports=i.p+"ebaed1b3f483c7391037315a62571718.js"},6722:(e,t,i)=>{e.exports=i.p+"d3c6f63283deafb27231ec767a161534.js"},6394:(e,t,i)=>{e.exports=i.p+"e4bea9a2a2680d970c13cc4ed89bc1a0.js"},754:(e,t,i)=>{e.exports=i.p+"002a2ac7b7d3b3b807ddcb210cfc91eb.js"},4174:(e,t,i)=>{e.exports=i.p+"83d1c691b58768e3ec0a1f88450a7ceb.js"},1911:(e,t,i)=>{e.exports=i.p+"6416bde11154c29c4e296eb82fed0bdf.js"},2334:(e,t,i)=>{e.exports=i.p+"53e2fb3b82eafad81897aab9ab79edff.js"},4852:(e,t,i)=>{e.exports=i.p+"3d7fd940e543a183c4c376ef0d65773a.js"},3840:(e,t,i)=>{e.exports=i.p+"e6e768df4733fa1a1c8a9b06a24ff2fd.js"},4884:(e,t,i)=>{e.exports=i.p+"2091e4c01015d7dda392116f3ae59801.js"},4474:(e,t,i)=>{e.exports=i.p+"daad7cddd8afb1713b51cf5882d2da34.js"},7067:(e,t,i)=>{e.exports=i.p+"52c9726f9e52ed3a57c0634718366029.js"},3948:(e,t,i)=>{e.exports=i.p+"6bbbe63c75c85941f855ab27fb5f36db.js"},425:(e,t,i)=>{e.exports=i.p+"3c1857a15493f62c5c85c13007a6c32c.js"},1836:(e,t,i)=>{e.exports=i.p+"6aa13e92b5cf7d479e73acdc7c05abf3.js"},6881:(e,t,i)=>{e.exports=i.p+"c4ee489cb1eb39f3d31e99fcc78e886e.js"},3439:(e,t,i)=>{e.exports=i.p+"5d833ca045603c1105d2db3b9d931274.js"},4984:(e,t,i)=>{e.exports=i.p+"e542ddbb78bb244c0465f22e0e11ab61.js"},2980:(e,t,i)=>{e.exports=i.p+"52ee9d28ed4c3389951a46084343a993.js"},2426:(e,t,i)=>{e.exports=i.p+"8efee5c45bbfdd52eec7a8a0eec72ec3.js"},9257:(e,t,i)=>{e.exports=i.p+"f93c341314b490174cf67fed1ca62ee0.js"},645:(e,t)=>{t.read=function(e,t,i,n,s){var o,r,a=8*s-n-1,l=(1<<a)-1,c=l>>1,h=-7,d=i?s-1:0,u=i?-1:1,f=e[t+d];for(d+=u,o=f&(1<<-h)-1,f>>=-h,h+=a;h>0;o=256*o+e[t+d],d+=u,h-=8);for(r=o&(1<<-h)-1,o>>=-h,h+=n;h>0;r=256*r+e[t+d],d+=u,h-=8);if(0===o)o=1-c;else{if(o===l)return r?NaN:1/0*(f?-1:1);r+=Math.pow(2,n),o-=c}return(f?-1:1)*r*Math.pow(2,o-n)},t.write=function(e,t,i,n,s,o){var r,a,l,c=8*o-s-1,h=(1<<c)-1,d=h>>1,u=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,r=h):(r=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-r))<1&&(r--,l*=2),(t+=r+d>=1?u/l:u*Math.pow(2,1-d))*l>=2&&(r++,l/=2),r+d>=h?(a=0,r=h):r+d>=1?(a=(t*l-1)*Math.pow(2,s),r+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,s),r=0));s>=8;e[i+f]=255&a,f+=p,a/=256,s-=8);for(r=r<<s|a,c+=s;c>0;e[i+f]=255&r,f+=p,r/=256,c-=8);e[i+f-p]|=128*g}},6470:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function i(e,t){for(var i,n="",s=0,o=-1,r=0,a=0;a<=e.length;++a){if(a<e.length)i=e.charCodeAt(a);else{if(47===i)break;i=47}if(47===i){if(o===a-1||1===r);else if(o!==a-1&&2===r){if(n.length<2||2!==s||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",s=0):s=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),o=a,r=0;continue}}else if(2===n.length||1===n.length){n="",s=0,o=a,r=0;continue}t&&(n.length>0?n+="/..":n="..",s=2)}else n.length>0?n+="/"+e.slice(o+1,a):n=e.slice(o+1,a),s=a-o-1;o=a,r=0}else 46===i&&-1!==r?++r:r=-1}return n}var n={resolve:function(){for(var e,n="",s=!1,o=arguments.length-1;o>=-1&&!s;o--){var r;o>=0?r=arguments[o]:(void 0===e&&(e=process.cwd()),r=e),t(r),0!==r.length&&(n=r+"/"+n,s=47===r.charCodeAt(0))}return n=i(n,!s),s?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),s=47===e.charCodeAt(e.length-1);return 0!==(e=i(e,!n)).length||n||(e="."),e.length>0&&s&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,i=0;i<arguments.length;++i){var s=arguments[i];t(s),s.length>0&&(void 0===e?e=s:e+="/"+s)}return void 0===e?".":n.normalize(e)},relative:function(e,i){if(t(e),t(i),e===i)return"";if((e=n.resolve(e))===(i=n.resolve(i)))return"";for(var s=1;s<e.length&&47===e.charCodeAt(s);++s);for(var o=e.length,r=o-s,a=1;a<i.length&&47===i.charCodeAt(a);++a);for(var l=i.length-a,c=r<l?r:l,h=-1,d=0;d<=c;++d){if(d===c){if(l>c){if(47===i.charCodeAt(a+d))return i.slice(a+d+1);if(0===d)return i.slice(a+d)}else r>c&&(47===e.charCodeAt(s+d)?h=d:0===d&&(h=0));break}var u=e.charCodeAt(s+d);if(u!==i.charCodeAt(a+d))break;47===u&&(h=d)}var f="";for(d=s+h+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===f.length?f+="..":f+="/..");return f.length>0?f+i.slice(a+h):(a+=h,47===i.charCodeAt(a)&&++a,i.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var i=e.charCodeAt(0),n=47===i,s=-1,o=!0,r=e.length-1;r>=1;--r)if(47===(i=e.charCodeAt(r))){if(!o){s=r;break}}else o=!1;return-1===s?n?"/":".":n&&1===s?"//":e.slice(0,s)},basename:function(e,i){if(void 0!==i&&"string"!=typeof i)throw new TypeError('"ext" argument must be a string');t(e);var n,s=0,o=-1,r=!0;if(void 0!==i&&i.length>0&&i.length<=e.length){if(i.length===e.length&&i===e)return"";var a=i.length-1,l=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!r){s=n+1;break}}else-1===l&&(r=!1,l=n+1),a>=0&&(c===i.charCodeAt(a)?-1==--a&&(o=n):(a=-1,o=l))}return s===o?o=l:-1===o&&(o=e.length),e.slice(s,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!r){s=n+1;break}}else-1===o&&(r=!1,o=n+1);return-1===o?"":e.slice(s,o)},extname:function(e){t(e);for(var i=-1,n=0,s=-1,o=!0,r=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47!==l)-1===s&&(o=!1,s=a+1),46===l?-1===i?i=a:1!==r&&(r=1):-1!==i&&(r=-1);else if(!o){n=a+1;break}}return-1===i||-1===s||0===r||1===r&&i===s-1&&i===n+1?"":e.slice(i,s)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var i=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return i?i===t.root?i+n:i+"/"+n:n}(0,e)},parse:function(e){t(e);var i={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return i;var n,s=e.charCodeAt(0),o=47===s;o?(i.root="/",n=1):n=0;for(var r=-1,a=0,l=-1,c=!0,h=e.length-1,d=0;h>=n;--h)if(47!==(s=e.charCodeAt(h)))-1===l&&(c=!1,l=h+1),46===s?-1===r?r=h:1!==d&&(d=1):-1!==r&&(d=-1);else if(!c){a=h+1;break}return-1===r||-1===l||0===d||1===d&&r===l-1&&r===a+1?-1!==l&&(i.base=i.name=0===a&&o?e.slice(1,l):e.slice(a,l)):(0===a&&o?(i.name=e.slice(1,r),i.base=e.slice(1,l)):(i.name=e.slice(a,r),i.base=e.slice(a,l)),i.ext=e.slice(r,l)),a>0?i.dir=e.slice(0,a-1):o&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n},9509:(e,t,i)=>{var n=i(8764),s=n.Buffer;function o(e,t){for(var i in e)t[i]=e[i]}function r(e,t,i){return s(e,t,i)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=r),r.prototype=Object.create(s.prototype),o(s,r),r.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,i)},r.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=s(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},r.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},r.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},6099:(e,t,i)=>{!function(e){e.parser=function(e,t){return new s(e,t)},e.SAXParser=s,e.SAXStream=r,e.createStream=function(e,t){return new r(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function s(t,i){if(!(this instanceof s))return new s(t,i);var o=this;!function(e){for(var t=0,i=n.length;t<i;t++)e[n[t]]=""}(o),o.q=o.c="",o.bufferCheckPosition=e.MAX_BUFFER_LENGTH,o.opt=i||{},o.opt.lowercase=o.opt.lowercase||o.opt.lowercasetags,o.looseCase=o.opt.lowercase?"toLowerCase":"toUpperCase",o.tags=[],o.closed=o.closedRoot=o.sawRoot=!1,o.tag=o.error=null,o.strict=!!t,o.noscript=!(!t&&!o.opt.noscript),o.state=A.BEGIN,o.strictEntities=o.opt.strictEntities,o.ENTITIES=o.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),o.attribList=[],o.opt.xmlns&&(o.ns=Object.create(d)),o.trackPosition=!1!==o.opt.position,o.trackPosition&&(o.position=o.line=o.column=0),$(o,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t}),s.prototype={end:function(){L(this)},write:function(t){var i=this;if(this.error)throw this.error;if(i.closed)return T(i,"Cannot write after close. Assign an onready handler.");if(null===t)return L(i);"object"==typeof t&&(t=t.toString());for(var s=0,o="";o=P(t,s++),i.c=o,o;)switch(i.trackPosition&&(i.position++,"\n"===o?(i.line++,i.column=0):i.column++),i.state){case A.BEGIN:if(i.state=A.BEGIN_WHITESPACE,"\ufeff"===o)continue;B(i,o);continue;case A.BEGIN_WHITESPACE:B(i,o);continue;case A.TEXT:if(i.sawRoot&&!i.closedRoot){for(var r=s-1;o&&"<"!==o&&"&"!==o;)(o=P(t,s++))&&i.trackPosition&&(i.position++,"\n"===o?(i.line++,i.column=0):i.column++);i.textNode+=t.substring(r,s-1)}"<"!==o||i.sawRoot&&i.closedRoot&&!i.strict?(m(o)||i.sawRoot&&!i.closedRoot||R(i,"Text data outside of root node."),"&"===o?i.state=A.TEXT_ENTITY:i.textNode+=o):(i.state=A.OPEN_WAKA,i.startTagPosition=i.position);continue;case A.SCRIPT:"<"===o?i.state=A.SCRIPT_ENDING:i.script+=o;continue;case A.SCRIPT_ENDING:"/"===o?i.state=A.CLOSE_TAG:(i.script+="<"+o,i.state=A.SCRIPT);continue;case A.OPEN_WAKA:if("!"===o)i.state=A.SGML_DECL,i.sgmlDecl="";else if(m(o));else if(w(u,o))i.state=A.OPEN_TAG,i.tagName=o;else if("/"===o)i.state=A.CLOSE_TAG,i.tagName="";else if("?"===o)i.state=A.PROC_INST,i.procInstName=i.procInstBody="";else{if(R(i,"Unencoded <"),i.startTagPosition+1<i.position){var c=i.position-i.startTagPosition;o=new Array(c).join(" ")+o}i.textNode+="<"+o,i.state=A.TEXT}continue;case A.SGML_DECL:(i.sgmlDecl+o).toUpperCase()===a?(S(i,"onopencdata"),i.state=A.CDATA,i.sgmlDecl="",i.cdata=""):i.sgmlDecl+o==="--"?(i.state=A.COMMENT,i.comment="",i.sgmlDecl=""):(i.sgmlDecl+o).toUpperCase()===l?(i.state=A.DOCTYPE,(i.doctype||i.sawRoot)&&R(i,"Inappropriately located doctype declaration"),i.doctype="",i.sgmlDecl=""):">"===o?(S(i,"onsgmldeclaration",i.sgmlDecl),i.sgmlDecl="",i.state=A.TEXT):b(o)?(i.state=A.SGML_DECL_QUOTED,i.sgmlDecl+=o):i.sgmlDecl+=o;continue;case A.SGML_DECL_QUOTED:o===i.q&&(i.state=A.SGML_DECL,i.q=""),i.sgmlDecl+=o;continue;case A.DOCTYPE:">"===o?(i.state=A.TEXT,S(i,"ondoctype",i.doctype),i.doctype=!0):(i.doctype+=o,"["===o?i.state=A.DOCTYPE_DTD:b(o)&&(i.state=A.DOCTYPE_QUOTED,i.q=o));continue;case A.DOCTYPE_QUOTED:i.doctype+=o,o===i.q&&(i.q="",i.state=A.DOCTYPE);continue;case A.DOCTYPE_DTD:i.doctype+=o,"]"===o?i.state=A.DOCTYPE:b(o)&&(i.state=A.DOCTYPE_DTD_QUOTED,i.q=o);continue;case A.DOCTYPE_DTD_QUOTED:i.doctype+=o,o===i.q&&(i.state=A.DOCTYPE_DTD,i.q="");continue;case A.COMMENT:"-"===o?i.state=A.COMMENT_ENDING:i.comment+=o;continue;case A.COMMENT_ENDING:"-"===o?(i.state=A.COMMENT_ENDED,i.comment=E(i.opt,i.comment),i.comment&&S(i,"oncomment",i.comment),i.comment=""):(i.comment+="-"+o,i.state=A.COMMENT);continue;case A.COMMENT_ENDED:">"!==o?(R(i,"Malformed comment"),i.comment+="--"+o,i.state=A.COMMENT):i.state=A.TEXT;continue;case A.CDATA:"]"===o?i.state=A.CDATA_ENDING:i.cdata+=o;continue;case A.CDATA_ENDING:"]"===o?i.state=A.CDATA_ENDING_2:(i.cdata+="]"+o,i.state=A.CDATA);continue;case A.CDATA_ENDING_2:">"===o?(i.cdata&&S(i,"oncdata",i.cdata),S(i,"onclosecdata"),i.cdata="",i.state=A.TEXT):"]"===o?i.cdata+="]":(i.cdata+="]]"+o,i.state=A.CDATA);continue;case A.PROC_INST:"?"===o?i.state=A.PROC_INST_ENDING:m(o)?i.state=A.PROC_INST_BODY:i.procInstName+=o;continue;case A.PROC_INST_BODY:if(!i.procInstBody&&m(o))continue;"?"===o?i.state=A.PROC_INST_ENDING:i.procInstBody+=o;continue;case A.PROC_INST_ENDING:">"===o?(S(i,"onprocessinginstruction",{name:i.procInstName,body:i.procInstBody}),i.procInstName=i.procInstBody="",i.state=A.TEXT):(i.procInstBody+="?"+o,i.state=A.PROC_INST_BODY);continue;case A.OPEN_TAG:w(f,o)?i.tagName+=o:(I(i),">"===o?z(i):"/"===o?i.state=A.OPEN_TAG_SLASH:(m(o)||R(i,"Invalid character in tag name"),i.state=A.ATTRIB));continue;case A.OPEN_TAG_SLASH:">"===o?(z(i,!0),U(i)):(R(i,"Forward-slash in opening tag not followed by >"),i.state=A.ATTRIB);continue;case A.ATTRIB:if(m(o))continue;">"===o?z(i):"/"===o?i.state=A.OPEN_TAG_SLASH:w(u,o)?(i.attribName=o,i.attribValue="",i.state=A.ATTRIB_NAME):R(i,"Invalid attribute name");continue;case A.ATTRIB_NAME:"="===o?i.state=A.ATTRIB_VALUE:">"===o?(R(i,"Attribute without value"),i.attribValue=i.attribName,F(i),z(i)):m(o)?i.state=A.ATTRIB_NAME_SAW_WHITE:w(f,o)?i.attribName+=o:R(i,"Invalid attribute name");continue;case A.ATTRIB_NAME_SAW_WHITE:if("="===o)i.state=A.ATTRIB_VALUE;else{if(m(o))continue;R(i,"Attribute without value"),i.tag.attributes[i.attribName]="",i.attribValue="",S(i,"onattribute",{name:i.attribName,value:""}),i.attribName="",">"===o?z(i):w(u,o)?(i.attribName=o,i.state=A.ATTRIB_NAME):(R(i,"Invalid attribute name"),i.state=A.ATTRIB)}continue;case A.ATTRIB_VALUE:if(m(o))continue;b(o)?(i.q=o,i.state=A.ATTRIB_VALUE_QUOTED):(R(i,"Unquoted attribute value"),i.state=A.ATTRIB_VALUE_UNQUOTED,i.attribValue=o);continue;case A.ATTRIB_VALUE_QUOTED:if(o!==i.q){"&"===o?i.state=A.ATTRIB_VALUE_ENTITY_Q:i.attribValue+=o;continue}F(i),i.q="",i.state=A.ATTRIB_VALUE_CLOSED;continue;case A.ATTRIB_VALUE_CLOSED:m(o)?i.state=A.ATTRIB:">"===o?z(i):"/"===o?i.state=A.OPEN_TAG_SLASH:w(u,o)?(R(i,"No whitespace between attributes"),i.attribName=o,i.attribValue="",i.state=A.ATTRIB_NAME):R(i,"Invalid attribute name");continue;case A.ATTRIB_VALUE_UNQUOTED:if(!v(o)){"&"===o?i.state=A.ATTRIB_VALUE_ENTITY_U:i.attribValue+=o;continue}F(i),">"===o?z(i):i.state=A.ATTRIB;continue;case A.CLOSE_TAG:if(i.tagName)">"===o?U(i):w(f,o)?i.tagName+=o:i.script?(i.script+="</"+i.tagName,i.tagName="",i.state=A.SCRIPT):(m(o)||R(i,"Invalid tagname in closing tag"),i.state=A.CLOSE_TAG_SAW_WHITE);else{if(m(o))continue;y(u,o)?i.script?(i.script+="</"+o,i.state=A.SCRIPT):R(i,"Invalid tagname in closing tag."):i.tagName=o}continue;case A.CLOSE_TAG_SAW_WHITE:if(m(o))continue;">"===o?U(i):R(i,"Invalid characters in closing tag");continue;case A.TEXT_ENTITY:case A.ATTRIB_VALUE_ENTITY_Q:case A.ATTRIB_VALUE_ENTITY_U:var h,d;switch(i.state){case A.TEXT_ENTITY:h=A.TEXT,d="textNode";break;case A.ATTRIB_VALUE_ENTITY_Q:h=A.ATTRIB_VALUE_QUOTED,d="attribValue";break;case A.ATTRIB_VALUE_ENTITY_U:h=A.ATTRIB_VALUE_UNQUOTED,d="attribValue"}";"===o?(i[d]+=N(i),i.entity="",i.state=h):w(i.entity.length?g:p,o)?i.entity+=o:(R(i,"Invalid character in entity name"),i[d]+="&"+i.entity+o,i.entity="",i.state=h);continue;default:throw new Error(i,"Unknown state: "+i.state)}return i.position>=i.bufferCheckPosition&&function(t){for(var i=Math.max(e.MAX_BUFFER_LENGTH,10),s=0,o=0,r=n.length;o<r;o++){var a=t[n[o]].length;if(a>i)switch(n[o]){case"textNode":M(t);break;case"cdata":S(t,"oncdata",t.cdata),t.cdata="";break;case"script":S(t,"onscript",t.script),t.script="";break;default:T(t,"Max buffer length exceeded: "+n[o])}s=Math.max(s,a)}var l=e.MAX_BUFFER_LENGTH-s;t.bufferCheckPosition=l+t.position}(i),i},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;M(e=this),""!==e.cdata&&(S(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(S(e,"onscript",e.script),e.script="")}};try{t=i(3086).Stream}catch(e){t=function(){}}var o=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function r(e,i){if(!(this instanceof r))return new r(e,i);t.apply(this),this._parser=new s(e,i),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,o.forEach((function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})}))}r.prototype=Object.create(t.prototype,{constructor:{value:r}}),r.prototype.write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=i(2553).s;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},r.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},r.prototype.on=function(e,i){var n=this;return n._parser["on"+e]||-1===o.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),t.prototype.on.call(n,e,i)};var a="[CDATA[",l="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",d={xml:c,xmlns:h},u=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function m(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function b(e){return'"'===e||"'"===e}function v(e){return">"===e||m(e)}function w(e,t){return e.test(t)}function y(e,t){return!w(e,t)}var x,k,_,A=0;for(var C in e.STATE={BEGIN:A++,BEGIN_WHITESPACE:A++,TEXT:A++,TEXT_ENTITY:A++,OPEN_WAKA:A++,SGML_DECL:A++,SGML_DECL_QUOTED:A++,DOCTYPE:A++,DOCTYPE_QUOTED:A++,DOCTYPE_DTD:A++,DOCTYPE_DTD_QUOTED:A++,COMMENT_STARTING:A++,COMMENT:A++,COMMENT_ENDING:A++,COMMENT_ENDED:A++,CDATA:A++,CDATA_ENDING:A++,CDATA_ENDING_2:A++,PROC_INST:A++,PROC_INST_BODY:A++,PROC_INST_ENDING:A++,OPEN_TAG:A++,OPEN_TAG_SLASH:A++,ATTRIB:A++,ATTRIB_NAME:A++,ATTRIB_NAME_SAW_WHITE:A++,ATTRIB_VALUE:A++,ATTRIB_VALUE_QUOTED:A++,ATTRIB_VALUE_CLOSED:A++,ATTRIB_VALUE_UNQUOTED:A++,ATTRIB_VALUE_ENTITY_Q:A++,ATTRIB_VALUE_ENTITY_U:A++,CLOSE_TAG:A++,CLOSE_TAG_SAW_WHITE:A++,SCRIPT:A++,SCRIPT_ENDING:A++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var i=e.ENTITIES[t],n="number"==typeof i?String.fromCharCode(i):i;e.ENTITIES[t]=n})),e.STATE)e.STATE[e.STATE[C]]=C;function $(e,t,i){e[t]&&e[t](i)}function S(e,t,i){e.textNode&&M(e),$(e,t,i)}function M(e){e.textNode=E(e.opt,e.textNode),e.textNode&&$(e,"ontext",e.textNode),e.textNode=""}function E(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function T(e,t){return M(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,$(e,"onerror",t),e}function L(e){return e.sawRoot&&!e.closedRoot&&R(e,"Unclosed root tag"),e.state!==A.BEGIN&&e.state!==A.BEGIN_WHITESPACE&&e.state!==A.TEXT&&T(e,"Unexpected end"),M(e),e.c="",e.closed=!0,$(e,"onend"),s.call(e,e.strict,e.opt),e}function R(e,t){if("object"!=typeof e||!(e instanceof s))throw new Error("bad call to strictFail");e.strict&&T(e,t)}function I(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,i=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(i.ns=t.ns),e.attribList.length=0,S(e,"onopentagstart",i)}function O(e,t){var i=e.indexOf(":")<0?["",e]:e.split(":"),n=i[0],s=i[1];return t&&"xmlns"===e&&(n="xmlns",s=""),{prefix:n,local:s}}function F(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=O(e.attribName,!0),i=t.prefix,n=t.local;if("xmlns"===i)if("xml"===n&&e.attribValue!==c)R(e,"xml: prefix must be bound to "+c+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==h)R(e,"xmlns: prefix must be bound to "+h+"\nActual: "+e.attribValue);else{var s=e.tag,o=e.tags[e.tags.length-1]||e;s.ns===o.ns&&(s.ns=Object.create(o.ns)),s.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,S(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function z(e,t){if(e.opt.xmlns){var i=e.tag,n=O(e.tagName);i.prefix=n.prefix,i.local=n.local,i.uri=i.ns[n.prefix]||"",i.prefix&&!i.uri&&(R(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),i.uri=n.prefix);var s=e.tags[e.tags.length-1]||e;i.ns&&s.ns!==i.ns&&Object.keys(i.ns).forEach((function(t){S(e,"onopennamespace",{prefix:t,uri:i.ns[t]})}));for(var o=0,r=e.attribList.length;o<r;o++){var a=e.attribList[o],l=a[0],c=a[1],h=O(l,!0),d=h.prefix,u=h.local,f=""===d?"":i.ns[d]||"",p={name:l,value:c,prefix:d,local:u,uri:f};d&&"xmlns"!==d&&!f&&(R(e,"Unbound namespace prefix: "+JSON.stringify(d)),p.uri=d),e.tag.attributes[l]=p,S(e,"onattribute",p)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),S(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=A.TEXT:e.state=A.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function U(e){if(!e.tagName)return R(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=A.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=A.SCRIPT);S(e,"onscript",e.script),e.script=""}var t=e.tags.length,i=e.tagName;e.strict||(i=i[e.looseCase]());for(var n=i;t--&&e.tags[t].name!==n;)R(e,"Unexpected close tag");if(t<0)return R(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=A.TEXT);e.tagName=i;for(var s=e.tags.length;s-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,S(e,"onclosetag",e.tagName);var r={};for(var a in o.ns)r[a]=o.ns[a];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==l.ns&&Object.keys(o.ns).forEach((function(t){var i=o.ns[t];S(e,"onclosenamespace",{prefix:t,uri:i})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=A.TEXT}function N(e){var t,i=e.entity,n=i.toLowerCase(),s="";return e.ENTITIES[i]?e.ENTITIES[i]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(i=n).charAt(0)&&("x"===i.charAt(1)?(i=i.slice(2),s=(t=parseInt(i,16)).toString(16)):(i=i.slice(1),s=(t=parseInt(i,10)).toString(10))),i=i.replace(/^0+/,""),isNaN(t)||s.toLowerCase()!==i?(R(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function B(e,t){"<"===t?(e.state=A.OPEN_WAKA,e.startTagPosition=e.position):m(t)||(R(e,"Non-whitespace before first tag."),e.textNode=t,e.state=A.TEXT)}function P(e,t){var i="";return t<e.length&&(i=e.charAt(t)),i}A=e.STATE,String.fromCodePoint||(x=String.fromCharCode,k=Math.floor,_=function(){var e,t,i=[],n=-1,s=arguments.length;if(!s)return"";for(var o="";++n<s;){var r=Number(arguments[n]);if(!isFinite(r)||r<0||r>1114111||k(r)!==r)throw RangeError("Invalid code point: "+r);r<=65535?i.push(r):(e=55296+((r-=65536)>>10),t=r%1024+56320,i.push(e,t)),(n+1===s||i.length>16384)&&(o+=x.apply(null,i),i.length=0)}return o},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:_,configurable:!0,writable:!0}):String.fromCodePoint=_)}(t)},3086:(e,t,i)=>{var n=i(624);function s(){n.call(this)}s.prototype=new n,e.exports=s,s.Stream=s,s.prototype.pipe=function(e,t){var i=this;function n(t){e.writable&&!1===e.write(t)&&i.pause&&i.pause()}function s(){i.readable&&i.resume&&i.resume()}i.on("data",n),e.on("drain",s),e._isStdio||t&&!1===t.end||(i.on("end",r),i.on("close",a));var o=!1;function r(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),!this.hasListeners("error"))throw e}function c(){i.off("data",n),e.off("drain",s),i.off("end",r),i.off("close",a),i.off("error",l),e.off("error",l),i.off("end",c),i.off("close",c),e.off("end",c),e.off("close",c)}return i.on("error",l),e.on("error",l),i.on("end",c),i.on("close",c),e.on("end",c),e.on("close",c),e.emit("pipe",i),e}},2553:(e,t,i)=>{"use strict";var n=i(9509).Buffer,s=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===s||!s(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=h,this.end=d,t=3;break;default:return this.write=u,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function r(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,i=function(e,t,i){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var i=e.toString("utf16le",t);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function h(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function u(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var i=function(e,t,i){var n=t.length-1;if(n<i)return 0;var s=r(t[n]);return s>=0?(s>0&&(e.lastNeed=s-1),s):--n<i||-2===s?0:(s=r(t[n]))>=0?(s>0&&(e.lastNeed=s-2),s):--n<i||-2===s?0:(s=r(t[n]))>=0?(s>0&&(2===s?s=0:e.lastNeed=s-3),s):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var n=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},9684:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>b});var n=i(3379),s=i.n(n),o=i(7795),r=i.n(o),a=i(569),l=i.n(a),c=i(3565),h=i.n(c),d=i(9216),u=i.n(d),f=i(4589),p=i.n(f),g=i(886),m={};m.styleTagTransform=p(),m.setAttributes=h(),m.insert=l().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=u(),s()(g.Z,m);const b=g.Z&&g.Z.locals?g.Z.locals:void 0},2799:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>b});var n=i(3379),s=i.n(n),o=i(7795),r=i.n(o),a=i(569),l=i.n(a),c=i(3565),h=i.n(c),d=i(9216),u=i.n(d),f=i(4589),p=i.n(f),g=i(5752),m={};m.styleTagTransform=p(),m.setAttributes=h(),m.insert=l().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=u(),s()(g.Z,m);const b=g.Z&&g.Z.locals?g.Z.locals:void 0},3955:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>b});var n=i(3379),s=i.n(n),o=i(7795),r=i.n(o),a=i(569),l=i.n(a),c=i(3565),h=i.n(c),d=i(9216),u=i.n(d),f=i(4589),p=i.n(f),g=i(9477),m={};m.styleTagTransform=p(),m.setAttributes=h(),m.insert=l().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=u(),s()(g.Z,m);const b=g.Z&&g.Z.locals?g.Z.locals:void 0},3379:e=>{"use strict";var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var o={},r=[],a=0;a<e.length;a++){var l=e[a],c=n.base?l[0]+n.base:l[0],h=o[c]||0,d="".concat(c," ").concat(h);o[c]=h+1;var u=i(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(f);else{var p=s(f,n);n.byIndex=a,t.splice(a,0,{identifier:d,updater:p,references:1})}r.push(d)}return r}function s(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,s){var o=n(e=e||[],s=s||{});return function(e){e=e||[];for(var r=0;r<o.length;r++){var a=i(o[r]);t[a].references--}for(var l=n(e,s),c=0;c<o.length;c++){var h=i(o[c]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}o=l}}},569:e=>{"use strict";var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,i)=>{"use strict";e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var s=void 0!==i.layer;s&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,s&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1860:function(e,t,i){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var i,n,s,o,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(r=0)),r;)try{if(i=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((s=(s=r.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(6===a[0]&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],n=0}finally{i=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(7790),l=i(4385),c=i(7617),h=i(3855),d=function(e){function t(t){var i=e.call(this)||this;if(i.synth=new a({voices:16,useReverb:0,quality:1}),window.webAudioControlsWidgetManager.addMidiListener((function(e){return i.onKeyboard(e)})),i.loader=new c.default,(0,h.setParserLoader)(i.loader),t.root&&i.loader.setRoot(t.root),t.file){var n=i.loader.addFile(t.file);i.showFile(n)}return i}return s(t,e),t.prototype.showFile=function(e){return o(this,void 0,void 0,(function(){var t,i,n;return r(this,(function(s){switch(s.label){case 0:return[4,this.loader.getFile(e)];case 1:return e=s.sent(),console.log("showFile",e),i=(t=console).log,n=["parseSFZ"],[4,(0,h.parseSfz)(null==e?void 0:e.contents)];case 2:return i.apply(t,n.concat([s.sent()])),[2]}}))}))},t.prototype.onKeyboard=function(e){var t={channel:144,note:e.data[1],velocity:128===e.data[0]?0:e.data[2]};this.setSynth(t),this.dispatchEvent("change",t)},t.prototype.setSynth=function(e){this.synth.send([e.channel,e.note,e.velocity])},t}(l.default);t.default=d},3082:function(e,t,i){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var i,n,s,o,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(r=0)),r;)try{if(i=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((s=(s=r.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(6===a[0]&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],n=0}finally{i=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(6470),l=i(3239),c=i(717);i(9684),i(6245);var h=i(3179).A,d=i(9334),u=i(7617),f=function(e){function t(t){var i=e.call(this,"editor")||this;if(i.fileEl=document.createElement("div"),i.fileEl.className="fileList",i.getEl().appendChild(i.fileEl),i.aceEl=document.createElement("div"),i.aceEl.className="ace",i.ace=l.edit(i.aceEl,{theme:"ace/theme/monokai"}),i.getEl().appendChild(i.aceEl),t.loader?i.loader=t.loader:i.loader=new u.default,t.root&&i.loader.setRoot(t.root),t.directory&&(i.loader.addDirectory(t.directory),i.render()),t.file){var n=i.loader.addFile(t.file);i.showFile(n)}return i}return s(t,e),t.prototype.showFile=function(e){return o(this,void 0,void 0,(function(){var t;return r(this,(function(i){switch(i.label){case 0:return[4,this.loader.getFile(e)];case 1:return(e=i.sent())?("sfz"===e.ext?this.ace.session.setMode(new h):(t=c.getModeForPath(e.path).mode,this.ace.session.setMode(t)),this.ace.setOption("value",e.contents),[2]):[2]}}))}))},t.prototype.createTree=function(e,t,i){var n=this,s=document.createElement("ul"),l=function(l){var h=a.join(e,l),d=document.createElement("li");if(Object.keys(i[l]).length>0){var u=document.createElement("details"),f=document.createElement("summary");f.innerHTML=l,f.addEventListener("click",(function(){return o(n,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.showFile(t[h])];case 1:return e.sent(),[2]}}))}))})),u.appendChild(f),u.appendChild(c.createTree(h,t,i[l])),d.appendChild(u)}else d.innerHTML=l,d.addEventListener("click",(function(){return o(n,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.showFile(t[h])];case 1:return e.sent(),[2]}}))}))}));s.appendChild(d)},c=this;for(var h in i)l(h);return s},t.prototype.render=function(){this.fileEl.replaceChildren(),this.fileEl.innerHTML=this.loader.root;var e=this.createTree("",this.loader.files,this.loader.filesTree);e.className="tree",this.fileEl.appendChild(e)},t}(d.default);t.default=f},5802:function(e,t,i){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var i,n,s,o,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(r=0)),r;)try{if(i=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((s=(s=r.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(6===a[0]&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],n=0}finally{i=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),window.WebAudioControlsOptions={useMidi:1},i(5031),i(2799);var a=i(7888),l=i(9334),c=i(5054),h=i(7617),d=function(e){function t(t){var i=e.call(this,"interface")||this;if(i.instrument={},i.tabs=document.createElement("div"),i.tabs.className="tabs",i.addTab("Info"),i.addTab("Controls"),i.getEl().appendChild(i.tabs),i.addKeyboard(),t.loader?i.loader=t.loader:i.loader=new h.default,t.root&&i.loader.setRoot(t.root),t.directory&&i.loader.addDirectory(t.directory),t.file){var n=i.loader.addFile(t.file);i.showFile(n)}return i}return s(t,e),t.prototype.showFile=function(e){return o(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.loader.getFile(e)];case 1:return e=t.sent(),this.instrument=this.parseXML(e),this.render(),[2]}}))}))},t.prototype.render=function(){this.setupInfo(),this.setupControls()},t.prototype.addImage=function(e){return o(this,void 0,void 0,(function(){var t;return r(this,(function(i){switch(i.label){case 0:return(t=document.createElement("img")).setAttribute("draggable","false"),t.setAttribute("style","left: ".concat(e.x,"px; top: ").concat(e.y,"px; height: ").concat(e.h,"px; width: ").concat(e.w,"px")),[4,this.addImageAtr(t,"src",e.image)];case 1:return i.sent(),[2,t]}}))}))},t.prototype.addImageAtr=function(e,t,i){return o(this,void 0,void 0,(function(){var n;return r(this,(function(s){return this.loader.root.startsWith("http")?e.setAttribute(t,this.loader.root+"GUI/"+i):(n=this.loader.files["GUI/"+i])&&"handle"in n&&e.setAttribute(t,URL.createObjectURL(n.handle)),[2]}))}))},t.prototype.addControl=function(e,t){var i=document.createElement("webaudio-".concat(e));if("image"in t&&this.addImageAtr(i,"src",t.image),"image_bg"in t&&this.addImageAtr(i,"src",t.image_bg),"image_handle"in t&&this.addImageAtr(i,"knobsrc",t.image_handle),"frames"in t&&(i.setAttribute("value","0"),i.setAttribute("max",Number(t.frames)-1),i.setAttribute("step","1"),i.setAttribute("sprites",Number(t.frames)-1),i.setAttribute("tooltip","%d")),"orientation"in t){var n="vertical"===t.orientation?"vert":"horz";i.setAttribute("direction",n)}return"x"in t&&i.setAttribute("style","left: ".concat(t.x,"px; top: ").concat(t.y,"px")),"w"in t&&(i.setAttribute("height",t.h),i.setAttribute("width",t.w)),i},t.prototype.addKeyboard=function(){var e=this,t=document.createElement("webaudio-keyboard");t.setAttribute("keys","88"),t.setAttribute("height","70"),t.setAttribute("width","775"),t.addEventListener("change",(function(t){var i={channel:144,note:t.note[1],velocity:t.note[0]?100:0};e.dispatchEvent("change",i)})),this.getEl().appendChild(t),this.keys=t},t.prototype.setKeyboard=function(e){this.keys.setNote(e.velocity,e.note)},t.prototype.addTab=function(e){var t=document.createElement("input");t.className="radiotab","Info"===e&&t.setAttribute("checked","checked"),t.type="radio",t.id=e.toLowerCase(),t.name="tabs",this.tabs.appendChild(t);var i=document.createElement("label");i.className="label",i.setAttribute("for",e.toLowerCase()),i.innerHTML=e,this.tabs.appendChild(i);var n=document.createElement("div");n.className="panel",this.tabs.appendChild(n)},t.prototype.addText=function(e){var t=document.createElement("span");return t.setAttribute("style","left: ".concat(e.x,"px; top: ").concat(e.y,"px; color: ").concat(e.color_text,"; height: ").concat(e.h,"px; width: ").concat(e.w,"px")),t.innerHTML=e.text,t},t.prototype.parseXML=function(e){if(!e)return{};var t=(0,a.xml2js)(e.contents);return this.findElements({},t.elements)},t.prototype.setupInfo=function(){return o(this,void 0,void 0,(function(){var e,t,i,n,s;return r(this,(function(o){switch(o.label){case 0:return this.instrument.AriaGUI?((e=this.tabs.getElementsByClassName("panel")[0]).replaceChildren(),[4,this.loader.getFile(this.loader.root+this.instrument.AriaGUI[0].path)]):[2];case 1:return t=o.sent(),[4,this.parseXML(t)];case 2:return i=o.sent(),s=(n=e).appendChild,[4,this.addImage(i.StaticImage[0])];case 3:return s.apply(n,[o.sent()]),[2]}}))}))},t.prototype.setupControls=function(){return o(this,void 0,void 0,(function(){var e,t,i,n=this;return r(this,(function(s){switch(s.label){case 0:return this.instrument.AriaProgram?((e=this.tabs.getElementsByClassName("panel")[1]).replaceChildren(),[4,this.loader.getFile(this.loader.root+this.instrument.AriaProgram[0].gui)]):[2];case 1:return t=s.sent(),[4,this.parseXML(t)];case 2:return(i=s.sent()).Knob&&i.Knob.forEach((function(t){return e.appendChild(n.addControl(c.PlayerElements.Knob,t))})),i.OnOffButton&&i.OnOffButton.forEach((function(t){return e.appendChild(n.addControl(c.PlayerElements.Switch,t))})),i.Slider&&i.Slider.forEach((function(t){return e.appendChild(n.addControl(c.PlayerElements.Slider,t))})),i.StaticImage&&i.StaticImage.forEach((function(t){return o(n,void 0,void 0,(function(){var i,n;return r(this,(function(s){switch(s.label){case 0:return n=(i=e).appendChild,[4,this.addImage(t)];case 1:return[2,n.apply(i,[s.sent()])]}}))}))})),i.StaticText&&i.StaticText.forEach((function(t){return e.appendChild(n.addText(t))})),[2]}}))}))},t.prototype.findElements=function(e,t){var i=this;return t.forEach((function(t){"element"===t.type&&(e[t.name]||(e[t.name]=[]),e[t.name].push(t.attributes)),t.elements&&i.findElements(e,t.elements)})),e},t}(l.default);t.default=d},9920:function(e,t,i){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var i,n,s,o,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(r=0)),r;)try{if(i=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((s=(s=r.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(6===a[0]&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],n=0}finally{i=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(9334),l=i(3082),c=i(5802);i(3955);var h=i(9434),d=i(974),u=i(7617),f=i(1860),p=function(e){function t(t,i){var n,s=this;return(s=e.call(this,"player")||this).loader=new u.default,i.audio&&s.setupAudio(i.audio),i.header&&s.setupHeader(),i.interface&&s.setupInterface(i.interface),i.editor&&s.setupEditor(i.editor),null===(n=document.getElementById(t))||void 0===n||n.appendChild(s.getEl()),s}return s(t,e),t.prototype.setupAudio=function(e){var t=this;e.loader=this.loader,this.audio=new f.default(e),this.audio.addEvent("change",(function(e){t.interface&&t.interface.setKeyboard(e.data)}))},t.prototype.setupInterface=function(e){var t=this;e.loader=this.loader,this.interface=new c.default(e),this.interface.addEvent("change",(function(e){t.audio&&t.audio.setSynth(e.data)})),this.getEl().appendChild(this.interface.getEl())},t.prototype.setupEditor=function(e){e.loader=this.loader,this.editor=new l.default(e),this.getEl().appendChild(this.editor.getEl())},t.prototype.setupHeader=function(){var e=this,t=document.createElement("div");t.className="header";var i=document.createElement("input");i.type="button",i.value="Select directory",i.addEventListener("click",(function(t){return o(e,void 0,void 0,(function(){var e,t,i,n,s,o,a,l,c,u;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),[4,(0,h.directoryOpen)({recursive:!0})];case 1:if(e=r.sent(),console.log("".concat(e.length," files selected.")),!this.audio)return[3,3];for(t=void 0,this.audio.loader.setRoot((0,d.pathRoot)(e[0].webkitRelativePath)+"Programs/"),this.audio.loader.addDirectory(e),i=0,n=e;i<n.length;i++)l=n[i],"sfz"===(0,d.pathExt)(l.webkitRelativePath)&&(c=this.audio.loader.addFile(l),t||(0,d.pathDir)(l.webkitRelativePath)!==this.audio.loader.root||(t=c));return[4,this.audio.showFile(t)];case 2:r.sent(),r.label=3;case 3:if(!this.interface)return[3,5];for(s=void 0,this.interface.loader.setRoot((0,d.pathRoot)(e[0].webkitRelativePath)),this.interface.loader.addDirectory(e),o=0,a=e;o<a.length;o++)l=a[o],"xml"===(0,d.pathExt)(l.webkitRelativePath)&&(c=this.interface.loader.addFile(l),s||(0,d.pathDir)(l.webkitRelativePath)!==this.interface.loader.root||(s=c));return[4,this.interface.showFile(s)];case 4:r.sent(),this.interface.render(),r.label=5;case 5:return this.editor&&(this.editor.loader.setRoot((0,d.pathRoot)(e[0].webkitRelativePath)),this.editor.loader.addDirectory(e),this.editor.render()),[3,7];case 6:return"AbortError"!==(u=r.sent()).name?[2,console.error(u)]:(console.log("The user aborted a request."),[3,7]);case 7:return[2]}}))}))})),t.appendChild(i),this.getEl().appendChild(t)},t}(a.default);t.default=p},9334:function(e,t,i){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var i=e.call(this)||this;return i.el=document.createElement("div"),i.getEl().className=t,i}return s(t,e),t.prototype.getEl=function(){return this.el},t}(i(4385).default);t.default=o},4385:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.events={}}return e.prototype.addEvent=function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)},e.prototype.removeEvent=function(e,t){var i=this;this.events[e]&&(t?this.events[e].forEach((function(n,s){if(n===t)return i.events[e].splice(s,1),!0})):delete this.events[e])},e.prototype.dispatchEvent=function(e,t){var i=this;this.events[e]&&this.events[e].forEach((function(n){n({data:t,target:i,type:e})}))},e}();t.default=i},5054:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerElements=void 0,function(e){e.Keyboard="keyboard",e.Knob="knob",e.Slider="slider",e.Switch="switch"}(i||(i={})),t.PlayerElements=i},4140:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,s,o,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(r=0)),r;)try{if(i=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((s=(s=r.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(6===a[0]&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],n=0}finally{i=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getXML=t.getRaw=t.getJSON=t.get=void 0;var o=i(7888);t.get=function(e){return n(this,void 0,void 0,(function(){return s(this,(function(t){return console.log("⤓",e),[2,fetch(e).then((function(e){return e.text()}))]}))}))},t.getJSON=function(e){return n(this,void 0,void 0,(function(){return s(this,(function(t){return console.log("⤓",e),[2,fetch(e).then((function(e){return e.json()}))]}))}))},t.getRaw=function(e){return n(this,void 0,void 0,(function(){return s(this,(function(t){return console.log("⤓",e),[2,fetch(e).then((function(e){return e.buffer()}))]}))}))},t.getXML=function(e){return n(this,void 0,void 0,(function(){var t=this;return s(this,(function(i){return console.log("⤓",e),[2,fetch(e).then((function(e){return n(t,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return t=o.xml2js,[4,e.text()];case 1:return[2,t.apply(void 0,[i.sent()])]}}))}))}))]}))}))}},7617:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,s,o,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(r=0)),r;)try{if(i=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((s=(s=r.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(6===a[0]&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],n=0}finally{i=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(4140),r=i(974),a=function(){function e(){this.files={},this.filesTree={},this.root=""}return e.prototype.addDirectory=function(e){var t=this;this.resetFiles(),e.forEach((function(e){return t.addFile(e)}))},e.prototype.addFile=function(e){var t;if("string"==typeof e){if(e===this.root)return;t={ext:(0,r.pathExt)(e),contents:null,path:decodeURI(e)}}else t={ext:(0,r.pathExt)(e.webkitRelativePath),contents:null,path:decodeURI(e.webkitRelativePath),handle:e};var i=(0,r.pathSubDir)(t.path,this.root);return this.files[i]=t,i.split("/").reduce((function(e,t){return e[t]=e[t]||{}}),this.filesTree),t},e.prototype.loadFile=function(e){return n(this,void 0,void 0,(function(){var t,i;return s(this,(function(n){switch(n.label){case 0:return"string"!=typeof e?[3,2]:(t={ext:(0,r.pathExt)(e)},[4,(0,o.get)(e)]);case 1:return[2,(t.contents=n.sent(),t.path=decodeURI(e),t)];case 2:return i={ext:(0,r.pathExt)(e.webkitRelativePath)},[4,e.text()];case 3:return[2,(i.contents=n.sent(),i.path=e.webkitRelativePath,i)]}}))}))},e.prototype.getFile=function(e){return n(this,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return e?"string"!=typeof e?[3,3]:(t=(0,r.pathSubDir)(e,this.root),this.files[t]?(e=this.files[t],[3,3]):[3,1]):[2];case 1:return[4,this.loadFile(e)];case 2:e=i.sent(),i.label=3;case 3:return e.contents?[3,7]:(t=(0,r.pathSubDir)(e.path,this.root),"handle"in e?[4,this.loadFile(e.handle)]:[3,5]);case 4:return e=i.sent(),this.files[t]=e,[3,7];case 5:return[4,this.loadFile(e.path)];case 6:e=i.sent(),this.files[t]=e,i.label=7;case 7:return[2,e]}}))}))},e.prototype.setRoot=function(e){this.root=e},e.prototype.resetFiles=function(){this.files={},this.filesTree={}},e}();t.default=a},3855:function(e,t){"use strict";var i,n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n.apply(this,arguments)},s=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var i,n,s,o,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(r=0)),r;)try{if(i=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((s=(s=r.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(6===a[0]&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],n=0}finally{i=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.setParserLoader=t.parseSfz=void 0;var r=[" ","\t","\r","\n"],a=[">","\r","\n"];t.parseSfz=function e(t){return s(this,void 0,void 0,(function(){var s,l,c,h,d,u,f,p,g,m,b,v,w,y;return o(this,(function(o){switch(o.label){case 0:s="",l={},c={},h=0,o.label=1;case 1:return h<t.length?(d=t.charAt(h),r.includes(d)?[3,7]:(u=function(e,t){for(var i=t;i<e.length;i++){var n=e.charAt(i);if(a.includes(n))return i;if("/"===n&&"/"===e.charAt(i+1))return i}return e.length}(t,h),"/"!==d?[3,2]:[3,6])):[3,8];case 2:return"#"!==d?[3,5]:(f=t.slice(h+10,u-1),[4,i.getFile(i.root+f)]);case 3:return[4,e(null==(p=o.sent())?void 0:p.contents)];case 4:return g=o.sent(),(m=l[s])[m.length-1]=n(n({},m[m.length-1]),g),[3,6];case 5:"<"===d?(s=t.slice(h+1,u),c={},l[s]||(l[s]=[]),l[s].push(c)):(b=t.slice(h,u),v=b.split("="),w=v[0],y=v[1],isNaN(y)?c[w]=y:c[w]=Number(y)),o.label=6;case 6:h=u,o.label=7;case 7:return h++,[3,1];case 8:return s?[2,l]:[2,c]}}))}))},t.setParserLoader=function(e){i=e}},974:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pathSubDir=t.pathRoot=t.pathExt=t.pathDir=void 0,t.pathDir=function(e,t){return void 0===t&&(t="/"),e.substring(0,e.lastIndexOf(t)+1)},t.pathExt=function(e){return e.substring(e.lastIndexOf(".")+1)},t.pathRoot=function(e,t){return void 0===t&&(t="/"),e.substring(0,e.indexOf(t)+1)},t.pathSubDir=function(e,t){return e.substring(t.length)}},7790:function(e){!function(t){"use strict";function i(e){Object.assign(e,{properties:{masterVol:{type:Number,value:.5,observer:"setMasterVol"},reverbLev:{type:Number,value:.3,observer:"setReverbLev"},quality:{type:Number,value:1,observer:"setQuality"},debug:{type:Number,value:0},src:{type:String,value:null,observer:"loadMIDIfromSrc"},loop:{type:Number,value:0},internalcontext:{type:Number,value:1},tsmode:{type:Number,value:0},voices:{type:Number,value:64},useReverb:{type:Number,value:1},width:{type:String,value:"300px",observer:"layout"},height:{type:String,value:"32px",observer:"layout"},graph:{type:Number,value:1},disabledrop:{type:Number,value:0},perfmon:{type:Number,value:0}},layout:()=>{this.canvas.style.width=this.width,this.canvas.style.height=this.height},program:[{name:"Acoustic Grand Piano"},{name:"Bright Acoustic Piano"},{name:"Electric Grand Piano"},{name:"Honky-tonk Piano"},{name:"Electric Piano 1"},{name:"Electric Piano 2"},{name:"Harpsichord"},{name:"Clavi"},{name:"Celesta"},{name:"Glockenspiel"},{name:"Music Box"},{name:"Vibraphone"},{name:"Marimba"},{name:"Xylophone"},{name:"Tubular Bells"},{name:"Dulcimer"},{name:"Drawbar Organ"},{name:"Percussive Organ"},{name:"Rock Organ"},{name:"Church Organ"},{name:"Reed Organ"},{name:"Accordion"},{name:"Harmonica"},{name:"Tango Accordion"},{name:"Acoustic Guitar (nylon)"},{name:"Acoustic Guitar (steel)"},{name:"Electric Guitar (jazz)"},{name:"Electric Guitar (clean)"},{name:"Electric Guitar (muted)"},{name:"Overdriven Guitar"},{name:"Distortion Guitar"},{name:"Guitar harmonics"},{name:"Acoustic Bass"},{name:"Electric Bass (finger)"},{name:"Electric Bass (pick)"},{name:"Fretless Bass"},{name:"Slap Bass 1"},{name:"Slap Bass 2"},{name:"Synth Bass 1"},{name:"Synth Bass 2"},{name:"Violin"},{name:"Viola"},{name:"Cello"},{name:"Contrabass"},{name:"Tremolo Strings"},{name:"Pizzicato Strings"},{name:"Orchestral Harp"},{name:"Timpani"},{name:"String Ensemble 1"},{name:"String Ensemble 2"},{name:"SynthStrings 1"},{name:"SynthStrings 2"},{name:"Choir Aahs"},{name:"Voice Oohs"},{name:"Synth Voice"},{name:"Orchestra Hit"},{name:"Trumpet"},{name:"Trombone"},{name:"Tuba"},{name:"Muted Trumpet"},{name:"French Horn"},{name:"Brass Section"},{name:"SynthBrass 1"},{name:"SynthBrass 2"},{name:"Soprano Sax"},{name:"Alto Sax"},{name:"Tenor Sax"},{name:"Baritone Sax"},{name:"Oboe"},{name:"English Horn"},{name:"Bassoon"},{name:"Clarinet"},{name:"Piccolo"},{name:"Flute"},{name:"Recorder"},{name:"Pan Flute"},{name:"Blown Bottle"},{name:"Shakuhachi"},{name:"Whistle"},{name:"Ocarina"},{name:"Lead 1 (square)"},{name:"Lead 2 (sawtooth)"},{name:"Lead 3 (calliope)"},{name:"Lead 4 (chiff)"},{name:"Lead 5 (charang)"},{name:"Lead 6 (voice)"},{name:"Lead 7 (fifths)"},{name:"Lead 8 (bass + lead)"},{name:"Pad 1 (new age)"},{name:"Pad 2 (warm)"},{name:"Pad 3 (polysynth)"},{name:"Pad 4 (choir)"},{name:"Pad 5 (bowed)"},{name:"Pad 6 (metallic)"},{name:"Pad 7 (halo)"},{name:"Pad 8 (sweep)"},{name:"FX 1 (rain)"},{name:"FX 2 (soundtrack)"},{name:"FX 3 (crystal)"},{name:"FX 4 (atmosphere)"},{name:"FX 5 (brightness)"},{name:"FX 6 (goblins)"},{name:"FX 7 (echoes)"},{name:"FX 8 (sci-fi)"},{name:"Sitar"},{name:"Banjo"},{name:"Shamisen"},{name:"Koto"},{name:"Kalimba"},{name:"Bag pipe"},{name:"Fiddle"},{name:"Shanai"},{name:"Tinkle Bell"},{name:"Agogo"},{name:"Steel Drums"},{name:"Woodblock"},{name:"Taiko Drum"},{name:"Melodic Tom"},{name:"Synth Drum"},{name:"Reverse Cymbal"},{name:"Guitar Fret Noise"},{name:"Breath Noise"},{name:"Seashore"},{name:"Bird Tweet"},{name:"Telephone Ring"},{name:"Helicopter"},{name:"Applause"},{name:"Gunshot"}],drummap:[{name:"Acoustic Bass Drum"},{name:"Bass Drum 1"},{name:"Side Stick"},{name:"Acoustic Snare"},{name:"Hand Clap"},{name:"Electric Snare"},{name:"Low Floor Tom"},{name:"Closed Hi Hat"},{name:"High Floor Tom"},{name:"Pedal Hi-Hat"},{name:"Low Tom"},{name:"Open Hi-Hat"},{name:"Low-Mid Tom"},{name:"Hi-Mid Tom"},{name:"Crash Cymbal 1"},{name:"High Tom"},{name:"Ride Cymbal 1"},{name:"Chinese Cymbal"},{name:"Ride Bell"},{name:"Tambourine"},{name:"Splash Cymbal"},{name:"Cowbell"},{name:"Crash Cymbal 2"},{name:"Vibraslap"},{name:"Ride Cymbal 2"},{name:"Hi Bongo"},{name:"Low Bongo"},{name:"Mute Hi Conga"},{name:"Open Hi Conga"},{name:"Low Conga"},{name:"High Timbale"},{name:"Low Timbale"},{name:"High Agogo"},{name:"Low Agogo"},{name:"Cabasa"},{name:"Maracas"},{name:"Short Whistle"},{name:"Long Whistle"},{name:"Short Guiro"},{name:"Long Guiro"},{name:"Claves"},{name:"Hi Wood Block"},{name:"Low Wood Block"},{name:"Mute Cuica"},{name:"Open Cuica"},{name:"Mute Triangle"},{name:"Open Triangle"}],program1:[[{w:"sine",v:.4,d:.7,r:.1},{w:"triangle",v:3,d:.7,s:.1,g:1,a:.01,k:-1.2}],[{w:"triangle",v:.4,d:.7,r:.1},{w:"triangle",v:4,t:3,d:.4,s:.1,g:1,k:-1,a:.01}],[{w:"sine",d:.7,r:.1},{w:"triangle",v:4,f:2,d:.5,s:.5,g:1,k:-1}],[{w:"sine",d:.7,v:.2},{w:"triangle",v:4,t:3,f:2,d:.3,g:1,k:-1,a:.01,s:.5}],[{w:"sine",v:.35,d:.7},{w:"sine",v:3,t:7,f:1,d:1,s:1,g:1,k:-.7}],[{w:"sine",v:.35,d:.7},{w:"sine",v:8,t:7,f:1,d:.5,s:1,g:1,k:-.7}],[{w:"sawtooth",v:.34,d:2},{w:"sine",v:8,f:.1,d:2,s:1,r:2,g:1}],[{w:"triangle",v:.34,d:1.5},{w:"square",v:6,f:.1,d:1.5,s:.5,r:2,g:1}],[{w:"sine",d:.3,r:.3},{w:"sine",v:7,t:11,d:.03,g:1}],[{w:"sine",d:.3,r:.3},{w:"sine",v:11,t:6,d:.2,s:.4,g:1}],[{w:"sine",v:.2,d:.3,r:.3},{w:"sine",v:11,t:5,d:.1,s:.4,g:1}],[{w:"sine",v:.2,d:.6,r:.6},{w:"triangle",v:11,t:5,f:1,s:.5,g:1}],[{w:"sine",v:.3,d:.2,r:.2},{w:"sine",v:6,t:5,d:.02,g:1}],[{w:"sine",v:.3,d:.2,r:.2},{w:"sine",v:7,t:11,d:.03,g:1}],[{w:"sine",v:.2,d:1,r:1},{w:"sine",v:11,t:3.5,d:1,r:1,g:1}],[{w:"triangle",v:.2,d:.5,r:.2},{w:"sine",v:6,t:2.5,d:.2,s:.1,r:.2,g:1}],[{w:"w9999",v:.22,s:.9},{w:"w9999",v:.22,t:2,f:2,s:.9}],[{w:"w9999",v:.2,s:1},{w:"sine",v:11,t:6,f:2,s:.1,g:1,h:.006,r:.002,d:.002},{w:"w9999",v:.2,t:2,f:1,h:0,s:1}],[{w:"w9999",v:.2,d:.1,s:.9},{w:"w9999",v:.25,t:4,f:2,s:.5}],[{w:"w9999",v:.3,a:.04,s:.9},{w:"w9999",v:.2,t:8,f:2,a:.04,s:.9}],[{w:"sine",v:.2,a:.02,d:.05,s:1},{w:"sine",v:6,t:3,f:1,a:.02,d:.05,s:1,g:1}],[{w:"triangle",v:.2,a:.02,d:.05,s:.8},{w:"square",v:7,t:3,f:1,d:.05,s:1.5,g:1}],[{w:"square",v:.2,a:.02,d:.2,s:.5},{w:"square",v:1,d:.03,s:2,g:1}],[{w:"square",v:.2,a:.02,d:.1,s:.8},{w:"square",v:1,a:.3,d:.1,s:2,g:1}],[{w:"sine",v:.3,d:.5,f:1},{w:"triangle",v:5,t:3,f:-1,d:1,s:.1,g:1}],[{w:"sine",v:.4,d:.6,f:1},{w:"triangle",v:12,t:3,d:.6,s:.1,g:1,f:-1}],[{w:"triangle",v:.3,d:1,f:1},{w:"triangle",v:6,f:-1,d:.4,s:.5,g:1,t:3}],[{w:"sine",v:.3,d:1,f:-1},{w:"triangle",v:11,f:1,d:.4,s:.5,g:1,t:3}],[{w:"sine",v:.4,d:.1,r:.01},{w:"sine",v:7,g:1}],[{w:"triangle",v:.4,d:1,f:1},{w:"square",v:4,f:-1,d:1,s:.7,g:1}],[{w:"triangle",v:.35,d:1,f:1},{w:"square",v:7,f:-1,d:.3,s:.5,g:1}],[{w:"sine",v:.2,t:1.5,a:.005,h:.2,d:.6},{w:"sine",v:11,t:5,f:2,d:1,s:.5,g:1}],[{w:"sine",d:.3},{w:"sine",v:4,t:3,d:1,s:1,g:1}],[{w:"sine",d:.3},{w:"sine",v:4,t:3,d:1,s:1,g:1}],[{w:"w9999",d:.3,v:.7,s:.5},{w:"sawtooth",v:1.2,d:.02,s:.5,g:1,h:0,r:.02}],[{w:"sine",d:.3},{w:"sine",v:4,t:3,d:1,s:1,g:1}],[{w:"triangle",v:.3,t:2,d:1},{w:"triangle",v:15,t:2.5,d:.04,s:.1,g:1}],[{w:"triangle",v:.3,t:2,d:1},{w:"triangle",v:15,t:2.5,d:.04,s:.1,g:1}],[{w:"triangle",d:.7},{w:"square",v:.4,t:.5,f:1,d:.2,s:10,g:1}],[{w:"triangle",d:.7},{w:"square",v:.4,t:.5,f:1,d:.2,s:10,g:1}],[{w:"sawtooth",v:.4,a:.1,d:11},{w:"sine",v:5,d:11,s:.2,g:1}],[{w:"sawtooth",v:.4,a:.1,d:11},{w:"sine",v:5,d:11,s:.2,g:1}],[{w:"sawtooth",v:.4,a:.1,d:11},{w:"sine",v:5,t:.5,d:11,s:.2,g:1}],[{w:"sawtooth",v:.4,a:.1,d:11},{w:"sine",v:5,t:.5,d:11,s:.2,g:1}],[{w:"sine",v:.4,a:.1,d:11},{w:"sine",v:6,f:2.5,d:.05,s:1.1,g:1}],[{w:"sine",v:.3,d:.1,r:.1},{w:"square",v:4,t:3,d:1,s:.2,g:1}],[{w:"sine",v:.3,d:.5,r:.5},{w:"sine",v:7,t:2,f:2,d:1,r:1,g:1}],[{w:"triangle",v:.6,h:.03,d:.3,r:.3,t:.5},{w:"n0",v:8,t:1.5,d:.08,r:.08,g:1}],[{w:"sawtooth",v:.3,a:.03,s:.5},{w:"sawtooth",v:.2,t:2,f:2,d:1,s:2}],[{w:"sawtooth",v:.3,f:-2,a:.03,s:.5},{w:"sawtooth",v:.2,t:2,f:2,d:1,s:2}],[{w:"sawtooth",v:.2,a:.02,s:1},{w:"sawtooth",v:.2,t:2,f:2,a:1,d:1,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1},{w:"sawtooth",v:.2,f:2,a:.02,d:1,s:1}],[{w:"triangle",v:.3,a:.03,s:1},{w:"sine",v:3,t:5,f:1,d:1,s:1,g:1}],[{w:"sine",v:.4,a:.03,s:.9},{w:"sine",v:1,t:2,f:3,d:.03,s:.2,g:1}],[{w:"triangle",v:.6,a:.05,s:.5},{w:"sine",v:1,f:.8,d:.2,s:.2,g:1}],[{w:"square",v:.15,a:.01,d:.2,r:.2,t:.5,h:.03},{w:"square",v:4,f:.5,d:.2,r:11,a:.01,g:1,h:.02},{w:"square",v:.15,t:4,f:1,a:.02,d:.15,r:.15,h:.03},{g:3,w:"square",v:4,f:-.5,a:.01,h:.02,d:.15,r:11}],[{w:"square",v:.2,a:.01,d:1,s:.6,r:.04},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.5,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.04,d:1,s:.4,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.15,a:.04,s:1},{w:"sine",v:2,d:.1,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.5,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.6,r:.08},{w:"sine",v:1,f:.2,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:.5,s:.7,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.5,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:2,s:.6},{w:"sine",v:2,d:1,g:1}],[{w:"square",v:.2,a:.02,d:2,s:.6},{w:"sine",v:2,d:1,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.6},{w:"sine",v:2,d:1,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.6},{w:"sine",v:2,d:1,g:1}],[{w:"sine",v:.4,a:.02,d:.7,s:.5},{w:"square",v:5,t:2,d:.2,s:.5,g:1}],[{w:"sine",v:.3,a:.05,d:.2,s:.8},{w:"sawtooth",v:6,f:.1,d:.1,s:.3,g:1}],[{w:"sine",v:.3,a:.03,d:.2,s:.4},{w:"square",v:7,f:.2,d:1,s:.1,g:1}],[{w:"square",v:.2,a:.05,d:.1,s:.8},{w:"square",v:4,d:.1,s:1.1,g:1}],[{w:"sine",a:.02,d:2},{w:"sine",v:6,t:2,d:.04,g:1}],[{w:"sine",v:.7,a:.03,d:.4,s:.4},{w:"sine",v:4,t:2,f:.2,d:.4,g:1}],[{w:"sine",v:.7,a:.02,d:.4,s:.6},{w:"sine",v:3,t:2,d:0,s:1,g:1}],[{w:"sine",v:.4,a:.06,d:.3,s:.3},{w:"sine",v:7,t:2,d:.2,s:.2,g:1}],[{w:"sine",a:.02,d:.3,s:.3},{w:"sawtooth",v:3,t:2,d:.3,g:1}],[{w:"sine",v:.4,a:.02,d:2,s:.1},{w:"sawtooth",v:8,t:2,f:1,d:.5,g:1}],[{w:"sine",v:.7,a:.03,d:.5,s:.3},{w:"sine",v:.003,t:0,f:4,d:.1,s:.002,g:1}],[{w:"sine",v:.7,a:.02,d:2},{w:"sine",v:1,t:2,f:1,d:.02,g:1}],[{w:"square",v:.3,d:1,s:.5},{w:"square",v:1,f:.2,d:1,s:.5,g:1}],[{w:"sawtooth",v:.3,d:2,s:.5},{w:"square",v:2,f:.1,s:.5,g:1}],[{w:"triangle",v:.5,a:.05,d:2,s:.6},{w:"sine",v:4,t:2,g:1}],[{w:"triangle",v:.3,a:.01,d:2,s:.3},{w:"sine",v:22,t:2,f:1,d:.03,s:.2,g:1}],[{w:"sawtooth",v:.3,d:1,s:.5},{w:"sine",v:11,t:11,a:.2,d:.05,s:.3,g:1}],[{w:"sine",v:.3,a:.06,d:1,s:.5},{w:"sine",v:7,f:1,d:1,s:.2,g:1}],[{w:"sawtooth",v:.3,a:.03,d:.7,s:.3,r:.2},{w:"sawtooth",v:.3,t:.75,d:.7,a:.1,s:.3,r:.2}],[{w:"triangle",v:.3,a:.01,d:.7,s:.5},{w:"square",v:5,t:.5,d:.7,s:.5,g:1}],[{w:"triangle",v:.3,a:.02,d:.3,s:.3,r:.3},{w:"square",v:3,t:4,f:1,a:.02,d:.1,s:1,g:1},{w:"triangle",v:.08,t:.5,a:.1,h:0,d:.1,s:.5,r:.1,b:0,c:0}],[{w:"sine",v:.3,a:.05,d:1,s:.7,r:.3},{w:"sine",v:2,f:1,d:.3,s:1,g:1}],[{w:"square",v:.3,a:.03,d:.5,s:.3,r:.1},{w:"square",v:4,f:1,a:.03,d:.1,g:1}],[{w:"triangle",v:.3,a:.08,d:1,s:.3,r:.1},{w:"square",v:2,f:1,d:.3,s:.3,g:1,t:4,a:.08}],[{w:"sine",v:.3,a:.05,d:1,s:.3,r:.1},{w:"sine",v:.1,t:2.001,f:1,d:1,s:50,g:1}],[{w:"triangle",v:.3,a:.03,d:.7,s:.3,r:.2},{w:"sine",v:12,t:7,f:1,d:.5,s:1.7,g:1}],[{w:"sine",v:.3,a:.05,d:1,s:.3,r:.1},{w:"sawtooth",v:22,t:6,d:.06,s:.3,g:1}],[{w:"triangle",v:.3,a:.05,d:11,r:.3},{w:"triangle",v:1,d:1,s:8,g:1}],[{w:"sawtooth",v:.3,d:4,s:.8,r:.1},{w:"square",v:1,t:2,f:8,a:1,d:1,s:1,r:.1,g:1}],[{w:"triangle",v:.3,d:1,s:.5,t:.8,a:.2,p:1.25,q:.2},{w:"sawtooth",v:.2,a:.2,d:.3,s:1,t:1.2,p:1.25,q:.2}],[{w:"sine",v:.3,d:1,s:.3},{w:"square",v:22,t:11,d:.5,s:.1,g:1}],[{w:"sawtooth",v:.3,a:.04,d:1,s:.8,r:.1},{w:"square",v:1,t:.5,d:1,s:2,g:1}],[{w:"triangle",v:.3,d:1,s:.3},{w:"sine",v:22,t:6,d:.6,s:.05,g:1}],[{w:"sine",v:.6,a:.1,d:.05,s:.4},{w:"sine",v:5,t:5,f:1,d:.05,s:.3,g:1}],[{w:"sine",a:.1,d:.05,s:.4,v:.8},{w:"sine",v:5,t:5,f:1,d:.05,s:.3,g:1}],[{w:"square",v:.3,a:.1,d:.1,s:.4},{w:"square",v:1,f:1,d:.3,s:.1,g:1}],[{w:"sawtooth",v:.3,d:.5,r:.5},{w:"sawtooth",v:11,t:5,d:.05,g:1}],[{w:"square",v:.3,d:.2,r:.2},{w:"square",v:7,t:3,d:.05,g:1}],[{w:"triangle",d:.2,r:.2},{w:"square",v:9,t:3,d:.1,r:.1,g:1}],[{w:"triangle",d:.3,r:.3},{w:"square",v:6,t:3,d:1,r:1,g:1}],[{w:"triangle",v:.4,d:.2,r:.2},{w:"square",v:22,t:12,d:.1,r:.1,g:1}],[{w:"sine",v:.25,a:.02,d:.05,s:.8},{w:"square",v:1,t:2,d:.03,s:11,g:1}],[{w:"sine",v:.3,a:.05,d:11},{w:"square",v:7,t:3,f:1,s:.7,g:1}],[{w:"square",v:.3,a:.05,d:.1,s:.8},{w:"square",v:4,d:.1,s:1.1,g:1}],[{w:"sine",v:.4,d:.3,r:.3},{w:"sine",v:7,t:9,d:.1,r:.1,g:1}],[{w:"sine",v:.7,d:.1,r:.1},{w:"sine",v:22,t:7,d:.05,g:1}],[{w:"sine",v:.6,d:.15,r:.15},{w:"square",v:11,t:3.2,d:.1,r:.1,g:1}],[{w:"sine",v:.8,d:.07,r:.07},{w:"square",v:11,t:7,r:.01,g:1}],[{w:"triangle",v:.7,t:.5,d:.2,r:.2,p:.95},{w:"n0",v:9,g:1,d:.2,r:.2}],[{w:"sine",v:.7,d:.1,r:.1,p:.9},{w:"square",v:14,t:2,d:.005,r:.005,g:1}],[{w:"square",d:.15,r:.15,p:.5},{w:"square",v:4,t:5,d:.001,r:.001,g:1}],[{w:"n1",v:.3,a:1,s:1,d:.15,r:0,t:.5}],[{w:"sine",t:12.5,d:0,r:0,p:.5,v:.3,h:.2,q:.5},{g:1,w:"sine",v:1,t:2,d:0,r:0,s:1},{g:1,w:"n0",v:.2,t:2,a:.6,h:0,d:.1,r:.1,b:0,c:0}],[{w:"n0",v:.2,a:.05,h:.02,d:.02,r:.02}],[{w:"n0",v:.4,a:1,d:1,t:.25}],[{w:"sine",v:.3,a:.1,d:1,s:.5},{w:"sine",v:4,t:0,f:1.5,d:1,s:1,r:.1,g:1},{g:1,w:"sine",v:4,t:0,f:2,a:.6,h:0,d:.1,s:1,r:.1,b:0,c:0}],[{w:"square",v:.3,t:.25,d:11,s:1},{w:"square",v:12,t:0,f:8,d:1,s:1,r:11,g:1}],[{w:"n0",v:.4,t:.5,a:1,d:11,s:1,r:.5},{w:"square",v:1,t:0,f:14,d:1,s:1,r:11,g:1}],[{w:"sine",t:0,f:1221,a:.2,d:1,r:.25,s:1},{g:1,w:"n0",v:3,t:.5,d:1,s:1,r:1}],[{w:"sine",d:.4,r:.4,p:.1,t:2.5,v:1},{w:"n0",v:12,t:2,d:1,r:1,g:1}]],program0:[[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"sawtooth",v:.3,d:.7}],[{w:"sawtooth",v:.3,d:.7}],[{w:"sine",v:.5,d:.3,r:.3}],[{w:"triangle",v:.5,d:.3,r:.3}],[{w:"square",v:.2,d:.3,r:.3}],[{w:"square",v:.2,d:.3,r:.3}],[{w:"sine",v:.5,d:.1,r:.1}],[{w:"sine",v:.5,d:.1,r:.1}],[{w:"square",v:.2,d:1,r:1}],[{w:"sawtooth",v:.3,d:.7,r:.7}],[{w:"sine",v:.5,a:.01,s:1}],[{w:"sine",v:.7,d:.02,s:.7}],[{w:"square",v:.2,s:1}],[{w:"triangle",v:.5,a:.01,s:1}],[{w:"square",v:.2,a:.02,s:1}],[{w:"square",v:.2,a:.02,s:1}],[{w:"square",v:.2,a:.02,s:1}],[{w:"square",v:.2,a:.05,s:1}],[{w:"triangle",v:.5,d:.5}],[{w:"square",v:.2,d:.6}],[{w:"square",v:.2,d:.6}],[{w:"triangle",v:.8,d:.6}],[{w:"triangle",v:.4,d:.05}],[{w:"square",v:.2,d:1}],[{w:"square",v:.2,d:1}],[{w:"sine",v:.4,d:.6}],[{w:"triangle",v:.7,d:.4}],[{w:"triangle",v:.7,d:.7}],[{w:"triangle",v:.7,d:.7}],[{w:"triangle",v:.7,d:.7}],[{w:"square",v:.3,d:.2}],[{w:"square",v:.3,d:.2}],[{w:"square",v:.3,d:.1,s:.2}],[{w:"sawtooth",v:.4,d:.1,s:.2}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.3,d:.1}],[{w:"sawtooth",v:.3,d:.5,r:.5}],[{w:"triangle",v:.6,d:.1,r:.1,h:.03,p:.8}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"triangle",v:.3,a:.03,s:1}],[{w:"sine",v:.3,a:.03,s:1}],[{w:"triangle",v:.3,a:.05,s:1}],[{w:"sawtooth",v:.5,a:.01,d:.1}],[{w:"square",v:.3,a:.05,d:.2,s:.6}],[{w:"square",v:.3,a:.05,d:.2,s:.6}],[{w:"square",v:.3,a:.05,d:.2,s:.6}],[{w:"square",v:.2,a:.05,d:.01,s:1}],[{w:"square",v:.3,a:.05,s:1}],[{w:"square",v:.3,s:.7}],[{w:"square",v:.3,s:.7}],[{w:"square",v:.3,s:.7}],[{w:"square",v:.3,a:.02,d:2}],[{w:"square",v:.3,a:.02,d:2}],[{w:"square",v:.3,a:.03,d:2}],[{w:"square",v:.3,a:.04,d:2}],[{w:"square",v:.3,a:.02,d:2}],[{w:"square",v:.3,a:.05,d:2}],[{w:"square",v:.3,a:.03,d:2}],[{w:"square",v:.3,a:.03,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"square",v:.3,s:.7}],[{w:"sawtooth",v:.4,s:.7}],[{w:"triangle",v:.5,s:.7}],[{w:"sawtooth",v:.4,s:.7}],[{w:"sawtooth",v:.4,d:12}],[{w:"sine",v:.4,a:.06,d:12}],[{w:"sawtooth",v:.4,d:12}],[{w:"sawtooth",v:.4,d:12}],[{w:"sawtooth",v:.3,d:12}],[{w:"triangle",v:.5,d:12}],[{w:"square",v:.3,d:12}],[{w:"triangle",v:.5,a:.08,d:11}],[{w:"sawtooth",v:.5,a:.05,d:11}],[{w:"sawtooth",v:.5,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"square",v:.3,d:11}],[{w:"sawtooth",v:.5,a:.04,d:11}],[{w:"sawtooth",v:.5,d:11}],[{w:"triangle",v:.5,a:.8,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"square",v:.3,d:11}],[{w:"sawtooth",v:.3,d:1,r:1}],[{w:"sawtooth",v:.5,d:.3}],[{w:"sawtooth",v:.5,d:.3,r:.3}],[{w:"sawtooth",v:.5,d:.3,r:.3}],[{w:"square",v:.3,d:.2,r:.2}],[{w:"square",v:.3,a:.02,d:2}],[{w:"sawtooth",v:.2,a:.02,d:.7}],[{w:"triangle",v:.5,d:1}],[{w:"sawtooth",v:.3,d:.3,r:.3}],[{w:"sine",v:.8,d:.1,r:.1}],[{w:"square",v:.2,d:.1,r:.1,p:1.05}],[{w:"sine",v:.8,d:.05,r:.05}],[{w:"triangle",v:.5,d:.1,r:.1,p:.96}],[{w:"triangle",v:.5,d:.1,r:.1,p:.97}],[{w:"square",v:.3,d:.1,r:.1}],[{w:"n1",v:.3,a:1,s:1,d:.15,r:0,t:.5}],[{w:"triangle",v:.5,d:.03,t:0,f:1332,r:.001,p:1.1}],[{w:"n0",v:.2,t:.1,d:.02,a:.05,h:.02,r:.02}],[{w:"n0",v:.4,a:1,d:1,t:.25}],[{w:"sine",v:.3,a:.8,d:1,t:0,f:1832}],[{w:"triangle",d:.5,t:0,f:444,s:1}],[{w:"n0",v:.4,d:1,t:0,f:22,s:1}],[{w:"n0",v:.5,a:.2,d:11,t:0,f:44}],[{w:"n0",v:.5,t:.25,d:.4,r:.4}]],drummap1:[[{w:"triangle",t:0,f:70,v:1,d:.05,h:.03,p:.9,q:.1},{w:"n0",g:1,t:6,v:17,r:.01,h:0,p:0}],[{w:"triangle",t:0,f:88,v:1,d:.05,h:.03,p:.5,q:.1},{w:"n0",g:1,t:5,v:42,r:.01,h:0,p:0}],[{w:"n0",f:222,p:0,t:0,r:.01,h:0}],[{w:"triangle",v:.3,f:180,d:.05,t:0,h:.03,p:.9,q:.1},{w:"n0",v:.6,t:0,f:70,h:.02,r:.01,p:0},{g:1,w:"square",v:2,t:0,f:360,r:.01,b:0,c:0}],[{w:"square",f:1150,v:.34,t:0,r:.03,h:.025,d:.03},{g:1,w:"n0",t:0,f:13,h:.025,d:.1,s:1,r:.1,v:1}],[{w:"triangle",f:200,v:1,d:.06,t:0,r:.06},{w:"n0",g:1,t:0,f:400,v:12,r:.02,d:.02}],[{w:"triangle",f:100,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.4,h:.015,d:.005,r:.005}],[{w:"n1",f:390,v:.25,r:.01,t:0}],[{w:"triangle",f:120,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.5,h:.015,d:.005,r:.005}],[{w:"n1",v:.25,f:390,r:.03,t:0,h:.005,d:.03}],[{w:"triangle",f:140,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.3,h:.015,d:.005,r:.005}],[{w:"n1",v:.25,f:390,t:0,d:.2,r:.2},{w:"n0",v:.3,t:0,c:0,f:440,h:.005,d:.05}],[{w:"triangle",f:155,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.3,h:.015,d:.005,r:.005}],[{w:"triangle",f:180,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.3,h:.015,d:.005,r:.005}],[{w:"n1",v:.3,f:1200,d:.2,r:.2,h:.05,t:0},{w:"n1",t:0,v:1,d:.1,r:.1,p:1.2,f:440}],[{w:"triangle",f:220,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.3,h:.015,d:.005,r:.005}],[{w:"n1",f:500,v:.15,d:.4,r:.4,h:0,t:0},{w:"n0",v:.1,t:0,r:.01,f:440}],[{w:"n1",v:.3,f:800,d:.2,r:.2,h:.05,t:0},{w:"square",t:0,v:1,d:.1,r:.1,p:.1,f:220,g:1}],[{w:"sine",f:1651,v:.15,d:.2,r:.2,h:0,t:0},{w:"sawtooth",g:1,t:1.21,v:7.2,d:.1,r:11,h:1},{g:1,w:"n0",v:3.1,t:.152,d:.002,r:.002}],null,[{w:"n1",v:.3,f:1200,d:.2,r:.2,h:.05,t:0},{w:"n1",t:0,v:1,d:.1,r:.1,p:1.2,f:440}],null,[{w:"n1",v:.3,f:555,d:.25,r:.25,h:.05,t:0},{w:"n1",t:0,v:1,d:.1,r:.1,f:440,a:.005,h:.02}],[{w:"sawtooth",f:776,v:.2,d:.3,t:0,r:.3},{g:1,w:"n0",v:2,t:0,f:776,a:.005,h:.02,d:.1,s:1,r:.1,c:0},{g:11,w:"sine",v:.1,t:0,f:22,d:.3,r:.3,b:0,c:0}],[{w:"n1",f:440,v:.15,d:.4,r:.4,h:0,t:0},{w:"n0",v:.4,t:0,r:.01,f:440}],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[{w:"sine",f:1720,v:.3,d:.02,t:0,r:.02},{w:"square",g:1,t:0,f:2876,v:6,d:.2,s:1,r:.2}],[{w:"sine",f:1720,v:.3,d:.25,t:0,r:.25},{w:"square",g:1,t:0,f:2876,v:6,d:.2,s:1,r:.2}]],drummap0:[[{w:"triangle",t:0,f:110,v:1,d:.05,h:.02,p:.1}],[{w:"triangle",t:0,f:150,v:.8,d:.1,p:.1,h:.02,r:.01}],[{w:"n0",f:392,v:.5,d:.01,p:0,t:0,r:.05}],[{w:"n0",f:33,d:.05,t:0}],[{w:"n0",f:100,v:.7,d:.03,t:0,r:.03,h:.02}],[{w:"n0",f:44,v:.7,d:.02,p:.1,t:0,h:.02}],[{w:"triangle",f:240,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:440,v:.2,r:.01,t:0}],[{w:"triangle",f:270,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:440,v:.2,d:.04,r:.04,t:0}],[{w:"triangle",f:300,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:440,v:.2,d:.1,r:.1,h:.02,t:0}],[{w:"triangle",f:320,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"triangle",f:360,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:150,v:.2,d:.1,r:.1,h:.05,t:0,p:.1}],[{w:"triangle",f:400,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:150,v:.2,d:.1,r:.01,h:.05,t:0,p:.1}],[{w:"n0",f:150,v:.2,d:.1,r:.01,h:.05,t:0,p:.1}],[{w:"n0",f:440,v:.3,d:.1,p:.9,t:0,r:.1}],[{w:"n0",f:200,v:.2,d:.05,p:.9,t:0}],[{w:"n0",f:440,v:.3,d:.12,p:.9,t:0}],[{w:"sine",f:800,v:.4,d:.06,t:0}],[{w:"n0",f:150,v:.2,d:.1,r:.01,h:.05,t:0,p:.1}],[{w:"n0",f:33,v:.3,d:.2,p:.9,t:0}],[{w:"n0",f:300,v:.3,d:.14,p:.9,t:0}],[{w:"sine",f:200,d:.06,t:0}],[{w:"sine",f:150,d:.06,t:0}],[{w:"sine",f:300,t:0}],[{w:"sine",f:300,d:.06,t:0}],[{w:"sine",f:250,d:.06,t:0}],[{w:"square",f:300,v:.3,d:.06,p:.8,t:0}],[{w:"square",f:260,v:.3,d:.06,p:.8,t:0}],[{w:"sine",f:850,v:.5,d:.07,t:0}],[{w:"sine",f:790,v:.5,d:.07,t:0}],[{w:"n0",f:440,v:.3,a:.05,t:0}],[{w:"n0",f:440,v:.3,a:.05,t:0}],[{w:"triangle",f:1800,v:.4,p:.9,t:0,h:.03}],[{w:"triangle",f:1800,v:.3,p:.9,t:0,h:.13}],[{w:"n0",f:330,v:.3,a:.02,t:0,r:.01}],[{w:"n0",f:330,v:.3,a:.02,t:0,h:.04,r:.01}],[{w:"n0",f:440,v:.3,t:0}],[{w:"sine",f:800,t:0}],[{w:"sine",f:700,t:0}],[{w:"n0",f:330,v:.3,t:0}],[{w:"n0",f:330,v:.3,t:0,h:.1,r:.01,p:.7}],[{w:"sine",t:0,f:1200,v:.3,r:.01}],[{w:"sine",t:0,f:1200,v:.3,d:.2,r:.2}]],_guiInit:()=>{this.canvas&&(this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,300,32),this.canvas.addEventListener("dragover",this.dragOver.bind(this),!1),this.canvas.addEventListener("dragleave",this.dragLeave.bind(this),!1),this.canvas.addEventListener("drop",this.execDrop.bind(this),!1),this.canvas.addEventListener("click",this.click.bind(this),!1),this.canvas.addEventListener("mousedown",this.pointerdown.bind(this),!1),this.canvas.addEventListener("mousemove",this.pointermove.bind(this),!1),this.canvas.addEventListener("touchstart",this.pointerdown.bind(this),!1),this.canvas.addEventListener("touchend",this.pointerup.bind(this),!1),this.canvas.addEventListener("touchcancel",this.pointerup.bind(this),!1),this.canvas.addEventListener("touchmove",this.pointermove.bind(this),!1))},_guiUpdate:()=>{if(this.canvas){this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,300,32);var e=8,t=20;if(this.song?(e=4,t=24):(this.ctx.fillStyle="#fff",this.ctx.fillText("TinySynth",8,20)),this.graph){this.ctx.fillStyle="#800",this.ctx.fillRect(80,e,132,4),this.ctx.fillRect(80,t,132,4),this.ctx.fillStyle="#f00";for(let i=this.notetab.length-1;i>=0;--i){const n=this.notetab[i];n.f&&!this.rhythm[n.ch]||(this.ctx.fillRect(80+n.n,e,4,4),this.ctx.fillRect(80+8*n.ch,t,6,4))}}this.perfmon&&(this.ctx.fillStyle="#fff",this.ctx.fillRect(180,30,28,-12),this.ctx.fillStyle="#000",this.ctx.fillText(this.notetab.length,185,28)),this.ctx.fillStyle="#fff",this.ctx.fillRect(250,15,32,2),this.ctx.fillStyle="#fff",this.ctx.strokeStyle="#000",this.ctx.beginPath(),this.ctx.arc(250+32*this.masterVol,16,6,0,6.28,0),this.ctx.moveTo(220,12),this.ctx.lineTo(224,12),this.ctx.lineTo(230,6),this.ctx.lineTo(230,26),this.ctx.lineTo(224,20),this.ctx.lineTo(220,20),this.ctx.fill(),this.ctx.stroke(),this.ctx.strokeStyle="#fff",this.ctx.lineWidth=2,this.ctx.beginPath(),this.ctx.arc(230,16,4,-1,1,!1),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(230,16,8,-1,1,!1),this.ctx.stroke(),0==this.masterVol&&(this.ctx.strokeStyle="#000",this.ctx.lineWidth=4,this.ctx.beginPath(),this.ctx.moveTo(220,7),this.ctx.lineTo(238,25),this.ctx.stroke(),this.ctx.strokeStyle="#fff",this.ctx.lineWidth=2,this.ctx.stroke()),this.song&&(this.ctx.fillStyle="#fff",this.ctx.fillRect(4,2,28,28),this.ctx.fillRect(80,15,128,2),this.ctx.fillStyle="#000",this.playing?(this.ctx.fillRect(12,10,4,12),this.ctx.fillRect(22,10,4,12)):(this.ctx.beginPath(),this.ctx.moveTo(12,9),this.ctx.lineTo(25,16),this.ctx.lineTo(12,23),this.ctx.fill()),this.ctx.fillStyle="#fff",this.ctx.fillText(this.toTime(this.playTick),38,14),this.ctx.fillText(this.toTime(this.maxTick),38,28),this.ctx.strokeStyle="#000",this.ctx.beginPath(),this.ctx.arc(80+this.playTick/this.maxTick*128,16,6,0,6.28,0),this.ctx.fill(),this.ctx.stroke()),this.waitdrop&&(this.ctx.fillStyle="rgba(0,0,0,0.7)",this.ctx.fillRect(0,0,300,32),this.ctx.fillStyle="#fff",this.ctx.fillText("Drop MIDI File Here",100,20))}},toTime:e=>{const t=(e=4*e*60/this.song.timebase/this.song.tempo|0)%60;return("00"+(e/60|0)).substr(-2)+":"+("00"+t).substr(-2)},preventScroll:e=>{e.preventDefault()},pointerup:e=>{document.body.removeEventListener("touchstart",this.preventScroll,!1)},getPos:e=>{var t=e.target.getBoundingClientRect();return t.right!=t.left?{x:300*(e.clientX-t.left)/(t.right-t.left),y:e.clientY-t.top}:{x:0,y:0}},pointerdown:e=>{let t=e;if(e.touches&&(t=e.touches[0]),this.downpos=this.getPos(t),e.touches||1&t.buttons){if(this.song&&this.downpos.x>=80&&this.downpos.x<=208){const e=(this.downpos.x-80)/128*this.maxTick;this.locateMIDI(e),document.body.addEventListener("touchstart",this.preventScroll,!1)}if(this.downpos.x>=250&&this.downpos.x<282){const e=(this.downpos.x-250)/32;this.setMasterVol(e),document.body.addEventListener("touchstart",this.preventScroll,!1)}}},pointermove:e=>{let t=e;if(e.touches&&(t=e.touches[0]),e.touches||1&t.buttons){const e=this.getPos(t);if(this.song&&e.x>=70&&e.x<=208){e.x<80&&(e.x=80);const t=(e.x-80)/128*this.maxTick;this.locateMIDI(t)}if(e.x>=250&&e.x<282){const t=(e.x-250)/32;this.setMasterVol(t)}}},click:e=>{const t=this.getPos(e);t.x<40&&this.song&&(this.playing?this.stopMIDI():this.song&&this.playMIDI()),t.x>=215&&t.x<243&&this.downpos.x>=215&&this.downpos.x<243&&(this.masterVol>0?(this.lastMasterVol=this.masterVol,this.masterVol=0):this.masterVol=this.lastMasterVol)},dragLeave:e=>{this.waitdrop=0},dragOver:e=>{this.waitdrop=1,e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},execDrop:e=>{this.waitdrop=0;const t=e.dataTransfer.files;if(0==this.disabledrop){var i=new FileReader;i.onload=function(e){this.loadMIDI(i.result)}.bind(this),i.readAsArrayBuffer(t[0])}e.stopPropagation(),e.preventDefault()},ready:()=>new Promise((e=>{const t=setInterval((()=>{this.isReady&&(clearInterval(t),console.log("Initialized"),e())}),100)})),init:()=>{this.pg=[],this.vol=[],this.ex=[],this.bend=[],this.rpnidx=[],this.brange=[],this.sustain=[],this.notetab=[],this.rhythm=[],this.masterTuningC=0,this.masterTuningF=0,this.tuningC=[],this.tuningF=[],this.maxTick=0,this.playTick=0,this.playing=0,this.releaseRatio=3.5;for(let e=0;e<16;++e)this.pg[e]=0,this.vol[e]=3e4/16129,this.bend[e]=0,this.brange[e]=256,this.tuningC[e]=0,this.tuningF[e]=0,this.rhythm[e]=0;this.rhythm[9]=1,this.preroll=.2,this.relcnt=0,setInterval(function(){if(++this.relcnt>=3){this.relcnt=0;for(let t=this.notetab.length-1;t>=0;--t){var e=this.notetab[t];this.actx.currentTime>e.e&&(this._pruneNote(e),this.notetab.splice(t,1))}}if(this.playing&&this.song.ev.length>0){let e=this.song.ev[this.playIndex];for(;this.actx.currentTime+this.preroll>this.playTime;)if(65361==e.m[0]?(this.song.tempo=e.m[1],this.tick2Time=240/this.song.tempo/this.song.timebase):this.send(e.m,this.playTime),++this.playIndex,this.playIndex>=this.song.ev.length){if(!this.loop){this.playTick=this.maxTick,this.playing=0;break}e=this.song.ev[this.playIndex=0],this.playTick=e.t}else e=this.song.ev[this.playIndex],this.playTime+=(e.t-this.playTick)*this.tick2Time,this.playTick=e.t}}.bind(this),60),console.log("internalcontext:"+this.internalcontext),this.internalcontext&&(t.AudioContext=t.AudioContext||t.webkitAudioContext,this.setAudioContext(new AudioContext)),this.isReady=1},setMasterVol:e=>{null!=e&&(this.masterVol=e),this.out&&(this.out.gain.value=this.masterVol)},setReverbLev:e=>{null!=e&&(this.reverbLev=e);var t=parseFloat(this.reverbLev);this.rev&&!isNaN(t)&&(this.rev.gain.value=8*t)},setLoop:e=>{this.loop=e},setVoices:e=>{this.voices=e},getPlayStatus:()=>({play:this.playing,maxTick:this.maxTick,curTick:this.playTick}),locateMIDI:e=>{let t,i=this.playing;for(this.stopMIDI(),t=0;t<this.song.ev.length&&e>this.song.ev[t].t;++t){var n=this.song.ev[t],s=15&n.m[0];switch(240&n.m[0]){case 176:switch(n.m[1]){case 1:this.setModulation(s,n.m[2]);break;case 7:this.setChVol(s,n.m[2]);break;case 10:this.setPan(s,n.m[2]);break;case 11:this.setExpression(s,n.m[2]);break;case 64:this.setSustain(s,n.m[2])}break;case 192:this.pg[15&n.m[0]]=n.m[1]}65361==n.m[0]&&(this.song.tempo=n.m[1])}this.song.ev[t]?(this.playIndex=t,this.playTick=this.song.ev[t].t):(this.playIndex=0,this.playTick=this.maxTick),i&&this.playMIDI()},getTimbreName:(e,t)=>0==e?this.program[t].name:this.drummap[t-35].name,loadMIDIfromSrc:()=>{this.loadMIDIUrl(this.src)},loadMIDIUrl:e=>{if(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.loadMIDI=this.loadMIDI.bind(this),t.onload=function(e){200==this.status&&this.loadMIDI(this.response)},t.send()}},reset:()=>{for(let e=0;e<16;++e)this.setProgram(e,0),this.setBendRange(e,256),this.setModulation(e,0),this.setChVol(e,100),this.setPan(e,64),this.resetAllControllers(e),this.allSoundOff(e),this.rhythm[e]=0,this.tuningC[e]=0,this.tuningF[e]=0;this.masterTuningC=0,this.masterTuningF=0,this.rhythm[9]=1},stopMIDI:()=>{this.playing=0;for(var e=0;e<16;++e)this.allSoundOff(e)},playMIDI:()=>{if(!this.song)return;const e=this.actx.createOscillator();e.connect(this.actx.destination),e.frequency.value=0,e.start(0),e.stop(this.actx.currentTime+.001),this.playTick>=this.maxTick&&(this.playTick=0,this.playIndex=0),this.playTime=this.actx.currentTime+.1,this.tick2Time=240/this.song.tempo/this.song.timebase,this.playing=1},loadMIDI:e=>{function t(e,t){return(e[t]<<8)+e[t+1]}function i(e,t){return(e[t]<<24)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3]}function n(e,t,i){return String.fromCharCode.apply(null,e.slice(t,t+i))}function s(e,t){var i,n;for(i=0,a=1;128&(n=e[t]);)i=(i<<7)+(127&n),++a,++t;return(i<<7)+n}function o(e,t,i,o){var r=i[o];switch(a=1,0==(128&r)&&(r=c,a=0),c=r,240&r){case 192:case 208:e.ev.push({t,m:[r,i[o+a]]}),a+=1;break;case 240:switch(r){case 240:case 247:var h=s(i,o+1);l=1+a;var d=Array.from(i.slice(o+l,o+l+h));d.unshift(240),e.ev.push({t,m:d}),a+=h+1;break;case 255:switch(h=s(i,o+2),l=2+a,a=h+a+2,i[o+1]){case 2:e.copyright+=n(i,o+l,a-3);break;case 1:case 3:case 4:case 9:e.text=n(i,o+l,a-l);break;case 47:return 1;case 81:var u=Math.floor(6e7/function(e,t){return(e[t]<<16)+(e[t+1]<<8)+e[t+2]}(i,o+3));e.ev.push({t,m:[65361,u]})}}break;default:e.ev.push({t,m:[r,i[o+a],i[o+a+1]]}),a+=2}return 0}this.stopMIDI();var r=new Uint8Array(e),a=0,l=0,c=144,h=0,d=r.slice(0,4);if("77,84,104,100"==d.toString()){var u=i(r,4),f=(t(r,8),t(r,10));this.maxTick=0;var p=4*t(r,12);h=u+8,this.song={copyright:"",text:"",tempo:120,timebase:p,ev:[]};for(let e=0;e<f;++e){if(d=r.slice(h,h+4),u=i(r,h+4),"77,84,114,107"==d.toString()){var g=0,m=0;for(this.notetab.length=0;;){g+=s(r,h+8+m),m+=a;var b=o(this.song,g,r,h+8+m);if(m+=a,b)break}g>this.maxTick&&(this.maxTick=g)}h+=u+8}this.song.ev.sort((function(e,t){return e.t-t.t})),this.reset(),this.locateMIDI(0)}},setQuality:e=>{null!=e&&(this.quality=e);for(let e=0;e<128;++e)this.setTimbre(0,e,this.program0[e]);for(let e=0;e<this.drummap0.length;++e)this.setTimbre(1,e+35,this.drummap0[e]);if(this.quality){for(let e=0;e<this.program1.length;++e)this.setTimbre(0,e,this.program1[e]);for(let e=0;e<this.drummap.length;++e)this.drummap1[e]&&this.setTimbre(1,e+35,this.drummap1[e])}},setTimbre:(e,t,i)=>{const n={g:0,w:"sine",t:1,f:0,v:.5,a:0,h:.01,d:.01,s:0,r:.05,p:1,q:1,k:0};function s(e){for(t=0;t<e.length;++t)for(let i in n)e[t].hasOwnProperty(i)&&void 0!==e[t][i]||(e[t][i]=n[i]);return e}e&&t>=35&&t<=81&&(this.drummap[t-35].p=s(i)),0==e&&t>=0&&t<=127&&(this.program[t].p=s(i))},_pruneNote:e=>{for(let t=e.o.length-1;t>=0;--t){if(e.o[t].frequency?e.o[t].frequency.cancelScheduledValues(0):e.o[t].playbackRate.cancelScheduledValues(0),e.g[t].gain.cancelScheduledValues(0),e.o[t].stop(),e.o[t].detune)try{this.chmod[e.ch].disconnect(e.o[t].detune)}catch(e){}e.g[t].gain.value=0}},_limitVoices:(e,t)=>{this.notetab.sort((function(e,t){return e.f!=t.f?e.f-t.f:e.e!=t.e?t.e-e.e:t.t-e.t}));for(let e=this.notetab.length-1;e>=0;--e){var i=this.notetab[e];(this.actx.currentTime>i.e||e>=this.voices-1)&&(this._pruneNote(i),this.notetab.splice(e,1))}},_note:(e,t,i,n,s)=>{let o,r,a;const l=[],c=[],h=[],d=[],u=[],f=440*Math.pow(2,(i-69+this.masterTuningC+this.tuningC[t]+(this.masterTuningF+this.tuningF[t])/8192)/12);this._limitVoices(t,i);for(let p=0;p<s.length;++p){a=s[p];const g=e+a.a+a.h;0==a.g?(o=this.chvol[t],r=n*n/16384,d[p]=f*a.t+a.f):a.g>10?(o=c[a.g-11].gain,r=1,d[p]=d[a.g-11]*a.t+a.f):l[a.g-1].frequency?(o=l[a.g-1].frequency,r=d[a.g-1],d[p]=d[a.g-1]*a.t+a.f):(o=l[a.g-1].playbackRate,r=d[a.g-1]/440,d[p]=d[a.g-1]*a.t+a.f),"n"===a.w[0]?(l[p]=this.actx.createBufferSource(),l[p].buffer=this.noiseBuf[a.w],l[p].loop=!0,l[p].playbackRate.value=d[p]/440,1!=a.p&&this._setParamTarget(l[p].playbackRate,d[p]/440*a.p,e,a.q),l[p].detune&&(this.chmod[t].connect(l[p].detune),l[p].detune.value=this.bend[t])):(l[p]=this.actx.createOscillator(),l[p].frequency.value=d[p],1!=a.p&&this._setParamTarget(l[p].frequency,d[p]*a.p,e,a.q),"w"==a.w[0]?l[p].setPeriodicWave(this.wave[a.w]):l[p].type=a.w,l[p].detune&&(this.chmod[t].connect(l[p].detune),l[p].detune.value=this.bend[t])),c[p]=this.actx.createGain(),u[p]=a.r,l[p].connect(c[p]),c[p].connect(o),h[p]=r*a.v,a.k&&(h[p]*=Math.pow(2,(i-60)/12*a.k)),a.a?(c[p].gain.value=0,c[p].gain.setValueAtTime(0,e),c[p].gain.linearRampToValueAtTime(h[p],e+a.a)):c[p].gain.setValueAtTime(h[p],e),this._setParamTarget(c[p].gain,a.s*h[p],g,a.d),l[p].start(e),this.rhythm[t]&&(l[p].onended=()=>{try{l[p].detune&&this.chmod[t].disconnect(l[p].detune)}catch(e){}},l[p].stop(e+s[0].d*this.releaseRatio))}this.rhythm[t]||this.notetab.push({t:e,e:99999,ch:t,n:i,o:l,g:c,t2:e+a.a,v:h,r:u,f:0})},_setParamTarget:(e,t,i,n)=>{0!=n?e.setTargetAtTime(t,i,n):e.setValueAtTime(t,i)},_releaseNote:(e,t)=>{if(9!=e.ch)for(let i=e.g.length-1;i>=0;--i)e.g[i].gain.cancelScheduledValues(t),t==e.t2?e.g[i].gain.setValueAtTime(e.v[i],t):t<e.t2&&e.g[i].gain.setValueAtTime(e.v[i]*(t-e.t)/(e.t2-e.t),t),this._setParamTarget(e.g[i].gain,0,t,e.r[i]);e.e=t+e.r[0]*this.releaseRatio,e.f=1},setModulation:(e,t,i)=>{this.chmod[e].gain.setValueAtTime(100*t/127,this._tsConv(i))},setChVol:(e,t,i)=>{this.vol[e]=3*t*t/16129,this.chvol[e].gain.setValueAtTime(this.vol[e]*this.ex[e],this._tsConv(i))},setPan:(e,t,i)=>{this.chpan[e]&&this.chpan[e].pan.setValueAtTime((t-64)/64,this._tsConv(i))},setExpression:(e,t,i)=>{this.ex[e]=t*t/16129,this.chvol[e].gain.setValueAtTime(this.vol[e]*this.ex[e],this._tsConv(i))},setSustain:(e,t,i)=>{if(this.sustain[e]=t,i=this._tsConv(i),t<64)for(let t=this.notetab.length-1;t>=0;--t){const n=this.notetab[t];i>=n.t&&n.ch==e&&1==n.f&&this._releaseNote(n,i)}},allSoundOff:e=>{for(let t=this.notetab.length-1;t>=0;--t){const i=this.notetab[t];i.ch==e&&(this._pruneNote(i),this.notetab.splice(t,1))}},resetAllControllers:e=>{this.bend[e]=0,this.ex[e]=1,this.rpnidx[e]=16383,this.sustain[e]=0,this.chvol[e]&&(this.chvol[e].gain.value=this.vol[e]*this.ex[e],this.chmod[e].gain.value=0)},setBendRange:(e,t)=>{this.brange[e]=t},setProgram:(e,t)=>{this.debug&&console.log("Pg("+e+")="+t),this.pg[e]=t},_tsConv:e=>(null==e||e<=0?(e=0,this.actx&&(e=this.actx.currentTime)):this.tsmode&&(e=.001*e-this.tsdiff),e),setBend:(e,t,i)=>{i=this._tsConv(i);const n=100*this.brange[e]/127;this.bend[e]=(t-8192)*n/8192;for(let t=this.notetab.length-1;t>=0;--t){const n=this.notetab[t];if(n.ch==e)for(let t=n.o.length-1;t>=0;--t)n.o[t].frequency&&n.o[t].detune&&n.o[t].detune.setValueAtTime(this.bend[e],i)}},noteOff:(e,t,i)=>{if(!this.rhythm[e]){i=this._tsConv(i);for(let n=this.notetab.length-1;n>=0;--n){const s=this.notetab[n];i>=s.t&&s.ch==e&&s.n==t&&0==s.f&&(s.f=1,this.sustain[e]<64&&this._releaseNote(s,i))}}},noteOn:(e,t,i,n)=>{0!=i?(n=this._tsConv(n),this.rhythm[e]?t>=35&&t<=81&&this._note(n,e,t,i,this.drummap[t-35].p):this._note(n,e,t,i,this.program[this.pg[e]].p)):this.noteOff(e,t,n)},setTsMode:e=>{this.tsmode=e},send:(e,t)=>{const i=15&e[0],n=-16&e[0];if(!(n<128||n>=256))switch("suspended"==this.audioContext.state&&this.audioContext.resume(),n){case 176:switch(e[1]){case 1:this.setModulation(i,e[2],t);break;case 7:this.setChVol(i,e[2],t);break;case 10:this.setPan(i,e[2],t);break;case 11:this.setExpression(i,e[2],t);break;case 64:this.setSustain(i,e[2],t);break;case 98:case 99:this.rpnidx[i]=16383;break;case 100:this.rpnidx[i]=16256&this.rpnidx[i]|e[2];break;case 101:this.rpnidx[i]=127&this.rpnidx[i]|e[2]<<7;break;case 6:switch(this.rpnidx[i]){case 0:this.brange[i]=(e[2]<<7)+(127&this.brange[i]);break;case 1:this.tuningF[i]=(e[2]<<7)+(this.tuningF[i]+8192&127)-8192;break;case 2:this.tuningC[i]=e[2]-64}break;case 38:switch(this.rpnidx[i]){case 0:this.brange[i]=16256&this.brange[i]|e[2];break;case 1:this.tuningF[i]=this.tuningF[i]+8192&16256|e[2]-8192}break;case 120:case 123:case 124:case 125:case 126:case 127:this.allSoundOff(i);break;case 121:this.resetAllControllers(i)}break;case 192:this.setProgram(i,e[1]);break;case 224:this.setBend(i,e[1]+(e[2]<<7),t);break;case 144:this.noteOn(i,e[1],e[2],t);break;case 128:this.noteOff(i,e[1],t);break;case 240:if(255==e[0]){this.reset();break}if(254!=e[0]&&this.debug){var s=[];for(let t=0;t<e.length;++t)s.push(e[t].toString(16))}if(240==e[0]&&(127==e[1]&&4==e[3]&&(3==e[4]&&e.length>=8&&(this.masterTuningF=128*e[6]+e[5]-8192),4==e[4]&&e.length>=8&&(this.masterTuningC=e[6]-64)),65==e[1]&&66==e[3]&&18==e[4]&&64==e[5]&&16==(240&e[6])&&21==e[7])){const t=[9,0,1,2,3,4,5,6,7,8,10,11,12,13,14,15][15&e[6]];this.rhythm[t]=e[8]}}},_createWave:e=>{const t=new Float32Array(e.length),i=new Float32Array(e.length);for(let i=1;i<e.length;++i)t[i]=e[i];return this.actx.createPeriodicWave(i,t)},getAudioContext:()=>this.actx,setAudioContext:(e,t)=>{this.audioContext=this.actx=e,this.dest=t,t||(this.dest=e.destination),this.tsdiff=.001*performance.now()-this.actx.currentTime,console.log("TSDiff:"+this.tsdiff),this.out=this.actx.createGain(),this.comp=this.actx.createDynamicsCompressor();var i=.5*this.actx.sampleRate|0;this.convBuf=this.actx.createBuffer(2,i,this.actx.sampleRate),this.noiseBuf={},this.noiseBuf.n0=this.actx.createBuffer(1,i,this.actx.sampleRate),this.noiseBuf.n1=this.actx.createBuffer(1,i,this.actx.sampleRate);var n=this.convBuf.getChannelData(0),s=this.convBuf.getChannelData(1),o=this.noiseBuf.n0.getChannelData(0),r=this.noiseBuf.n1.getChannelData(0);for(let e=0;e<i;++e)e/i<Math.random()&&(n[e]=Math.exp(-3*e/i)*(Math.random()-.5)*.5,s[e]=Math.exp(-3*e/i)*(Math.random()-.5)*.5),o[e]=2*Math.random()-1;for(let e=0;e<64;++e){const e=10*Math.random()+1,t=10*Math.random()+1;for(let n=0;n<i;++n){var a=Math.sin(n/i*2*Math.PI*440*e)*Math.sin(n/i*2*Math.PI*440*t);r[n]+=a/8}}this.useReverb&&(this.conv=this.actx.createConvolver(),this.conv.buffer=this.convBuf,this.rev=this.actx.createGain(),this.rev.gain.value=this.reverbLev,this.out.connect(this.conv),this.conv.connect(this.rev),this.rev.connect(this.comp)),this.setMasterVol(),this.out.connect(this.comp),this.comp.connect(this.dest),this.chvol=[],this.chmod=[],this.chpan=[],this.wave={w9999:this._createWave("w9999")},this.lfo=this.actx.createOscillator(),this.lfo.frequency.value=5,this.lfo.start(0);for(let e=0;e<16;++e)this.chvol[e]=this.actx.createGain(),this.actx.createStereoPanner?(this.chpan[e]=this.actx.createStereoPanner(),this.chvol[e].connect(this.chpan[e]),this.chpan[e].connect(this.out)):(this.chpan[e]=null,this.chvol[e].connect(this.out)),this.chmod[e]=this.actx.createGain(),this.lfo.connect(this.chmod[e]),this.pg[e]=0,this.resetAllControllers(e);this.setReverbLev(),this.reset(),this.send([144,60,1]),this.send([144,60,0])}})}if(t&&t.customElements){class e extends HTMLElement{constructor(){super()}connectedCallback(){const e=document.createElement("div");e.innerHTML="<canvas\n    id='wa-canvas' width='300' height='32'\n    touch-action='none' tabindex='0'\n    style='\n      position:relative;\n      margin:0;\n      border:none;\n      width:300px;\n      height:32px;\n    '\n  ></canvas>\n  <div id='wa-logo'\n    style='\n      display:none;\n      position:absolute;\n      top:5px;\n      left:5px;\n      color:#fff;\n      font-size:8px;\n      background:rgba(0,0,0,0.5);\n    '\n  >TinySynth</div>",this.getAttr=(e,t)=>{let i=this.getAttribute(e);return""==i||null==i?t:"number"==typeof t?"true"==i?1:(i=+i,isNaN(i)?0:i):i},this.canvas=e.children[0],this.appendChild(e),i.bind(this)(this);const t=this.properties;for(let e in t){const i=t[e];i.observer?(this["_"+e]=i.value,Object.defineProperty(this,e,{get:()=>this["_"+e],set:t=>{this["_"+e]=t,this[i.observer]()}})):this[e]=i}for(let e in t){const i=t[e];this[e]=this.getAttr(e,i.value)}this.setQuality(1),this.init(),this._guiInit.bind(this)(),setInterval(this._guiUpdate.bind(this),100)}}t.customElements.define("webaudio-tinysynth",e)}e.exports=class{constructor(e){i.bind(this)(this);for(let e in this.properties)this[e]=this.properties[e].value;this.setQuality(1),e&&(null!=e.useReverb&&(this.useReverb=e.useReverb),null!=e.quality&&this.setQuality(e.quality),null!=e.voices&&this.setVoices(e.voices)),this.init()}}}(this)},9881:e=>{e.exports={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}}},7888:(e,t,i)=>{var n=i(1229),s=i(1388),o=i(6501),r=i(4673);e.exports={xml2js:n,xml2json:s,js2xml:o,json2xml:r}},6501:(e,t,i)=>{var n,s,o=i(4740),r=i(9881).isArray;function a(e,t,i){return(!i&&e.spaces?"\n":"")+Array(t+1).join(e.spaces)}function l(e,t,i){if(t.ignoreAttributes)return"";"attributesFn"in t&&(e=t.attributesFn(e,s,n));var o,r,l,c,h=[];for(o in e)e.hasOwnProperty(o)&&null!==e[o]&&void 0!==e[o]&&(c=t.noQuotesForNativeAttributes&&"string"!=typeof e[o]?"":'"',r=(r=""+e[o]).replace(/"/g,"&quot;"),l="attributeNameFn"in t?t.attributeNameFn(o,r,s,n):o,h.push(t.spaces&&t.indentAttributes?a(t,i+1,!1):" "),h.push(l+"="+c+("attributeValueFn"in t?t.attributeValueFn(r,o,s,n):r)+c));return e&&Object.keys(e).length&&t.spaces&&t.indentAttributes&&h.push(a(t,i,!1)),h.join("")}function c(e,t,i){return n=e,s="xml",t.ignoreDeclaration?"":"<?xml"+l(e[t.attributesKey],t,i)+"?>"}function h(e,t,i){if(t.ignoreInstruction)return"";var o;for(o in e)if(e.hasOwnProperty(o))break;var r="instructionNameFn"in t?t.instructionNameFn(o,e[o],s,n):o;if("object"==typeof e[o])return n=e,s=r,"<?"+r+l(e[o][t.attributesKey],t,i)+"?>";var a=e[o]?e[o]:"";return"instructionFn"in t&&(a=t.instructionFn(a,o,s,n)),"<?"+r+(a?" "+a:"")+"?>"}function d(e,t){return t.ignoreComment?"":"\x3c!--"+("commentFn"in t?t.commentFn(e,s,n):e)+"--\x3e"}function u(e,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(e,s,n):e.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(e,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(e,s,n):e)+">"}function p(e,t){return t.ignoreText?"":(e=(e=(e=""+e).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(e,s,n):e)}function g(e,t,i,o){return e.reduce((function(e,r){var c=a(t,i,o&&!e);switch(r.type){case"element":return e+c+function(e,t,i){n=e,s=e.name;var o=[],r="elementNameFn"in t?t.elementNameFn(e.name,e):e.name;o.push("<"+r),e[t.attributesKey]&&o.push(l(e[t.attributesKey],t,i));var a=e[t.elementsKey]&&e[t.elementsKey].length||e[t.attributesKey]&&"preserve"===e[t.attributesKey]["xml:space"];return a||(a="fullTagEmptyElementFn"in t?t.fullTagEmptyElementFn(e.name,e):t.fullTagEmptyElement),a?(o.push(">"),e[t.elementsKey]&&e[t.elementsKey].length&&(o.push(g(e[t.elementsKey],t,i+1)),n=e,s=e.name),o.push(t.spaces&&function(e,t){var i;if(e.elements&&e.elements.length)for(i=0;i<e.elements.length;++i)switch(e.elements[i][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;default:return!0}return!1}(e,t)?"\n"+Array(i+1).join(t.spaces):""),o.push("</"+r+">")):o.push("/>"),o.join("")}(r,t,i);case"comment":return e+c+d(r[t.commentKey],t);case"doctype":return e+c+f(r[t.doctypeKey],t);case"cdata":return e+(t.indentCdata?c:"")+u(r[t.cdataKey],t);case"text":return e+(t.indentText?c:"")+p(r[t.textKey],t);case"instruction":var m={};return m[r[t.nameKey]]=r[t.attributesKey]?r:r[t.instructionKey],e+(t.indentInstruction?c:"")+h(m,t,i)}}),"")}function m(e,t,i){var n;for(n in e)if(e.hasOwnProperty(n))switch(n){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||i)return!0;break;case t.cdataKey:if(t.indentCdata||i)return!0;break;case t.instructionKey:if(t.indentInstruction||i)return!0;break;case t.doctypeKey:case t.commentKey:default:return!0}return!1}function b(e,t,i,o,r){n=e,s=t;var c="elementNameFn"in i?i.elementNameFn(t,e):t;if(null==e||""===e)return"fullTagEmptyElementFn"in i&&i.fullTagEmptyElementFn(t,e)||i.fullTagEmptyElement?"<"+c+"></"+c+">":"<"+c+"/>";var h=[];if(t){if(h.push("<"+c),"object"!=typeof e)return h.push(">"+p(e,i)+"</"+c+">"),h.join("");e[i.attributesKey]&&h.push(l(e[i.attributesKey],i,o));var d=m(e,i,!0)||e[i.attributesKey]&&"preserve"===e[i.attributesKey]["xml:space"];if(d||(d="fullTagEmptyElementFn"in i?i.fullTagEmptyElementFn(t,e):i.fullTagEmptyElement),!d)return h.push("/>"),h.join("");h.push(">")}return h.push(v(e,i,o+1,!1)),n=e,s=t,t&&h.push((r?a(i,o,!1):"")+"</"+c+">"),h.join("")}function v(e,t,i,n){var s,o,l,g=[];for(o in e)if(e.hasOwnProperty(o))for(l=r(e[o])?e[o]:[e[o]],s=0;s<l.length;++s){switch(o){case t.declarationKey:g.push(c(l[s],t,i));break;case t.instructionKey:g.push((t.indentInstruction?a(t,i,n):"")+h(l[s],t,i));break;case t.attributesKey:case t.parentKey:break;case t.textKey:g.push((t.indentText?a(t,i,n):"")+p(l[s],t));break;case t.cdataKey:g.push((t.indentCdata?a(t,i,n):"")+u(l[s],t));break;case t.doctypeKey:g.push(a(t,i,n)+f(l[s],t));break;case t.commentKey:g.push(a(t,i,n)+d(l[s],t));break;default:g.push(a(t,i,n)+b(l[s],o,t,i,m(l[s],t)))}n=n&&!g.length}return g.join("")}e.exports=function(e,t){t=function(e){var t=o.copyOptions(e);return o.ensureFlagExists("ignoreDeclaration",t),o.ensureFlagExists("ignoreInstruction",t),o.ensureFlagExists("ignoreAttributes",t),o.ensureFlagExists("ignoreText",t),o.ensureFlagExists("ignoreComment",t),o.ensureFlagExists("ignoreCdata",t),o.ensureFlagExists("ignoreDoctype",t),o.ensureFlagExists("compact",t),o.ensureFlagExists("indentText",t),o.ensureFlagExists("indentCdata",t),o.ensureFlagExists("indentAttributes",t),o.ensureFlagExists("indentInstruction",t),o.ensureFlagExists("fullTagEmptyElement",t),o.ensureFlagExists("noQuotesForNativeAttributes",t),o.ensureSpacesExists(t),"number"==typeof t.spaces&&(t.spaces=Array(t.spaces+1).join(" ")),o.ensureKeyExists("declaration",t),o.ensureKeyExists("instruction",t),o.ensureKeyExists("attributes",t),o.ensureKeyExists("text",t),o.ensureKeyExists("comment",t),o.ensureKeyExists("cdata",t),o.ensureKeyExists("doctype",t),o.ensureKeyExists("type",t),o.ensureKeyExists("name",t),o.ensureKeyExists("elements",t),o.checkFnExists("doctype",t),o.checkFnExists("instruction",t),o.checkFnExists("cdata",t),o.checkFnExists("comment",t),o.checkFnExists("text",t),o.checkFnExists("instructionName",t),o.checkFnExists("elementName",t),o.checkFnExists("attributeName",t),o.checkFnExists("attributeValue",t),o.checkFnExists("attributes",t),o.checkFnExists("fullTagEmptyElement",t),t}(t);var i=[];return n=e,s="_root_",t.compact?i.push(v(e,t,0,!0)):(e[t.declarationKey]&&i.push(c(e[t.declarationKey],t,0)),e[t.elementsKey]&&e[t.elementsKey].length&&i.push(g(e[t.elementsKey],t,0,!i.length))),i.join("")}},4673:(e,t,i)=>{var n=i(6501);e.exports=function(e,t){e instanceof Buffer&&(e=e.toString());var i=null;if("string"==typeof e)try{i=JSON.parse(e)}catch(e){throw new Error("The JSON structure is invalid")}else i=e;return n(i,t)}},4740:(e,t,i)=>{var n=i(9881).isArray;e.exports={copyOptions:function(e){var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i},ensureFlagExists:function(e,t){e in t&&"boolean"==typeof t[e]||(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||"number"!=typeof e.spaces&&"string"!=typeof e.spaces)&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){"alwaysArray"in e&&("boolean"==typeof e.alwaysArray||n(e.alwaysArray))||(e.alwaysArray=!1)},ensureKeyExists:function(e,t){e+"Key"in t&&"string"==typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}}},1229:(e,t,i)=>{var n,s,o=i(6099),r=i(4740),a=i(9881).isArray;function l(e){var t=Number(e);if(!isNaN(t))return t;var i=e.toLowerCase();return"true"===i||"false"!==i&&e}function c(e,t){var i;if(n.compact){if(!s[n[e+"Key"]]&&(a(n.alwaysArray)?-1!==n.alwaysArray.indexOf(n[e+"Key"]):n.alwaysArray)&&(s[n[e+"Key"]]=[]),s[n[e+"Key"]]&&!a(s[n[e+"Key"]])&&(s[n[e+"Key"]]=[s[n[e+"Key"]]]),e+"Fn"in n&&"string"==typeof t&&(t=n[e+"Fn"](t,s)),"instruction"===e&&("instructionFn"in n||"instructionNameFn"in n))for(i in t)if(t.hasOwnProperty(i))if("instructionFn"in n)t[i]=n.instructionFn(t[i],i,s);else{var o=t[i];delete t[i],t[n.instructionNameFn(i,o,s)]=o}a(s[n[e+"Key"]])?s[n[e+"Key"]].push(t):s[n[e+"Key"]]=t}else{s[n.elementsKey]||(s[n.elementsKey]=[]);var r={};if(r[n.typeKey]=e,"instruction"===e){for(i in t)if(t.hasOwnProperty(i))break;r[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(i,t,s):i,n.instructionHasAttributes?(r[n.attributesKey]=t[i][n.attributesKey],"instructionFn"in n&&(r[n.attributesKey]=n.instructionFn(r[n.attributesKey],i,s))):("instructionFn"in n&&(t[i]=n.instructionFn(t[i],i,s)),r[n.instructionKey]=t[i])}else e+"Fn"in n&&(t=n[e+"Fn"](t,s)),r[n[e+"Key"]]=t;n.addParent&&(r[n.parentKey]=s),s[n.elementsKey].push(r)}}function h(e){var t;if("attributesFn"in n&&e&&(e=n.attributesFn(e,s)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&e)for(t in e)if(e.hasOwnProperty(t)&&(n.trim&&(e[t]=e[t].trim()),n.nativeTypeAttributes&&(e[t]=l(e[t])),"attributeValueFn"in n&&(e[t]=n.attributeValueFn(e[t],t,s)),"attributeNameFn"in n)){var i=e[t];delete e[t],e[n.attributeNameFn(t,e[t],s)]=i}return e}function d(e){var t={};if(e.body&&("xml"===e.name.toLowerCase()||n.instructionHasAttributes)){for(var i,o=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(i=o.exec(e.body));)t[i[1]]=i[2]||i[3]||i[4];t=h(t)}if("xml"===e.name.toLowerCase()){if(n.ignoreDeclaration)return;s[n.declarationKey]={},Object.keys(t).length&&(s[n.declarationKey][n.attributesKey]=t),n.addParent&&(s[n.declarationKey][n.parentKey]=s)}else{if(n.ignoreInstruction)return;n.trim&&(e.body=e.body.trim());var r={};n.instructionHasAttributes&&Object.keys(t).length?(r[e.name]={},r[e.name][n.attributesKey]=t):r[e.name]=e.body,c("instruction",r)}}function u(e,t){var i;if("object"==typeof e&&(t=e.attributes,e=e.name),t=h(t),"elementNameFn"in n&&(e=n.elementNameFn(e,s)),n.compact){var o;if(i={},!n.ignoreAttributes&&t&&Object.keys(t).length)for(o in i[n.attributesKey]={},t)t.hasOwnProperty(o)&&(i[n.attributesKey][o]=t[o]);!(e in s)&&(a(n.alwaysArray)?-1!==n.alwaysArray.indexOf(e):n.alwaysArray)&&(s[e]=[]),s[e]&&!a(s[e])&&(s[e]=[s[e]]),a(s[e])?s[e].push(i):s[e]=i}else s[n.elementsKey]||(s[n.elementsKey]=[]),(i={})[n.typeKey]="element",i[n.nameKey]=e,!n.ignoreAttributes&&t&&Object.keys(t).length&&(i[n.attributesKey]=t),n.alwaysChildren&&(i[n.elementsKey]=[]),s[n.elementsKey].push(i);i[n.parentKey]=s,s=i}function f(e){n.ignoreText||(e.trim()||n.captureSpacesBetweenElements)&&(n.trim&&(e=e.trim()),n.nativeType&&(e=l(e)),n.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),c("text",e))}function p(e){n.ignoreComment||(n.trim&&(e=e.trim()),c("comment",e))}function g(e){var t=s[n.parentKey];n.addParent||delete s[n.parentKey],s=t}function m(e){n.ignoreCdata||(n.trim&&(e=e.trim()),c("cdata",e))}function b(e){n.ignoreDoctype||(e=e.replace(/^ /,""),n.trim&&(e=e.trim()),c("doctype",e))}function v(e){e.note=e}e.exports=function(e,t){var i=o.parser(!0,{}),a={};if(s=a,n=function(e){return n=r.copyOptions(e),r.ensureFlagExists("ignoreDeclaration",n),r.ensureFlagExists("ignoreInstruction",n),r.ensureFlagExists("ignoreAttributes",n),r.ensureFlagExists("ignoreText",n),r.ensureFlagExists("ignoreComment",n),r.ensureFlagExists("ignoreCdata",n),r.ensureFlagExists("ignoreDoctype",n),r.ensureFlagExists("compact",n),r.ensureFlagExists("alwaysChildren",n),r.ensureFlagExists("addParent",n),r.ensureFlagExists("trim",n),r.ensureFlagExists("nativeType",n),r.ensureFlagExists("nativeTypeAttributes",n),r.ensureFlagExists("sanitize",n),r.ensureFlagExists("instructionHasAttributes",n),r.ensureFlagExists("captureSpacesBetweenElements",n),r.ensureAlwaysArrayExists(n),r.ensureKeyExists("declaration",n),r.ensureKeyExists("instruction",n),r.ensureKeyExists("attributes",n),r.ensureKeyExists("text",n),r.ensureKeyExists("comment",n),r.ensureKeyExists("cdata",n),r.ensureKeyExists("doctype",n),r.ensureKeyExists("type",n),r.ensureKeyExists("name",n),r.ensureKeyExists("elements",n),r.ensureKeyExists("parent",n),r.checkFnExists("doctype",n),r.checkFnExists("instruction",n),r.checkFnExists("cdata",n),r.checkFnExists("comment",n),r.checkFnExists("text",n),r.checkFnExists("instructionName",n),r.checkFnExists("elementName",n),r.checkFnExists("attributeName",n),r.checkFnExists("attributeValue",n),r.checkFnExists("attributes",n),n}(t),i.opt={strictEntities:!0},i.onopentag=u,i.ontext=f,i.oncomment=p,i.onclosetag=g,i.onerror=v,i.oncdata=m,i.ondoctype=b,i.onprocessinginstruction=d,i.write(e).close(),a[n.elementsKey]){var l=a[n.elementsKey];delete a[n.elementsKey],a[n.elementsKey]=l,delete a.text}return a}},1388:(e,t,i)=>{var n=i(4740),s=i(1229);e.exports=function(e,t){var i,o,r;return i=function(e){var t=n.copyOptions(e);return n.ensureSpacesExists(t),t}(t),o=s(e,i),r="compact"in i&&i.compact?"_parent":"parent",("addParent"in i&&i.addParent?JSON.stringify(o,(function(e,t){return e===r?"_":t}),i.spaces):JSON.stringify(o,null,i.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},3179:(e,t,i)=>{"use strict";var n=i(3239),s=n.require("ace/lib/oop"),o=n.require("ace/mode/text").Mode,r=i(5462).Q,a=i(9727).Z,l=function(){this.HighlightRules=r,this.foldingRules=new a};s.inherits(l,o),function(){this.lineCommentStart="//",this.$id="ace/mode/sfz"}.call(l.prototype),e.exports.A=l},9727:(e,t,i)=>{"use strict";var n=i(3239),s=n.require("ace/lib/oop"),o=n.require("ace/range").Range,r=n.require("ace/mode/folding/fold_mode").FoldMode,a=t.Z=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};s.inherits(a,r),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);if(this.singleLineBlockCommentRe.test(n)&&!this.startRegionRe.test(n)&&!this.tripleStarBlockCommentRe.test(n))return"";var s=this._getFoldWidgetBase(e,t,i);return!s&&this.startRegionRe.test(n)?"start":s},this.getFoldWidgetRange=function(e,t,i,n){var s,o=e.getLine(i);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,i);if(s=o.match(this.foldingStartMarker)){var r=s.index;if(s[1])return this.openingBracketBlock(e,s[1],i,r);var a=e.getCommentFoldRange(i,r+s[0].length,1);return a&&!a.isMultiLine()&&(n?a=this.getSectionRange(e,i):"all"!=t&&(a=null)),a}return"markbegin"!==t&&(s=o.match(this.foldingStopMarker))?(r=s.index+s[0].length,s[1]?this.closingBracketBlock(e,s[1],i,r):e.getCommentFoldRange(i,r,-1)):void 0},this.getSectionRange=function(e,t){for(var i=e.getLine(t),n=i.search(/\S/),s=t,r=i.length,a=t+=1,l=e.getLength();++t<l;){var c=(i=e.getLine(t)).search(/\S/);if(-1!==c){if(n>c)break;var h=this.getFoldWidgetRange(e,"all",t);if(h){if(h.start.row<=s)break;if(h.isMultiLine())t=h.end.row;else if(n==c)break}a=t}}return new o(s,r,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,i){for(var n=t.search(/\s*$/),s=e.getLength(),r=i,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++i<s;){t=e.getLine(i);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(i>r)return new o(r,n,i,t.length)}}.call(a.prototype)},5462:(e,t,i)=>{"use strict";var n=i(3239),s=n.require("ace/lib/oop"),o=n.require("ace/mode/text_highlight_rules").TextHighlightRules,r=function(){this.$rules={start:[{include:"#comment"},{include:"#headers"},{include:"#sfz1_sound-source"},{include:"#sfz1_instrument-settings"},{include:"#sfz1_region-logic"},{include:"#sfz1_performance-parameters"},{include:"#sfz1_modulation"},{include:"#sfz1_effects"},{include:"#sfz2_directives"},{include:"#sfz2_sound-source"},{include:"#sfz2_instrument-settings"},{include:"#sfz2_region-logic"},{include:"#sfz2_performance-parameters"},{include:"#sfz2_modulation"},{include:"#sfz2_curves"},{include:"#aria_instrument-settings"},{include:"#aria_region-logic"},{include:"#aria_performance-parameters"},{include:"#aria_modulation"},{include:"#aria_curves"},{include:"#aria_effects"}],"#comment":[{token:"punctuation.definition.comment.sfz",regex:/\/\*/,push:[{token:"punctuation.definition.comment.sfz",regex:/\*\//,next:"pop"},{defaultToken:"comment.block.sfz"}]},{token:["punctuation.whitespace.comment.leading.sfz","punctuation.definition.comment.sfz"],regex:/((?:[\s]+)?)(\/\/)(?:\s*(?=\s|$))?/,push:[{token:"comment.line.double-slash.sfz",regex:/(?=$)/,next:"pop"},{defaultToken:"comment.line.double-slash.sfz"}]}],"#headers":[{token:["punctuation.definition.tag.begin.sfz","keyword.control.$2.sfz","punctuation.definition.tag.begin.sfz"],regex:/(<)(control|global|master|group|region|curve|effect|midi)(>)/,comment:"Headers"},{token:"invalid.sfz",regex:/<.*(?!(?:control|global|master|group|region|curve|effect|midi))>/,comment:"Non-compliant headers"}],"#sfz1_sound-source":[{token:["variable.language.sound-source.$1.sfz","keyword.operator.assignment.sfz"],regex:/\b(sample)(=?)/,push:[{token:"meta.opcode.sfz",regex:/(?=(?:\s\/\/|$))/,next:"pop"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (sample): (any string)"},{token:"variable.language.sound-source.$1.sfz",regex:/\bdelay(?:_random|_oncc\d{1,3})?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-100"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (delay|delay_random|delay_onccN): (0 to 100 percent)"},{token:"variable.language.sound-source.$1.sfz",regex:/\boffset(?:_random|_oncc\d{1,3})?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_positive"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (offset|offset_random|offset_onccN): (0 to 4294967296 sample units)"},{token:"variable.language.sound-source.$1.sfz",regex:/\bend\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_positive_or_neg1"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (end): (-1 to 4294967296 sample units)"},{token:"variable.language.sound-source.$1.sfz",regex:/\bcount\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_positive"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (count): (0 to 4294967296 loops)"},{token:"variable.language.sound-source.$1.sfz",regex:/\bloop_mode\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_loop_mode"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (loop_mode): (no_loop|one_shot|loop_continuous|loop_sustain)"},{token:"variable.language.sound-source.$1.sfz",regex:/\b(?:loop_start|loop_end)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_positive"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (loop_start|loop_end): (0 to 4294967296 sample units)"},{token:"variable.language.sound-source.$1.sfz",regex:/\b(?:sync_beats|sync_offset)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-32"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (sync_beats|sync_offset): (0 to 32 beats)"}],"#sfz1_instrument-settings":[{token:"variable.language.instrument-settings.$1.sfz",regex:/\b(?:group|polyphony_group|off_by)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_positive"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (group|polyphony_group|off_by): (0 to 4294967296 sample units)"},{token:"variable.language.instrument-settings.$1.sfz",regex:/\boff_mode\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_fast-normal-time"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (off_mode): (fast|normal)"},{token:"variable.language.instrument-settings.$1.sfz",regex:/\boutput\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-1024"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (output): (0 to 1024 MIDI Nodes)"}],"#sfz1_region-logic":[{token:"variable.language.region-logic.key-mapping.$1.sfz",regex:/\b(?:key|lokey|hikey)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127_or_string_note"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (key|lokey|hikey): (0 to 127 MIDI Note or C-1 to G#9 Note)"},{token:"variable.language.region-logic.key-mapping.$1.sfz",regex:/\b(?:lovel|hivel)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (love|hivel): (0 to 127 MIDI Velocity)"},{token:"variable.language.region-logic.midi-conditions.$1.sfz",regex:/\b(?:lochan|hichan)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_1-16"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (lochan|hichan): (1 to 16 MIDI Channel)"},{token:"variable.language.region-logic.midi-conditions.$1.sfz",regex:/\b(?:lo|hi)cc(?:\d{1,3})?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (loccN|hiccN): (0 to 127 MIDI Controller)"},{token:"variable.language.region-logic.midi-conditions.$1.sfz",regex:/\b(?:lobend|hibend)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_neg8192-8192"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (lobend|hibend): (-8192 to 8192 cents)"},{token:"variable.language.region-logic.midi-conditions.$1.sfz",regex:/\bsw_(?:lokey|hikey|last|down|up|previous)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127_or_string_note"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (sw_lokey|sw_hikey|sw_last|sw_down|sw_up|sw_previous): (0 to 127 MIDI Note or C-1 to G#9 Note)"},{token:"variable.language.region-logic.midi-conditions.$1.sfz",regex:/\bsw_vel\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_current-previous"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (sw_vel): (current|previous)"},{token:"variable.language.region-logic.internal-conditions.$1.sfz",regex:/\b(?:lobpm|hibpm)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-500"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (lobpm|hibpm): (0 to 500 BPM)"},{token:"variable.language.region-logic.internal-conditions.$1.sfz",regex:/\b(?:lochanaft|hichanaft|lopolyaft|hipolyaft)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (lochanaft|hichanaft|lopolyaft|hipolyaft): (0 to 127 MIDI Controller)"},{token:"variable.language.region-logic.internal-conditions.$1.sfz",regex:/\b(?:lorand|hirand)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-1"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (lorand|hirand): (0 to 1 float)"},{token:"variable.language.region-logic.internal-conditions.$1.sfz",regex:/\b(?:seq_length|seq_position)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_1-100"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (seq_length|seq_position): (1 to 100 beats)"},{token:"variable.language.region-logic.triggers.$1.sfz",regex:/\btrigger\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_attack-release-first-legato"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (trigger): (attack|release|first|legato)"},{token:"variable.language.region-logic.triggers.$1.sfz",regex:/\bon_(?:lo|hi)cc(?:\d{1,3})?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_neg1-127"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (on_loccN|on_hiccN): (-1 to 127 MIDI Controller)"}],"#sfz1_performance-parameters":[{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\b(?:pan|position|width|amp_veltrack)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg100-100"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (pan|position|width|amp_veltrack): (-100 to 100 percent)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\bvolume\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg144-6"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (volume): (-144 to 6 dB)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\bamp_keycenter\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127_or_string_note"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (amp_keycenter): (0 to 127 MIDI Note or C-1 to G#9 Note)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\bamp_keytrack\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg96-12"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (amp_keytrack): (-96 to 12 dB)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\bamp_velcurve_(?:\d{1,3})?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-1"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (amp_velcurve_N): (0 to 1 curve)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\bamp_random\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-24"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (amp_random): (0 to 24 dB)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\bgain_oncc(?:\d{1,3})?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg144-48"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (gain_onccN): (-144 to 48 dB)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\brt_decay\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-200"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (rt_decay): (0 to 200 dB)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\b(?:xf_cccurve|xf_keycurve|xf_velcurve)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_gain-power"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (xf_cccurve|xf_keycurve|xf_velcurve): (gain|power)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\b(?:xfin_locc(?:\d{1,3})?|xfin_hicc(?:\d{1,3})?|xfout_locc(?:\d{1,3})?|xfout_hicc(?:\d{1,3})?|xfin_lokey|xfin_hikey|xfout_lokey|xfout_hikey|xfin_lovel|xfin_hivel|xfout_lovel|xfout_hivel)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (xfin_loccN|xfin_hiccN|xfout_loccN|xfout_hiccN|xfin_lokey|xfin_hikey|xfout_lokey|xfout_hikey|xfin_lovel|xfin_hivel|xfout_lovel|xfout_hivel): (0 to 127 MIDI Velocity)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\b(?:xfin_lokey|xfin_hikey|xfout_lokey|xfout_hikey)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127_or_string_note"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (xfin_lokey|xfin_hikey|xfout_lokey|xfout_hikey): (0 to 127 MIDI Note or C-1 to G#9 Note)"},{token:"variable.language.performance-parameters.pitch.$1.sfz",regex:/\b(?:bend_up|bend_down|pitch_veltrack)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_neg9600-9600"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (bend_up|bend_down|pitch_veltrack): (-9600 to 9600 cents)"},{token:"variable.language.performance-parameters.pitch.$1.sfz",regex:/\bbend_step\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_1-1200"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (bend_step): (1 to 1200 cents)"},{token:"variable.language.performance-parameters.pitch.$1.sfz",regex:/\bpitch_keycenter\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127_or_string_note"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (pitch_keycenter): (0 to 127 MIDI Note)"},{token:"variable.language.performance-parameters.pitch.$1.sfz",regex:/\bpitch_keytrack\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_neg1200-1200"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (pitch_keytrack): (-1200 to 1200 cents)"},{token:"variable.language.performance-parameters.pitch.$1.sfz",regex:/\bpitch_random\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-9600"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (pitch_random): (0 to 9600 cents)"},{token:"variable.language.performance-parameters.pitch.$1.sfz",regex:/\btranspose\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_neg127-127"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (transpose): (-127 to 127 MIDI Note)"},{token:"variable.language.performance-parameters.pitch.$1.sfz",regex:/\btune\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_neg9600-9600"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (tune): (-2400 to 2400 cents)"},{token:"variable.language.performance-parameters.filters.$1.sfz",regex:/\bcutoff\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_positive"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (cutoff): (0 to arbitrary Hz)"},{token:"variable.language.performance-parameters.filters.$1.sfz",regex:/\b(?:cutoff_oncc(?:\d{1,3})?|cutoff_chanaft|cutoff_polyaft)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_neg9600-9600"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (cutoff_onccN|cutoff_chanaft|cutoff_polyaft): (-9600 to 9600 cents)"},{token:"variable.language.performance-parameters.filters.$1.sfz",regex:/\bfil_keytrack\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-1200"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (fil_keytrack): (0 to 1200 cents)"},{token:"variable.language.performance-parameters.filters.$1.sfz",regex:/\bfil_keycenter\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127_or_string_note"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (fil_keycenter): (0 to 127 MIDI Note)"},{token:"variable.language.performance-parameters.filters.$1.sfz",regex:/\bfil_random\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-9600"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (fil_random): (0 to 9600 cents)"},{token:"variable.language.performance-parameters.filters.$1.sfz",regex:/\bfil_type\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_lpf-hpf-bpf-brf"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (fil_type): (lpf_1p|hpf_1p|lpf_2p|hpf_2p|bpf_2p|brf_2p)"},{token:"variable.language.performance-parameters.filters.$1.sfz",regex:/\bfil_veltrack\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_neg9600-9600"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (fil_veltrack): (-9600 to 9600 cents)"},{token:"variable.language.performance-parameters.filters.$1.sfz",regex:/\bresonance\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-40"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (resonance): (0 to 40 dB)"},{token:"variable.language.performance-parameters.eq.$1.sfz",regex:/\b(?:eq1_freq|eq2_freq|eq3_freq)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-30000"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (eq1_freq|eq2_freq|eq3_freq): (0 to 30000 Hz)"},{token:"variable.language.performance-parameters.eq.$1.sfz",regex:/\b(?:eq[1-3]_freq_oncc(?:\d{1,3})?|eq1_vel2freq|eq2_vel2freq|eq3_vel2freq)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg30000-30000"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (eq1_freq_onccN|eq2_freq_onccN|eq3_freq_onccN|eq1_vel2freq|eq2_vel2freq|eq3_vel2freq): (-30000 to 30000 Hz)"},{token:"variable.language.performance-parameters.eq.$1.sfz",regex:/\b(?:eq1_bw|eq2_bw|eq3_bw)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-4"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (eq1_bw|eq2_bw|eq3_bw): (0.0001 to 4 octaves)"},{token:"variable.language.performance-parameters.eq.$1.sfz",regex:/\b(?:eq[1-3]_bw_oncc(?:\d{1,3})?|eq1_vel2bw|eq2_vel2bw|eq3_vel2bw)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg4-4"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (eq1_bw_onccN|eq2_bw_onccN|eq3_bw_onccN|eq1_vel2bw|eq2_vel2bw|eq3_vel2bw): (-30000 to 30000 Hz)"},{token:"variable.language.performance-parameters.eq.$1.sfz",regex:/\b(?:eq[1-3]_(?:vel2)?gain|eq[1-3]_gain_oncc(?:\d{1,3})?)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg96-24"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (eq1_gain|eq2_gain|eq3_gain|eq1_gain_onccN|eq2_gain_onccN|eq3_gain_onccN|eq1_vel2gain|eq2_vel2gain|eq3_vel2gain): (-96 to 24 dB)"}],"#sfz1_modulation":[{token:"variable.language.modulation.envelope-generators.$1.sfz",regex:/\b(?:ampeg|fileg|pitcheg)_(?:(?:attack|decay|delay|hold|release|start|sustain)(?:_oncc(?:\d{1,3})?)?|vel2(?:attack|decay|delay|hold|release|start|sustain))\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-100"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (ampeg_delay_onccN|ampeg_attack_onccN|ampeg_hold_onccN|ampeg_decay_onccN|ampeg_release_onccN|ampeg_vel2delay|ampeg_vel2attack|ampeg_vel2hold|ampeg_vel2decay|ampeg_vel2release|pitcheg_vel2delay|pitcheg_vel2attack|pitcheg_vel2hold|pitcheg_vel2decay|pitcheg_vel2release|fileg_vel2delay|fileg_vel2attack|fileg_vel2hold|fileg_vel2decay|fileg_vel2release): (0 to 100 seconds)"},{token:"variable.language.modulation.envelope-generators.$1.sfz",regex:/\b(?:pitcheg_depth|fileg_depth|pitcheg_vel2depth|fileg_vel2depth)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_neg12000-12000"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (pitcheg_depth|fileg_depth|pitcheg_vel2depth|fileg_vel2depth): (-12000 to 12000 cents)"},{token:"variable.language.modulation.lfo.$1.sfz",regex:/\bamplfo_(?:depth(?:cc(?:\d{1,3})?)?|depth(?:chan|poly)aft)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg20-20"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (amplfo_depth|amplfo_depthccN|amplfo_depthchanaft|amplfo_depthpolyaft): (-20 to 20 dB)"},{token:"variable.language.modulation.lfo.$1.sfz",regex:/\b(?:fillfo|pitchlfo)_(?:depth(?:(?:_on)?cc(?:\d{1,3})?)?|depth(?:chan|poly)aft)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_neg1200-1200"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (pitchlfo_depth|pitchlfo_depthccN|pitchlfo_depthchanaft|pitchlfo_depthpolyaft|fillfo_depth|fillfo_depthccN|fillfo_depthchanaft|fillfo_depthpolyaft): (-1200 to 1200 cents)"},{token:"variable.language.modulation.lfo.$1.sfz",regex:/\b(?:(?:amplfo|fillfo|pitchlfo)_(?:freq|(?:cc(?:\d{1,3})?)?)|freq(?:chan|poly)aft)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg200-200"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (amplfo_freqccN|amplfo_freqchanaft|amplfo_freqpolyaft|pitchlfo_freqccN|pitchlfo_freqchanaft|pitchlfo_freqpolyaft|fillfo_freqccN|fillfo_freqchanaft|fillfo_freqpolyaft): (-200 to 200 Hz)"},{token:"variable.language.modulation.lfo.$1.sfz",regex:/\b(?:amplfo|fillfo|pitchlfo)_(?:delay|fade)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-100"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (amplfo_delay|amplfo_fade|pitchlfo_delay|pitchlfo_fade|fillfo_delay|fillfo_fade): (0 to 100 seconds)"},{token:"variable.language.modulation.lfo.$1.sfz",regex:/\b(?:amplfo_freq|pitchlfo_freq|fillfo_freq)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-20"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (amplfo_freq|pitchlfo_freq|fillfo_freq): (0 to 20 Hz)"}],"#sfz1_effects":[{token:"variable.language.effects.$1.sfz",regex:/\b(?:effect1|effect2)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-100"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (effect1|effect2): (0 to 100 percent)"}],"#sfz2_directives":[{token:["meta.preprocessor.define.sfz","meta.generic.define.sfz","punctuation.definition.variable.sfz","meta.preprocessor.string.sfz","meta.generic.define.sfz","meta.preprocessor.string.sfz"],regex:/(\#define)(\s+)(\$)([^\s]+)(\s+)(.+)\b/,comment:"#define statement"},{token:["meta.preprocessor.import.sfz","meta.generic.include.sfz","punctuation.definition.string.begin.sfz","meta.preprocessor.string.sfz","meta.preprocessor.string.sfz","punctuation.definition.string.end.sfz"],regex:/(\#include)(\s+)(")(.+)(?=\.sfz)(\.sfzh?)(")/,comment:"#include statement"},{token:"variable.other.constant.sfz",regex:/\$[^\s\=]+/,comment:"defined variable"}],"#sfz2_sound-source":[{token:["variable.language.sound-source.$1.sfz","keyword.operator.assignment.sfz"],regex:/\b(default_path)(=?)/,push:[{token:"meta.opcode.sfz",regex:/(?=(?:\s\/\/|$))/,next:"pop"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (default_path): any string"},{token:"variable.language.sound-source.sample-playback.$1.sfz",regex:/\bdirection\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_forward-reverse"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (direction): (forward|reverse)"},{token:"variable.language.sound-source.sample-playback.$1.sfz",regex:/\bloop_count\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_positive"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (loop_count): (0 to 4294967296 loops)"},{token:"variable.language.sound-source.sample-playback.$1.sfz",regex:/\bloop_type\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_forward-backward-alternate"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (loop_type): (forward|backward|alternate)"},{token:"variable.language.sound-source.sample-playback.$1.sfz",regex:/\bmd5\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_md5"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (md5): (128-bit hex md5 hash)"}],"#sfz2_instrument-settings":[{token:"variable.language.instrument-settings.$1.sfz",regex:/\boctave_offset\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_neg10-10"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (octave_offset): (-10 to 10 octaves)"},{token:["variable.language.instrument-settings.$1.sfz","keyword.operator.assignment.sfz"],regex:/\b(region_label|label_cc(?:\d{1,3})?)(=?)/,push:[{token:"meta.opcode.sfz",regex:/(?=(?:\s\/\/|$))/,next:"pop"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (region_label|label_ccN): (any string)"},{token:"variable.language.instrument-settings.$1.sfz",regex:/\bset_cc(?:\d{1,3})?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (set_ccN): (0 to 127 MIDI Controller)"},{token:"variable.language.instrument-settings.voice-lifecycle.$1.sfz",regex:/\b(?:polyphony|note_polyphony)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (polyphony|note_polyphony): (0 to 127 voices)"},{token:"variable.language.instrument-settings.voice-lifecycle.$1.sfz",regex:/\b(?:note_selfmask|rt_dead)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_on-off"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (note_selfmask|rt_dead): (on|off)"}],"#sfz2_region-logic":[{token:"variable.language.region-logic.midi-conditions.$1.sfz",regex:/\b(?:sustain_sw|sostenuto_sw)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_on-off"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (sustain_sw|sostenuto_sw): (on|off)"},{token:"variable.language.region-logic.midi-conditions.$1.sfz",regex:/\b(?:loprog|hiprog)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (loprog|hiprog): (0 to 127 MIDI program)"}],"#sfz2_performance-parameters":[{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\bvolume_oncc(?:\d{1,3})?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg144-6"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (volume_onccN): (-144 to 6 dB)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\bphase\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_normal-invert"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (phase): (normal|invert)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\bwidth_oncc(?:\d{1,3})?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg100-100"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (width_onccN): (-100 to 100 percent)"},{token:"variable.language.performance-parameters.pitch.$1.sfz",regex:/\bbend_smooth\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-9600"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (bend_smooth): (0 to 9600 cents)"},{token:"variable.language.performance-parameters.pitch.$1.sfz",regex:/\b(?:bend_stepup|bend_stepdown)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_1-1200"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (bend_stepup|bend_stepdown): (1 to 1200 cents)"},{token:"variable.language.performance-parameters.filters.$1.sfz",regex:/\b(?:cutoff2|cutoff2_oncc(?:\d{1,3})?)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_positive"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (cutoff2|cutoff2_onccN): (0 to arbitrary Hz)"},{token:"variable.language.performance-parameters.filters.$1.sfz",regex:/\b(?:resonance_oncc(?:\d{1,3})?|resonance2|resonance2_oncc(?:\d{1,3})?)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-40"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (resonance_onccN|resonance2|resonance2_onccN): (0 to 40 dB)"},{token:"variable.language.performance-parameters.filters.$1.sfz",regex:/\bfil2_type\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_lpf-hpf-bpf-brf"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (fil2_type): (lpf_1p|hpf_1p|lpf_2p|hpf_2p|bpf_2p|brf_2p)"}],"#sfz2_modulation":[{token:"variable.language.modulation.envelope-generators.$1.sfz",regex:/\beg\d{2}_(?:curve|loop|points|sustain)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_positive"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (egN_(curve|loop|points|sustain)): (positive int)"},{token:"variable.language.modulation.envelope-generators.$1.sfz",regex:/\beg\d{2}_level\d*(?:_oncc(?:\d{1,3})?)?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg1-1"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (egN_level|egN_level_onccX): (-1 to 1 float)"},{token:"variable.language.modulation.envelope-generators.$1.sfz",regex:/\beg\d{2}_shape\d+\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg10-10"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (egN_shapeX): (-10 to 10 number)"},{token:"variable.language.modulation.envelope-generators.$1.sfz",regex:/\beg\d{2}_time\d*(?:_oncc(?:\d{1,3})?)?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-100"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (egN_time|egN_time_onccX): (0 to 100 seconds)"},{token:"variable.language.modulation.lfo.$1.sfz",regex:/\blfo\d{2}_(?:wave|count|freq_(?:smooth|step)cc(?:\d{1,3})?)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_positive"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (lfoN_wave|lfoN_count|lfoN_freq|lfoN_freq_onccX|lfoN_freq_smoothccX): (positive int)"},{token:"variable.language.modulation.lfo.$1.sfz",regex:/\blfo\d{2}_freq(?:_oncc(?:\d{1,3})?)?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg20-20"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (lfoN_freq|lfoN_freq_onccN): (-20 to 20 Hz)"},{token:"variable.language.modulation.lfo.$1.sfz",regex:/\b(?:lfo\d{2}_(?:delay|fade)(?:_oncc(?:\d{1,3})?)?|count)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-100"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (lfoN_delay|lfoN_delay_onccX|lfoN_fade|lfoN_fade_onccX): (0 to 100 seconds)"},{token:"variable.language.modulation.lfo.$1.sfz",regex:/\b(?:lfo\d{2}_phase(?:_oncc(?:\d{1,3})?)?|count)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-1"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (lfoN_phase|lfoN_phase_onccX): (0 to 1 number)"},{token:"variable.language.modulation.envelope-generators.$1.sfz",regex:/\beg\d{2}_(?:(?:depth_lfo|depthadd_lfo|freq_lfo)|(?:amplitude|depth|depth_lfo|depthadd_lfo|freq_lfo|pitch|cutoff2?|eq[1-3]freq|eq[1-3]bw|eq[1-3]gain|pan|resonance2?|volume|width)(?:_oncc(?:\d{1,3})?)?)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_any"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (other eg destinations): (any float)"},{token:"variable.language.modulation.lfo.$1.sfz",regex:/\blfo\d{2}_(?:(?:depth_lfo|depthadd_lfo|freq_lfo)|(?:amplitude|decim|bitred|depth_lfo|depthadd_lfo|freq_lfo|pitch|cutoff2?|eq[1-3]freq|eq[1-3]bw|eq[1-3]gain|pan|resonance2?|volume|width)(?:_oncc(?:\d{1,3})?)?)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_any"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (other lfo destinations): (any float)"}],"#sfz2_curves":[{token:"variable.language.curves.$1.sfz",regex:/\bv[0-9]{3}\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-1"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (vN): (0 to 1 number)"}],"#aria_instrument-settings":[{token:"variable.language.instrument-settings.$1.sfz",regex:/\bhint_[A-z_]*\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_any"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (hint_): (any number)"},{token:"variable.language.instrument-settings.$1.sfz",regex:/\b(?:set_|lo|hi)hdcc(?:\d{1,3})?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_any"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (set_hdccN|lohdccN|hihdccN): (any number)"},{token:"variable.language.instrument-settings.$1.sfz",regex:/\b(?:sustain_cc|sostenuto_cc|sustain_lo|sostenuto_lo)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (sustain_cc|sostenuto_cc|sustain_lo|sostenuto_lo): (0 to 127 MIDI byte)"},{token:"variable.language.instrument-settings.$1.sfz",regex:/\bsw_octave_offset\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_neg10-10"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (sw_octave_offset): (-10 to 10 octaves)"},{token:"variable.language.instrument-settings.voice-lifecycle.$1.sfz",regex:/\boff_curve\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_positive"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (off_curve): (0 to any curve)"},{token:"variable.language.instrument-settings.voice-lifecycle.$1.sfz",regex:/\b(?:off_shape|off_time)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg10-10"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (off_shape|off_time): (-10 to 10 number)"}],"#aria_region-logic":[{token:"variable.language.region-logic.midi-conditions.$1.sfz",regex:/\b(?:sw_default|sw_lolast|sw_hilast)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (sw_default|sw_lolast|sw_hilast): (0 to 127 MIDI Note)"},{token:"variable.language.region-logic.midi-conditions.$1.sfz",regex:/\bsw_label\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_any_continuous"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (sw_label): (any string)"},{token:"variable.language.region-logic.midi-conditions.$1.sfz",regex:/\bvar\d{2}_curvecc(?:\d{1,3})?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_positive"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (varNN_curveccX): (0 to any curve)"},{token:"variable.language.region-logic.midi-conditions.$1.sfz",regex:/\bvar\d{2}_mod\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_add-mult"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (varNN_mod): (add|mult)"},{token:"variable.language.region-logic.midi-conditions.$1.sfz",regex:/\b(?:var\d{2}_oncc(?:\d{1,3})?|var\d{2}_(?:pitch|cutoff|resonance|cutoff2|resonance2|eq[1-3]freq|eq[1-3]bw|eq[1-3]gain|volume|amplitude|pan|width))\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_any"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (varNN_onccX|varNN_target): (any float)"}],"#aria_performance-parameters":[{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\b(?:amplitude|amplitude_oncc(?:\d{1,3})?|global_amplitude|master_amplitude|group_amplitude)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_0-100"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (amplitude|amplitude_onccN|global_amplitude|master_amplitude|group_amplitude): (0 to 100 percent)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\bamplitude_curvecc(?:\d{1,3})?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_positive"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (amplitude_curveccN): (any positive curve)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\bamplitude_smoothcc(?:\d{1,3})?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-9600"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (amplitude_smoothccN): (0 to 9600 number)"},{token:"variable.language.performance-parameters.amplifier.$1.sfz",regex:/\bpan_law\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_balance-mma"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (pan_law): (balance|mma)"},{token:"variable.language.performance-parameters.amplifiers.$1.sfz",regex:/\b(?:global_volume|master_volume|group_volume|volume_oncc(?:\d{1,3})?)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg144-6"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (global_volume|master_volume|group_volume|volume_onccN): (-144 to 6 dB)"}],"#aria_modulation":[{token:"variable.language.modulation.envelope-generators.$1.sfz",regex:/\b(?:ampeg_attack_shape|ampeg_decay_shape|ampeg_release_shape|eg\d{2}_shape\d+)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_neg10-10"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (ampeg_attack_shape|ampeg_decay_shape|ampeg_release_shape|egN_shapeX): (-10 to 10 float)"},{token:"variable.language.modulation.envelope-generators.$1.sfz",regex:/\b(?:ampeg_release_zero|ampeg_decay_zero)\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_on-off"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (ampeg_release_zero|ampeg_decay_zero): (true|false)"},{token:"variable.language.modulation.lfo.$1.sfz",regex:/\blfo\d{2}_(?:offset|ratio|scale)2?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#float_any"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (lfoN_offset|lfoN_offset2|lfoN_ratio|lfoN_ratio2|lfoN_scale|lfoN_scale2): (any float)"},{token:"variable.language.modulation.lfo.$1.sfz",regex:/\blfo\d{2}_wave2?\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_0-127"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (lfoN_wave|lfoN_wav2): (0 to 127 MIDI Number)"}],"#aria_curves":[{token:"variable.language.curves.$1.sfz",regex:/\bcurve_index\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_positive"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (curve_index): (any positive integer)"}],"#aria_effects":[{token:"variable.language.effects.$1.sfz",regex:/\bparam_offset\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#int_any"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (param_offset): (any integer)"},{token:"variable.language.effects.$1.sfz",regex:/\bvendor_specific\b/,push:[{token:"meta.opcode.sfz",regex:/\s|$/,next:"pop"},{include:"#string_any_continuous"},{defaultToken:"meta.opcode.sfz"}],comment:"opcodes: (vendor_specific): (any to continuous string)"}],"#float_neg30000-30000":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(-?(?<!\.)\b(?:30000|(?:[0-9]|[1-9][0-9]{1,3}|2[0-9]{4})(?:\.\d*)?)\b)\b/},{token:"invalid.sfz",regex:/(?!=-?(?<!\.)\b(?:30000|(?:[0-9]|[1-9][0-9]{1,3}|2[0-9]{4})(?:\.\d*)?)\b\b)[^\s]*/}],"#float_neg144-48":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(-(?<!\.)(?:144|(?:[1-9]|[1-8][0-9]|9[0-9]|1[0-4][0-3])(?:\.\d*)?)\b|\b(?<!\.)(?:48|(?:[0-9]|[1-3][0-9]|4[0-7])(?:\.\d*)?)\b)/},{token:"invalid.sfz",regex:/(?!=(?:-(?<!\.)(?:144|(?:[1-9]|[1-8][0-9]|9[0-9]|1[0-4][0-3])(?:\.\d*)?)\b|\b(?<!\.)(?:48|(?:[0-9]|[1-3][0-9]|4[0-7])(?:\.\d*)?)\b)).*/}],"#float_neg144-6":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(-(?<!\.)(?:144|(?:[1-9]|[1-8][0-9]|9[0-9]|1[0-4][0-3])(?:\.\d*)?)\b|\b(?<!\.)(?:6|[0-5](?:\.\d*)?\b))/},{token:"invalid.sfz",regex:/(?!=(?:-(?<!\.)(?:144|(?:[1-9]|[1-8][0-9]|9[0-9]|1[0-4][0-3])(?:\.\d*)?)\b|\b(?<!\.)(?:6|[0-5](?:\.\d*)?\b))).*/}],"#float_neg200-200":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(-?(?<!\.)(?:200|(?:[0-9]|[1-9][0-9]{1,2})(?:\.\d*)?))\b/},{token:"invalid.sfz",regex:/(?!=-?(?<!\.)(?:200|(?:[0-9]|[1-9][0-9]{1,2})(?:\.\d*)?)\b)[^\s]*/}],"#float_neg100-100":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(-?(?<!\.)(?:100|(?:[0-9]|[1-9][0-9])(?:\.\d*)?))\b/},{token:"invalid.sfz",regex:/(?!=-?(?<!\.)(?:100|(?:[0-9]|[1-9][0-9])(?:\.\d*)?)\b)[^\s]*/}],"#float_neg96-12":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(-(?<!\.)(?:96|(?:[1-9]|[1-8][0-9]|9[0-5])(?:\.\d*)?)\b|\b(?<!\.)(?:12|(?:[0-9]|1[01])(?:\.\d*)?\b))/},{token:"invalid.sfz",regex:/(?!=(?:-(?<!\.)(?:96|(?:[1-9]|[1-8][0-9]|9[0-5])(?:\.\d*)?)\b|\b(?<!\.)(?:12|(?:[0-9]|1[01])(?:\.\d*)?\b))).*/}],"#float_neg96-24":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(-(?<!\.)(?:96|(?:[1-9]|[1-8][0-9]|9[0-5])(?:\.\d*)?)\b|\b(?<!\.)(?:24|(?:[0-9]|1[0-9]|2[0-3])(?:\.\d*)?\b))/},{token:"invalid.sfz",regex:/(?!=(?:-(?<!\.)(?:96|(?:[1-9]|[1-8][0-9]|9[0-5])(?:\.\d*)?)\b|\b(?<!\.)(?:24|(?:[0-9]|1[0-9]|2[0-3])(?:\.\d*)?\b))).*/}],"#float_neg20-20":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(-?(?<!\.)(?:20|1?[0-9](?:\.\d*)?))\b/},{token:"invalid.sfz",regex:/(?!=-?(?<!\.)(?:20|1?[0-9](?:\.\d*)?)\b)[^\s]*/}],"#float_neg10-10":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(-?(?<!\.)(?:10|[0-9](?:\.\d*)?))\b/},{token:"invalid.sfz",regex:/(?!=-?(?<!\.)(?:10|[0-9](?:\.\d*)?)\b)[^\s]*/}],"#float_neg4-4":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(-?(?<!\.)(?:4|[0-3](?:\.\d*)?))\b/},{token:"invalid.sfz",regex:/(?!=-?(?<!\.)(?:4|[0-3](?:\.\d*)?)\b)[^\s]*/}],"#float_neg1-1":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(-?(?<!\.)(?:1|0(?:\.\d*)?))\b/},{token:"invalid.sfz",regex:/(?!=-?(?<!\.)(?:1|0(?:\.\d*)?)\b)[^\s]*/}],"#float_0-1":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(?<!\.)(1|0(?:\.\d*)?)\b/},{token:"invalid.sfz",regex:/(?!=(?<!\.)(?:1|0(?:\.\d*)?)\b)[^\s]*/}],"#float_0-4":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(?<!\.)(4|[0-3](?:\.\d*)?)\b/},{token:"invalid.sfz",regex:/(?!=(?<!\.)(?:4|[0-3](?:\.\d*)?)\b)[^\s]*/}],"#float_0-20":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(?<!\.)(20|(?:[0-9]|1[0-9])(?:\.\d*)?)\b/},{token:"invalid.sfz",regex:/(?!=(?<!\.)(?:24|(?:[0-9]|1[0-9])(?:\.\d*)?)\b)[^\s]*/}],"#float_0-24":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(?<!\.)(24|(?:[0-9]|1[0-9]|2[0-3])(?:\.\d*)?)\b/},{token:"invalid.sfz",regex:/(?!=(?<!\.)(?:24|(?:[0-9]|1[0-9]|2[0-3])(?:\.\d*)?)\b)[^\s]*/}],"#float_0-32":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(?<!\.)(32|(?:[0-9]|1[0-9]|2[0-9]|3[0-1])(?:\.\d*)?)\b/},{token:"invalid.sfz",regex:/(?!=(?<!\.)(?:32|(?:[0-9]|1[0-9]|2[0-9]|3[0-1])(?:\.\d*)?)\b)[^\s]*/}],"#float_0-40":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(?<!\.)(40|(?:[0-9]|[1-3][0-9])(?:\.\d*)?)\b/},{token:"invalid.sfz",regex:/(?!=(?<!\.)(?:40|(?:[0-9]|[1-3][0-9])(?:\.\d*)?)\b)[^\s]*/}],"#float_0-100":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(?<!\.)(100|(?:[0-9]|[1-9][0-9])(?:\.\d*)?)\b/},{token:"invalid.sfz",regex:/(?!=(?<!\.)(?:100|(?:[0-9]|[1-9][0-9])(?:\.\d*)?)\b)[^\s]*/}],"#float_0-200":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(?<!\.)(200|(?:[0-9]|[1-9][0-9]|1[0-9]{2})(?:\.\d*)?)\b/},{token:"invalid.sfz",regex:/(?!=(?<!\.)(?:200|(?:[0-9]|[1-9][0-9]|1[0-9]{2})(?:\.\d*)?)\b)[^\s]*/}],"#float_0-500":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(?<!\.)(500|(?:[0-9]|[1-8][0-9]|9[0-9]|[1-4][0-9]{2})(?:\.\d*)?)\b/},{token:"invalid.sfz",regex:/(?!=(?<!\.)(?:500|(?:[0-9]|[1-8][0-9]|9[0-9]|[1-4][0-9]{2})(?:\.\d*)?)\b)[^\s]*/}],"#float_0-30000":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(?<!\.)\b(30000|(?:[0-9]|[1-9][0-9]{1,3}|2[0-9]{4})(?:\.\d*)?)\b/},{token:"invalid.sfz",regex:/(?!=(?<!\.)\b(?:30000|(?:[0-9]|[1-9][0-9]{1,3}|2[0-9]{4})(?:\.\d*)?)\b)[^\s]*/}],"#float_positive":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(\d+(?:\.\d*)?)\b/},{token:"invalid.sfz",regex:/(?!=\d+(?:\.\d*)?\b)[^\s]*/}],"#float_any":[{token:["keyword.operator.assignment.sfz","constant.numeric.float.sfz"],regex:/(=)(-?\b\d+(?:\.\d*)?)\b/},{token:"invalid.sfz",regex:/(?!=-?\b\d+(?:\.\d*)?\b)[^\s]*/}],"#int_neg12000-12000":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)(-?\b(?:12000|[0-9]|[1-9][0-9]{1,3}|1[01][0-9]{3}))\b/},{token:"invalid.sfz",regex:/(?!=-?\b(?:12000|[0-9]|[1-9][0-9]{1,3}|1[01][0-9]{3})\b)[^\s]*/}],"#int_neg9600-9600":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)(-?(?:[0-9]|[1-9][0-9]{1,2}|[1-8][0-9]{3}|9[0-5][0-9]{2}|9600))\b/},{token:"invalid.sfz",regex:/(?!=-?(?:[0-9]|[1-9][0-9]{1,2}|[1-8][0-9]{3}|9[0-5][0-9]{2}|9600)\b)[^\s]*/}],"#int_neg8192-8192":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)(-?(?:[0-9]|[1-9][0-9]|[1-9][0-9]{2}|[1-7][0-9]{3}|80[0-9]{2}|81[0-8][0-9]|819[0-2]))\b/},{token:"invalid.sfz",regex:/(?!=-?(?:[0-9]|[1-9][0-9]|[1-9][0-9]{2}|[1-7][0-9]{3}|80[0-9]{2}|81[0-8][0-9]|819[0-2])\b)[^\s]*/}],"#int_neg1200-1200":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)(-?\b(?:1200|[0-9]|[1-9][0-9]{1,2}|1[01][0-9]{2}))\b/},{token:"invalid.sfz",regex:/(?!=-?\b(?:1200|[0-9]|[1-9][0-9]{1,2}|1[01][0-9]{2})\b)[^\s]*/}],"#int_neg100-100":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)(-?\b(?:100|[0-9]|[1-9][0-9]))\b/},{token:"invalid.sfz",regex:/(?!=-?\b(?:100|[0-9]|[1-9][0-9])\b)[^\s]*/}],"#int_neg10-10":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)(-?\b(?:10|[0-9]))\b/},{token:"invalid.sfz",regex:/(?!=-?\b(?:10|[0-9])\b)[^\s]*/}],"#int_neg1-127":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)(-1|[0-9]|[1-8][0-9]|9[0-9]|1[01][0-9]|12[0-7])\b/},{token:"invalid.sfz",regex:/(?!=(?:-1|[0-9]|[1-8][0-9]|9[0-9]|1[01][0-9]|12[0-7])\b)[^\s]*/}],"#int_neg127-127":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)(-?\b(?:[0-9]|[1-8][0-9]|9[0-9]|1[01][0-9]|12[0-7]))\b/},{token:"invalid.sfz",regex:/(?!=-?\b(?:[0-9]|[1-8][0-9]|9[0-9]|1[01][0-9]|12[0-7])\b)[^\s]*/}],"#int_0-127":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)([0-9]|[1-8][0-9]|9[0-9]|1[01][0-9]|12[0-7])\b/},{token:"invalid.sfz",regex:/(?!=(?:[0-9]|[1-8][0-9]|9[0-9]|1[01][0-9]|12[0-7])\b)[^\s]*/}],"#int_0-127_or_string_note":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)((?:[0-9]|[1-8][0-9]|9[0-9]|1[01][0-9]|12[0-7])|[cdefgabCDEFGAB]\#?(?:-1|[0-9]))\b/},{token:"invalid.sfz",regex:/(?!=(?:(?:[0-9]|[1-8][0-9]|9[0-9]|1[01][0-9]|12[0-7])|[cdefgabCDEFGAB]\#?(?:-1|[0-9]))\b)[^\s]*/}],"#int_0-1024":[{token:"constant.numeric.integer.sfz",regex:/=(?:[0-9]|[1-9][0-9]|[1-9][0-9]{2}|10[01][0-9]|102[0-4])\b/},{token:"invalid.sfz",regex:/(?!=(?:[0-9]|[1-9][0-9]|[1-9][0-9]{2}|10[01][0-9]|102[0-4])\b)[^\s]*/}],"#int_0-1200":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)(1200|[0-9]|[1-9][0-9]{1,2}|1[01][0-9{2}])\b/},{token:"invalid.sfz",regex:/(?!=(?:1200|[0-9]|[1-9][0-9]{1,2}|1[01][0-9]{2}])\b)[^\s]*/}],"#int_0-9600":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)([0-9]|[1-9][0-9]{1,2}|[1-8][0-9]{3}|9[0-5][0-9]{2}|9600)\b/},{token:"invalid.sfz",regex:/(?!=(?:[0-9]|[1-9][0-9]{1,2}|[1-8][0-9]{3}|9[0-5][0-9]{2}|9600)\b)[^\s]*/}],"#int_1-16":[{token:"constant.numeric.integer.sfz",regex:/=(?:[1-9]|1[0-6])\b/},{token:"invalid.sfz",regex:/(?!=(?:[1-9]|1[0-6])\b)[^\s]*/}],"#int_1-100":[{token:"constant.numeric.integer.sfz",regex:/=(?:100|[1-9]|[1-9][0-9])\b/},{token:"invalid.sfz",regex:/(?!=(?:100|[1-9]|[1-9][0-9])\b)[^\s]*/}],"#int_1-1200":[{token:"constant.numeric.integer.sfz",regex:/=(?:1200|[0-9]|[1-9][0-9]{1,2}|1[01][0-9]{2})\b/},{token:"invalid.sfz",regex:/(?!=(?:1200|[0-9]|[1-9][0-9]{1,2}|1[01][0-9]{2})\b)[^\s]*/}],"#int_positive":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)(\d+)\b/},{token:"invalid.sfz",regex:/(?:(?!\d+).)*$/}],"#int_positive_or_neg1":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)(-1|\d+)\b/},{token:"invalid.sfz",regex:/(?:(?!(?:-1|\d+)\b).)*$/}],"#int_any":[{token:["keyword.operator.assignment.sfz","constant.numeric.integer.sfz"],regex:/(=)(-?\b\d+)\b/},{token:"invalid.sfz",regex:/(?:(?!-?\b\d+).)*$/}],"#string_add-mult":[{token:["keyword.operator.assignment.sfz","string.unquoted.sfz"],regex:/(=)(add|mult)\b/},{token:"invalid.sfz",regex:/(?!=(?:add|mult)).*/}],"#string_attack-release-first-legato":[{token:["keyword.operator.assignment.sfz","string.unquoted.sfz"],regex:/(=)(attack|release|first|legato)\b/},{token:"invalid.sfz",regex:/(?!=(?:attack|release|first|legato)).*/}],"#string_balance-mma":[{token:["keyword.operator.assignment.sfz","string.unquoted.sfz"],regex:/(=)(balance|mma)\b/},{token:"invalid.sfz",regex:/(?!=(?:balance|mma)).*/}],"#string_current-previous":[{token:["keyword.operator.assignment.sfz","string.unquoted.sfz"],regex:/(=)(current|previous)\b/},{token:"invalid.sfz",regex:/(?!=(?:current|previous)).*/}],"#string_fast-normal-time":[{token:["keyword.operator.assignment.sfz","string.unquoted.sfz"],regex:/(=)(fast|normal|time)\b/},{token:"invalid.sfz",regex:/(?!=(?:fast|normal|time)).*/}],"#string_forward-backward-alternate":[{token:["keyword.operator.assignment.sfz","string.unquoted.sfz"],regex:/(=)(forward|backward|alternate)\b/},{token:"invalid.sfz",regex:/(?!=(?:forward|backward|alternate)).*/}],"#string_forward-reverse":[{token:["keyword.operator.assignment.sfz","string.unquoted.sfz"],regex:/(=)(forward|reverse)\b/},{token:"invalid.sfz",regex:/(?!=(?:forward|reverse)).*/}],"#string_gain-power":[{token:["keyword.operator.assignment.sfz","string.unquoted.sfz"],regex:/(=)(gain|power)\b/},{token:"invalid.sfz",regex:/(?!=(?:gain|power)).*/}],"#string_loop_mode":[{token:["keyword.operator.assignment.sfz","string.unquoted.sfz"],regex:/(=)(no_loop|one_shot|loop_continuous|loop_sustain)\b/},{token:"invalid.sfz",regex:/(?!=(?:no_loop|one_shot|loop_continuous|loop_sustain)).*/}],"#string_lpf-hpf-bpf-brf":[{token:["keyword.operator.assignment.sfz","string.unquoted.sfz"],regex:/(=)(lpf_1p|hpf_1p|lpf_2p|hpf_2p|bpf_2p|brf_2p)\b/},{token:"invalid.sfz",regex:/(?!=(?:lpf_1p|hpf_1p|lpf_2p|hpf_2p|bpf_2p|brf_2p)).*/}],"#string_md5":[{token:["keyword.operator.assignment.sfz","string.unquoted.sfz"],regex:/(=)([abcdef0-9]{32})\b/},{token:"invalid.sfz",regex:/(?!=[abcdef0-9]{32}).*/}],"#string_normal-invert":[{token:["keyword.operator.assignment.sfz","string.unquoted.sfz"],regex:/(=)(normal|invert)\b/},{token:"invalid.sfz",regex:/(?!=(?:normal|invert)).*/}],"#string_on-off":[{token:["keyword.operator.assignment.sfz","string.unquoted.sfz"],regex:/(=)(true|false|on|off|0|1)\b/},{token:"invalid.sfz",regex:/(?!=(?:true|false|on|off|0|1)).*/}],"#string_note":[{token:["keyword.operator.assignment.sfz","string.note.sfz"],regex:/(=)([cdefgabCDEFGAB]\#?(?:-1|[0-9]))\b/},{token:"invalid.sfz",regex:/(?!=[cdefgabCDEFGAB]\#?(?:-1|[0-9])).*/}],"#string_any_continuous":[{token:["keyword.operator.assignment.sfz","string.note.sfz"],regex:/(=)([^\s]+)\b/},{token:"invalid.sfz",regex:/(?!=[^\s]+).*/}]},this.normalizeRules()};r.metaData={$schema:"https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",name:"SFZ",scopeName:"source.sfz"},s.inherits(r,o),t.Q=r},5031:()=>{if(window.customElements){let styles=document.createElement("style");styles.innerHTML="#webaudioctrl-context-menu {\n  display: none;\n  position: absolute;\n  z-index: 10;\n  padding: 0;\n  width: 100px;\n  color:#eee;\n  background-color: #268;\n  border: solid 1px #888;\n  box-shadow: 1px 1px 2px #888;\n  font-family: sans-serif;\n  font-size: 11px;\n  line-height:1.7em;\n  text-align:center;\n  cursor:pointer;\n  color:#fff;\n  list-style: none;\n}\n#webaudioctrl-context-menu.active {\n  display: block;\n}\n.webaudioctrl-context-menu__item {\n  display: block;\n  margin: 0;\n  padding: 0;\n  color: #000;\n  background-color:#eee;\n  text-decoration: none;\n}\n.webaudioctrl-context-menu__title{\n  font-weight:bold;\n}\n.webaudioctrl-context-menu__item:last-child {\n  margin-bottom: 0;\n}\n.webaudioctrl-context-menu__item:hover {\n  background-color: #b8b8b8;\n}\n",document.head.appendChild(styles);let midimenu=document.createElement("ul");midimenu.id="webaudioctrl-context-menu",midimenu.innerHTML='<li class="webaudioctrl-context-menu__title">MIDI Learn</li>\n<li class="webaudioctrl-context-menu__item" id="webaudioctrl-context-menu-learn" onclick="webAudioControlsWidgetManager.contextMenuLearn()">Learn</li>\n<li class="webaudioctrl-context-menu__item" onclick="webAudioControlsWidgetManager.contextMenuClear()">Clear</li>\n<li class="webaudioctrl-context-menu__item" onclick="webAudioControlsWidgetManager.contextMenuClose()">Close</li>\n';let opt={useMidi:0,preserveMidiLearn:0,preserveValue:0,midilearn:0,mididump:0,outline:null,knobSrc:null,knobSprites:null,knobWidth:null,knobHeight:null,knobDiameter:null,knobColors:"#e00;#000;#fff",sliderSrc:null,sliderWidth:null,sliderHeight:null,sliderKnobSrc:null,sliderKnobWidth:null,sliderKnobHeight:null,sliderDitchlength:null,sliderColors:"#e00;#333;#fcc",switchWidth:null,switchHeight:null,switchDiameter:null,switchColors:"#e00;#000;#fcc",paramWidth:null,paramHeight:null,paramFontSize:9,paramColors:"#fff;#000",valuetip:0,xypadColors:"#e00;#000;#fcc"};window.WebAudioControlsOptions&&Object.assign(opt,window.WebAudioControlsOptions);class WebAudioControlsWidget extends HTMLElement{constructor(){super(),this.addEventListener("keydown",this.keydown),this.addEventListener("mousedown",this.pointerdown,{passive:!1}),this.addEventListener("touchstart",this.pointerdown,{passive:!1}),this.addEventListener("wheel",this.wheel,{passive:!1}),this.addEventListener("mouseover",this.pointerover),this.addEventListener("mouseout",this.pointerout),this.addEventListener("contextmenu",this.contextMenu),this.hover=this.drag=0,document.body.appendChild(midimenu),this.basestyle='\n.webaudioctrl-tooltip{\n  display:inline-block;\n  position:absolute;\n  margin:0 -1000px;\n  z-index: 999;\n  background:#eee;\n  color:#000;\n  border:1px solid #666;\n  border-radius:4px;\n  padding:5px 10px;\n  text-align:center;\n  left:0; top:0;\n  font-size:11px;\n  opacity:0;\n  visibility:hidden;\n}\n.webaudioctrl-tooltip:before{\n  content: "";\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -8px;\n  border: 8px solid transparent;\n  border-top: 8px solid #666;\n}\n.webaudioctrl-tooltip:after{\n  content: "";\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -6px;\n  border: 6px solid transparent;\n  border-top: 6px solid #eee;\n}\n',this.onblur=()=>{this.elem.style.outline="none"},this.onfocus=()=>{switch(+this.outline){case null:case 0:this.elem.style.outline="none";break;case 1:this.elem.style.outline="1px solid #444";break;default:this.elem.style.outline=this.outline}}}sendEvent(e){let t;t=document.createEvent("HTMLEvents"),t.initEvent(e,!1,!0),this.dispatchEvent(t)}getAttr(e,t){let i=this.getAttribute(e);return null==i?t:"number"==typeof t?"true"==i?1:(i=+i,isNaN(i)?0:i):i}showtip(e){let t=this.tooltip;if((this.drag||this.hover)&&(this.valuetip&&(null==t?t="%s":t.indexOf("%")<0&&(t+=" : %s")),t)){this.ttframe.innerHTML=function(e,t){let i=e.indexOf("%"),n=i+1;i<0&&(n=e.length);let s=[0,0],o=0,r=0,a="";if(e.indexOf("%s")>=0)return e.replace("%s",t);for(;n<e.length;++n){if("dfxXs".indexOf(e[n])>=0){o=e[n];break}"."==e[n]?r=1:s[r]=10*s[r]+parseInt(e[n])}return a=function(e,t,i){switch(i){case"x":return(0|e).toString(16);case"X":return(0|e).toString(16).toUpperCase();case"d":return(0|e).toString();case"f":return parseFloat(e).toFixed(t);case"s":return e.toString()}return""}(t,s[1],o),s[0]>0&&(a=("               "+a).slice(-s[0])),a=e.replace(/%.*[xXdfs]/,a),a}(t,this.convValue),this.ttframe.style.display="inline-block",this.ttframe.style.width="auto",this.ttframe.style.height="auto",this.ttframe.style.transition="opacity 0.5s "+e+"s,visibility 0.5s "+e+"s",this.ttframe.style.opacity=.9,this.ttframe.style.visibility="visible";let i=this.getBoundingClientRect(),n=this.ttframe.getBoundingClientRect();return document.documentElement.getBoundingClientRect(),this.ttframe.style.left=.5*(i.width-n.width)+1e3+"px",void(this.ttframe.style.top=-n.height-8+"px")}this.ttframe.style.transition="opacity 0.1s "+e+"s,visibility 0.1s "+e+"s",this.ttframe.style.opacity=0,this.ttframe.style.visibility="hidden"}setupLabel(){this.labelpos=this.getAttr("labelpos","bottom 0px");const e=this.labelpos.split(" ");let t="";switch(3==e.length&&(t=`translate(${e[1]},${e[2]})`),this.label.style.position="absolute",e[0]){case"center":this.label.style.top="50%",this.label.style.left="50%",this.label.style.transform=`translate(-50%,-50%) ${t}`;break;case"right":this.label.style.top="50%",this.label.style.left="100%",this.label.style.transform=`translateY(-50%) ${t}`;break;case"left":this.label.style.top="50%",this.label.style.left="0%",this.label.style.transform=`translate(-100%,-50%) ${t}`;break;case"bottom":this.label.style.top="100%",this.label.style.left="50%",this.label.style.transform=`translateX(-50%) ${t}`;break;case"top":this.label.style.top="0%",this.label.style.left="50%",this.label.style.transform=`translate(-50%,-100%) ${t}`}}pointerover(e){this.hover=1,this.showtip(.6)}pointerout(e){this.hover=0,this.showtip(0)}contextMenu(e){window.webAudioControlsWidgetManager&&this.midilearn&&webAudioControlsWidgetManager.contextMenuOpen(e,this),e.preventDefault(),e.stopPropagation()}setMidiController(e,t){this.listeningToThisMidiController(e,t)||(this.midiController={channel:e,cc:t},console.log("Added mapping for channel="+e+" cc="+t+" tooltip="+this.tooltip))}listeningToThisMidiController(e,t){const i=this.midiController;return(i.channel===e||i.channel<0)&&i.cc===t}processMidiEvent(e){const t=15&e.data[0],i=e.data[1];if("learn"==this.midiMode&&(this.setMidiController(t,i),webAudioControlsWidgetManager.contextMenuClose(),this.midiMode="normal",webAudioControlsWidgetManager.preserveMidiLearn()),this.listeningToThisMidiController(t,i))if("WEBAUDIO-SWITCH"==this.tagName)switch(this.type){case"toggle":e.data[2]>=64&&this.setValue(1-this.value,!0);break;case"kick":this.setValue(e.data[2]>=64?1:0);break;case"radio":let t=document.querySelectorAll("webaudio-switch[type='radio'][group='"+this.group+"']");for(let e=0;e<t.length;++e)t[e]==this?t[e].setValue(1):t[e].setValue(0)}else{const t=this.min+(this.max-this.min)*e.data[2]/127;this.setValue(t,!0)}}}try{customElements.define("webaudio-knob",class WebAudioKnob extends WebAudioControlsWidget{constructor(){super()}connectedCallback(){let root;if(root=this.attachShadow?this.attachShadow({mode:"open"}):this,root.innerHTML=`<style>\n${this.basestyle}\n:host{\n  display:inline-block;\n  margin:0;\n  padding:0;\n  cursor:pointer;\n  font-family: sans-serif;\n  font-size: 11px;\n}\n.webaudio-knob-body{\n  display:inline-block;\n  position:relative;\n  margin:0;\n  padding:0;\n  vertical-align:bottom;\n  white-space:pre;\n}\n</style>\n<div class='webaudio-knob-body' tabindex='1' touch-action='none'><div class='webaudioctrl-tooltip'></div><div part="label" class="webaudioctrl-label"><slot></slot></div></div>\n`,this.elem=root.childNodes[2],this.ttframe=this.elem.firstChild,this.label=this.ttframe.nextSibling,this.enable=this.getAttr("enable",1),this._src=this.getAttr("src",opt.knobSrc),this.hasOwnProperty("src")||Object.defineProperty(this,"src",{get:()=>this._src,set:e=>{this._src=e,this.setupImage()}}),this._value=this.getAttr("value",0),this.hasOwnProperty("value")||Object.defineProperty(this,"value",{get:()=>this._value,set:e=>{this._value=e,this.redraw()}}),this.defvalue=this.getAttr("defvalue",this._value),this._min=this.getAttr("min",0),this.hasOwnProperty("min")||Object.defineProperty(this,"min",{get:()=>this._min,set:e=>{this._min=+e,this.redraw()}}),this._max=this.getAttr("max",100),this.hasOwnProperty("max")||Object.defineProperty(this,"max",{get:()=>this._max,set:e=>{this._max=+e,this.redraw()}}),this._step=this.getAttr("step",1),this.hasOwnProperty("step")||Object.defineProperty(this,"step",{get:()=>this._step,set:e=>{this._step=+e,this.redraw()}}),this._sprites=this.getAttr("sprites",opt.knobSprites),this.hasOwnProperty("sprites")||Object.defineProperty(this,"sprites",{get:()=>this._sprites,set:e=>{this._sprites=e,this.setupImage()}}),this._width=this.getAttr("width",null),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:e=>{this._width=e,this.setupImage()}}),this._height=this.getAttr("height",null),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:e=>{this._height=e,this.setupImage()}}),this._diameter=this.getAttr("diameter",null),this.hasOwnProperty("diameter")||Object.defineProperty(this,"diameter",{get:()=>this._diameter,set:e=>{this._diameter=e,this.setupImage()}}),this._colors=this.getAttr("colors",opt.knobColors),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:e=>{this._colors=e,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.setupLabel(),this.log=this.getAttr("log",0),this.sensitivity=this.getAttr("sensitivity",1),this.valuetip=this.getAttr("valuetip",opt.valuetip),this.tooltip=this.getAttr("tooltip",null),this.conv=this.getAttr("conv",null),this.conv){const x=this._value;this.convValue=eval(this.conv),"function"==typeof this.convValue&&(this.convValue=this.convValue(x))}else this.convValue=this._value;if(this.midilearn=this.getAttr("midilearn",opt.midilearn),this.midicc=this.getAttr("midicc",null),this.midiController={},this.midiMode="normal",this.midicc){let e=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,t=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(e,t)}if(this.midilearn&&this.id&&webAudioControlsWidgetManager&&webAudioControlsWidgetManager.midiLearnTable){const e=webAudioControlsWidgetManager.midiLearnTable;for(let t=0;t<e.length;++t)if(e[t].id==this.id){this.setMidiController(e[t].cc.channel,e[t].cc.cc);break}}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(let e=this.step;e<1;e*=10)++this.digits;this._setValue(this._value),this.coltab=["#e00","#000","#000"],window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this)}disconnectedCallback(){}setupImage(){if(this.kw=this._width||this._diameter||opt.knobWidth||opt.knobDiameter,this.kh=this._height||this._diameter||opt.knobHeight||opt.knobDiameter,!this.src){this.colors&&(this.coltab=this.colors.split(";")),this.coltab||(this.coltab=["#e00","#000","#000"]);let e=`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="6464" preserveAspectRatio="none">\n<defs>\n  <filter id="f1">\n    <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" />\n  </filter>\n  <radialGradient id="g1" cx="50%" cy="10%">\n    <stop offset="0%" stop-color="${this.coltab[2]}"/>\n    <stop offset="100%" stop-color="${this.coltab[1]}"/>\n  </radialGradient>\n  <linearGradient id="g2" x1="0%" y1="0%" x2="0%" y2="100%">\n    <stop offset="0%" stop-color="#000" stop-opacity="0"/>\n    <stop offset="100%" stop-color="#000" stop-opacity="0.3"/>\n  </linearGradient>\n  <g id="B">\n    <circle cx="32" cy="32" r="31" fill="#000"/>\n    <circle cx="32" cy="32" r="29" fill="url(#g1)"/>\n    <circle cx="32" cy="32" r="29" fill="url(#g2)"/>\n    <circle cx="32" cy="32" r="25" fill="${this.coltab[1]}" filter="url(#f1)"/>\n    <circle cx="32" cy="32" r="29" fill="url(#g2)"/>\n  </g>\n  <line id="K" x1="32" y1="25" x2="32" y2="11" stroke-linecap="round" stroke-width="6" stroke="${this.coltab[0]}"/>\n</defs>`;for(let t=0;t<101;++t)e+=`<use href="#B" y="${64*t}"/><use href="#K" y="${64*t}" transform="rotate(${(270*t/101-135).toFixed(2)},32,${64*t+32})"/>`;return e+="</svg>",this.elem.style.backgroundImage="url(data:image/svg+xml;base64,"+btoa(e)+")",null==this.kw&&(this.kw=64),null==this.kh&&(this.kh=64),this.elem.style.backgroundSize=`${this.kw}px ${101*this.kh}px`,this.elem.style.width=this.kw+"px",this.elem.style.height=this.kh+"px",this.style.height=this.kh+"px",this.fireflag=!0,void this.redraw()}this.img=new Image,this.img.onload=()=>{this.elem.style.backgroundImage="url("+this.src+")",null==this._sprites?this._sprites=this.img.height/this.img.width-1:this._sprites=+this._sprites,null==this.kw&&(this.kw=this.img.width),null==this.kh&&(this.kh=this.img.height/(this.sprites+1)),this.sprites?this.elem.style.backgroundSize=`${this.kw}px ${this.kh*(this.sprites+1)}px`:this.elem.style.backgroundSize="100% 100%",this.elem.style.width=this.kw+"px",this.elem.style.height=this.kh+"px",this.style.height=this.kh+"px",this.redraw()},this.img.src=this.src}redraw(){let e;if(this.digits=0,this.step&&this.step<1)for(let e=this.step;e<1;e*=10)++this.digits;this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),e=this.log?Math.log(this.value/this.min)/Math.log(this.max/this.min):(this.value-this.min)/(this.max-this.min);let t=this.elem.style,i=this.src?this.sprites:100;if(i>=1){let n=i*e|0;t.backgroundPosition="0px "+-n*this.kh+"px",t.transform="rotate(0deg)"}else{let i=270*(e-.5);t.backgroundPosition="0px 0px",t.transform="rotate("+i+"deg)"}}_setValue(v){if(this.step&&(v=Math.round((v-this.min)/this.step)*this.step+this.min),this._value=Math.min(this.max,Math.max(this.min,v)),this._value!=this.oldvalue){if(this.fireflag=!0,this.oldvalue=this._value,this.conv){const x=this._value;this.convValue=eval(this.conv),"function"==typeof this.convValue&&(this.convValue=this.convValue(x))}else this.convValue=this._value;return"number"==typeof this.convValue&&(this.convValue=this.convValue.toFixed(this.digits)),this.redraw(),this.showtip(0),1}return 0}setValue(e,t){this._setValue(e)&&t&&(this.sendEvent("input"),this.sendEvent("change"))}keydown(e){const t=this.step;switch(0==t&&(t=1),e.key){case"ArrowUp":this.setValue(this.value+t,!0);break;case"ArrowDown":this.setValue(this.value-t,!0);break;default:return}e.preventDefault(),e.stopPropagation()}wheel(e){if(this.enable){if(this.log){let t=Math.log(this.value/this.min)/Math.log(this.max/this.min),i=e.deltaY>0?-.01:.01;e.shiftKey||(i*=5),t+=i,this.setValue(this.min*Math.pow(this.max/this.min,t),!0)}else{let t=Math.max(this.step,.05*(this.max-this.min));e.shiftKey&&(t=this.step?this.step:1),t=e.deltaY>0?-t:t,this.setValue(+this.value+t,!0)}e.preventDefault(),e.stopPropagation()}}pointerdown(e){if(!this.enable)return;let t=e;if(e.touches)t=e.changedTouches[0],this.identifier=t.identifier;else if(1!=t.buttons&&0!=t.button)return;this.elem.focus(),this.drag=1,this.showtip(0),this.oldvalue=this._value;let i=e=>{let t=e;if(e.touches)for(let i=0;i<e.touches.length;++i)if(e.touches[i].identifier==this.identifier){t=e.touches[i];break}this.lastShift!==t.shiftKey&&(this.lastShift=t.shiftKey,this.startPosX=t.pageX,this.startPosY=t.pageY,this.startVal=this.value);let i=(this.startPosY-t.pageY-this.startPosX+t.pageX)*this.sensitivity;if(this.log){let e=Math.log(this.startVal/this.min)/Math.log(this.max/this.min);e+=i/(128*(t.shiftKey?4:1)),e<0&&(e=0),e>1&&(e=1),this._setValue(this.min*Math.pow(this.max/this.min,e))}else this._setValue(this.min+((this.startVal+(this.max-this.min)*i/(128*(t.shiftKey?4:1))-this.min)/this.step|0)*this.step);return this.fireflag&&(this.sendEvent("input"),this.fireflag=!1),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},n=e=>{if(e.touches)for(let t=0;e.changedTouches[t].identifier!=this.identifier;)if(++t>=e.changedTouches.length)return;this.drag=0,this.showtip(0),this.startPosX=this.startPosY=null,window.removeEventListener("mousemove",i),window.removeEventListener("touchmove",i,{passive:!1}),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),window.removeEventListener("touchcancel",n),document.body.removeEventListener("touchstart",s,{passive:!1}),this.sendEvent("change")},s=e=>{e.preventDefault()};return t.ctrlKey||t.metaKey?this.setValue(this.defvalue,!0):(this.startPosX=t.pageX,this.startPosY=t.pageY,this.startVal=this.value,window.addEventListener("mousemove",i),window.addEventListener("touchmove",i,{passive:!1})),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),window.addEventListener("touchcancel",n),document.body.addEventListener("touchstart",s,{passive:!1}),e.preventDefault(),e.stopPropagation(),!1}})}catch(e){console.log("webaudio-knob already defined")}try{customElements.define("webaudio-slider",class WebAudioSlider extends WebAudioControlsWidget{constructor(){super()}connectedCallback(){let root;if(root=this.attachShadow?this.attachShadow({mode:"open"}):this,root.innerHTML=`<style>\n${this.basestyle}\n:host{\n  display:inline-block;\n  position:relative;\n  margin:0;\n  padding:0;\n  font-family: sans-serif;\n  font-size: 11px;\n  cursor:pointer;\n}\n.webaudio-slider-body{\n  display:inline-block;\n  position:relative;\n  margin:0;\n  padding:0;\n  vertical-align:bottom;\n  white-space:pre;\n}\n.webaudio-slider-knob{\n  display:inline-block;\n  position:absolute;\n  margin:0;\n  padding:0;\n}\n</style>\n<div class='webaudio-slider-body' tabindex='1' touch-action='none'><div class='webaudio-slider-knob' touch-action='none'></div><div class='webaudioctrl-tooltip'></div><div part="label" class="webaudioctrl-label"><slot></slot></div></div>\n`,this.elem=root.childNodes[2],this.knob=this.elem.firstChild,this.ttframe=this.knob.nextSibling,this.label=this.ttframe.nextSibling,this.enable=this.getAttr("enable",1),this.tracking=this.getAttr("tracking","rel"),this._src=this.getAttr("src",opt.sliderSrc),this.hasOwnProperty("src")||Object.defineProperty(this,"src",{get:()=>this._src,set:e=>{this._src=e,this.setupImage()}}),this._knobsrc=this.getAttr("knobsrc",opt.sliderKnobSrc),this.hasOwnProperty("knobsrc")||Object.defineProperty(this,"knobsrc",{get:()=>this._knobsrc,set:e=>{this._knobsrc=e,this.setupImage()}}),this._value=this.getAttr("value",0),this.hasOwnProperty("value")||Object.defineProperty(this,"value",{get:()=>this._value,set:e=>{this._value=e,this.redraw()}}),this.defvalue=this.getAttr("defvalue",this._value),this._min=this.getAttr("min",0),this.hasOwnProperty("min")||Object.defineProperty(this,"min",{get:()=>this._min,set:e=>{this._min=e,this.redraw()}}),this._max=this.getAttr("max",100),this.hasOwnProperty("max")||Object.defineProperty(this,"max",{get:()=>this._max,set:e=>{this._max=e,this.redraw()}}),this._step=this.getAttr("step",1),this.hasOwnProperty("step")||Object.defineProperty(this,"step",{get:()=>this._step,set:e=>{this._step=e,this.redraw()}}),this._sprites=this.getAttr("sprites",0),this.hasOwnProperty("sprites")||Object.defineProperty(this,"sprites",{get:()=>this._sprites,set:e=>{this._sprites=e,this.setupImage()}}),this._direction=this.getAttr("direction",null),this.hasOwnProperty("direction")||Object.defineProperty(this,"direction",{get:()=>this._direction,set:e=>{this._direction=e,this.setupImage()}}),this.log=this.getAttr("log",0),this._width=this.getAttr("width",opt.sliderWidth),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:e=>{this._width=e,this.setupImage()}}),this._height=this.getAttr("height",opt.sliderHeight),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:e=>{this._height=e,this.setupImage()}}),this._knobwidth=this.getAttr("knobwidth",opt.sliderKnobWidth),this.hasOwnProperty("knobwidth")||Object.defineProperty(this,"knobwidth",{get:()=>this._knobwidth,set:e=>{this._knobwidth=e,this.setupImage()}}),this._knobheight=this.getAttr("knobheight",opt.sliderKnobHeight),this.hasOwnProperty("knobheight")||Object.defineProperty(this,"knobheight",{get:()=>this._knobheight,set:e=>{this._knobheight=e,this.setupImage()}}),this._ditchlength=this.getAttr("ditchlength",opt.sliderDitchlength),this.hasOwnProperty("ditchlength")||Object.defineProperty(this,"ditchlength",{get:()=>this._ditchlength,set:e=>{this._ditchlength=e,this.setupImage()}}),this._colors=this.getAttr("colors",opt.sliderColors),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:e=>{this._colors=e,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.setupLabel(),this.sensitivity=this.getAttr("sensitivity",1),this.valuetip=this.getAttr("valuetip",opt.valuetip),this.tooltip=this.getAttr("tooltip",null),this.conv=this.getAttr("conv",null),this.conv){const x=this._value;this.convValue=eval(this.conv),"function"==typeof this.convValue&&(this.convValue=this.convValue(x))}else this.convValue=this._value;if(this.midilearn=this.getAttr("midilearn",opt.midilearn),this.midicc=this.getAttr("midicc",null),this.midiController={},this.midiMode="normal",this.midicc){let e=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,t=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(e,t)}if(this.midilearn&&this.id&&webAudioControlsWidgetManager&&webAudioControlsWidgetManager.midiLearnTable){const e=webAudioControlsWidgetManager.midiLearnTable;for(let t=0;t<e.length;++t)if(e[t].id==this.id){this.setMidiController(e[t].cc.channel,e[t].cc.cc);break}}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(let e=this.step;e<1;e*=10)++this.digits;this.fireflag=!0,window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this),this.elem.onclick=e=>{e.stopPropagation()}}disconnectedCallback(){}setupImage(){if(this.coltab=this.colors.split(";"),this.bodyimg=new Image,this.knobimg=new Image,this.srcurl=null,null==this.src||""==this.src){this.sw=+this._width,this.sh=+this.height,"horz"==this._direction?(null==this._width&&(this.sw=128),null==this._height&&(this.sh=24)):"vert"==this._direction?(null==this._width&&(this.sw=24),null==this._height&&(this.sh=128)):(null==this._width&&(this.sw=128),null==this._height&&(this.sh=24));const e=.5*Math.min(this.sw,this.sh),t=`<svg xmlns="http://www.w3.org/2000/svg" width="${this.sw}" height="${this.sh}" preserveAspectRatio="none">\n<defs>\n  <filter id="f1">\n    <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" />\n  </filter>\n  <linearGradient id="g1" x1="0%" y1="0%" ${this.sw>this.sh?'x2="0%" y2="100%"':'x2="100%" y2="0%"'}>\n    <stop offset="0%" stop-color="#000" stop-opacity="0"/>\n    <stop offset="100%" stop-color="#000" stop-opacity="0.3"/>\n  </linearGradient>\n</defs>\n<rect x="1" y="1" rx="${e}" ry="${e}" width="${this.sw-2}" height="${this.sh-2}" fill="#000"/>\n<rect x="3" y="3" rx="${e}" ry="${e}" width="${this.sw-6}" height="${this.sh-6}" fill="${this.coltab[1]}" filter="url(#f1)"/>\n<rect x="1" y="1" rx="${e}" ry="${e}" width="${this.sw-2}" height="${this.sh-2}" fill="url(#g1)"/>\n</svg>`;this.srcurl="data:image/svg+xml;base64,"+btoa(t)}else this.srcurl=this.src;this.bodyimg.onload=()=>{if(""!=this.src&&(this.elem.style.backgroundImage="url("+this.srcurl+")"),this.sw=+this._width,this.sh=+this._height,null==this._width&&(this.sw=this.bodyimg.width),null==this._height&&(this.sh=this.bodyimg.height),null==this.dr&&(this.sw>this.sh?this.dr="horz":this.dr="vert"),this.kw=+this._knobwidth,this.kh=+this._knobheight,null==this._knobsrc){null==this._knobwidth&&(this.kw=Math.min(this.sw,this.sh)),null==this._knobheight&&(this.kh=Math.min(this.sw,this.sh));const e=.5*Math.min(this.kw,this.kh),t=Math.max(1,this.kw-12),i=Math.max(1,this.kh-12),n=`<svg xmlns="http://www.w3.org/2000/svg" width="${this.kw}" height="${this.kh}" preserveAspectRatio="none">\n<defs>\n  <filter id="f1">\n    <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" />\n  </filter>\n  <linearGradient id="g1" x1="0%" y1="0%" x2="0%" y2="100%">\n    <stop offset="0%" stop-color="${this.coltab[2]}"/>\n    <stop offset="50%" stop-color="${this.coltab[0]}"/>\n    <stop offset="100%" stop-color="${this.coltab[0]}" stop-opacity="0.5"/>\n  </linearGradient>\n  <linearGradient id="g2" x1="0%" y1="0%" x2="0%" y2="100%">\n    <stop offset="0%" stop-color="${this.coltab[0]}"/>\n    <stop offset="100%" stop-color="${this.coltab[0]}"/>\n  </linearGradient>\n  <linearGradient id="g3" x1="0%" y1="0%" x2="0%" y2="100%">\n    <stop offset="0%" stop-color="#000" stop-opacity="0"/>\n    <stop offset="100%" stop-color="#000" stop-opacity="0.3"/>\n  </linearGradient>\n</defs>\n<rect x="2" y="2" width="${this.kw-4}" height="${this.kh-4}" rx="${e}" ry="${e}" fill="#000"/>\n<rect x="3" y="3" width="${this.kw-6}" height="${this.kh-6}" rx="${e}" ry="${e}" fill="url(#g1)"/>\n<rect x="6" y="6" width="${t}" height="${i}" rx="${e}" ry="${e}" fill="url(#g2)" filter="url(#f1)"/>\n<rect x="3" y="3" width="${this.kw-6}" height="${this.kh-6}" rx="${e}" ry="${e}" fill="url(#g3)"/>\n</svg>`;this.knobsrcurl="data:image/svg+xml;base64,"+btoa(n)}else this.knobsrcurl=this.knobsrc;this.knobimg.onload=()=>{this.knob.style.backgroundImage="url("+this.knobsrcurl+")",null==this._knobwidth&&(this.kw=this.knobimg.width),null==this._knobheight&&(this.kh=this.knobimg.height),this.dlen=this.ditchlength,null==this.dlen&&("horz"==this.dr?this.dlen=this.sw-this.kw:this.dlen=this.sh-this.kh),this.knob.style.backgroundSize="100% 100%",this.knob.style.width=this.kw+"px",this.knob.style.height=this.kh+"px",this.elem.style.backgroundSize="100% 100%",this.elem.style.width=this.sw+"px",this.elem.style.height=this.sh+"px",this.redraw()},this.knobimg.src=this.knobsrcurl},this.bodyimg.src=this.srcurl}redraw(){let e;if(this.digits=0,this.step&&this.step<1)for(let e=this.step;e<1;e*=10)++this.digits;this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),e=this.log?Math.log(this.value/this.min)/Math.log(this.max/this.min):(this.value-this.min)/(this.max-this.min);let t=this.knob.style;"horz"==this.dr?(t.top=.5*(this.sh-this.kh)+"px",t.left=.5*(this.sw-this.kw-this.dlen)+e*this.dlen+"px",this.sensex=1,this.sensey=0):(t.left=.5*(this.sw-this.kw)+"px",t.top=.5*(this.sh-this.kh-this.dlen)+(1-e)*this.dlen+"px",this.sensex=0,this.sensey=1)}_setValue(v){if(v=Math.round((v-this.min)/this.step)*this.step+this.min,this._value=Math.min(this.max,Math.max(this.min,v)),this._value!=this.oldvalue){if(this.oldvalue=this._value,this.fireflag=!0,this.conv){const x=this._value;this.convValue=eval(this.conv),"function"==typeof this.convValue&&(this.convValue=this.convValue(x))}else this.convValue=this._value;return"number"==typeof this.convValue&&(this.convValue=this.convValue.toFixed(this.digits)),this.redraw(),this.showtip(0),1}return 0}setValue(e,t){this._setValue(e)&&t&&(this.sendEvent("input"),this.sendEvent("change"))}keydown(e){const t=this.step;switch(0==t&&(t=1),e.key){case"ArrowUp":this.setValue(this.value+t,!0);break;case"ArrowDown":this.setValue(this.value-t,!0);break;default:return}e.preventDefault(),e.stopPropagation()}wheel(e){if(this.enable){if(this.log){let t=Math.log(this.value/this.min)/Math.log(this.max/this.min),i=e.deltaY>0?-.01:.01;e.shiftKey||(i*=5),t+=i,this.setValue(this.min*Math.pow(this.max/this.min,t),!0)}else{let t=Math.max(this.step,.05*(this.max-this.min));e.shiftKey&&(t=this.step?this.step:1),t=e.deltaY>0?-t:t,this.setValue(+this.value+t,!0)}e.preventDefault(),e.stopPropagation()}}pointerdown(e){if(!this.enable)return;let t=e;if(e.touches)t=e.changedTouches[0],this.identifier=t.identifier;else if(1!=t.buttons&&0!=t.button)return;this.elem.focus(),this.drag=1,this.showtip(0);let i=e=>{let t=e;if(e.touches)for(let i=0;i<e.touches.length;++i)if(e.touches[i].identifier==this.identifier){t=e.touches[i];break}if(this.lastShift!==t.shiftKey&&(this.lastShift=t.shiftKey,this.startPosX=t.pageX,this.startPosY=t.pageY,this.startVal=this.value),"abs"==this.tracking){const e=this.getBoundingClientRect();let i;i="horz"==this.dr?Math.max(0,Math.min(1,(t.pageX-e.left-window.pageXOffset-.5*this.kw)/(this.width-this.kw))):1-Math.max(0,Math.min(1,(t.pageY-e.top-window.pageYOffset-.5*this.kh)/(this.height-this.kh))),this.log?this._setValue(this.min*Math.pow(this.max/this.min,i)):this._setValue(this.min+(this.max-this.min)*i)}else{let e=((this.startPosY-t.pageY)*this.sensey-(this.startPosX-t.pageX)*this.sensex)*this.sensitivity;if(this.log){let i=Math.log(this.startVal/this.min)/Math.log(this.max/this.min);i+=e/(128*(t.shiftKey?4:1)),i<0&&(i=0),i>1&&(i=1),this._setValue(this.min*Math.pow(this.max/this.min,i))}else this._setValue(this.min+((this.startVal+(this.max-this.min)*e/((t.shiftKey?4:1)*this.dlen)-this.min)/this.step|0)*this.step)}return this.fireflag&&(this.sendEvent("input"),this.fireflag=!1),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},n=e=>{if(e.touches)for(let t=0;e.changedTouches[t].identifier!=this.identifier;)if(++t>=e.changedTouches.length)return;this.drag=0,this.showtip(0),this.startPosX=this.startPosY=null,window.removeEventListener("mousemove",i),window.removeEventListener("touchmove",i,{passive:!1}),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),window.removeEventListener("touchcancel",n),document.body.removeEventListener("touchstart",s,{passive:!1}),this.sendEvent("change")},s=e=>{e.preventDefault()};return t.touches&&(t=t.touches[0]),t.ctrlKey||t.metaKey?this.setValue(this.defvalue,!0):(this.startPosX=t.pageX,this.startPosY=t.pageY,this.startVal=this.value,window.addEventListener("mousemove",i),window.addEventListener("touchmove",i,{passive:!1}),i(e)),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),window.addEventListener("touchcancel",n),document.body.addEventListener("touchstart",s,{passive:!1}),t.preventDefault(),t.stopPropagation(),!1}})}catch(e){console.log("webaudio-slider already defined")}try{customElements.define("webaudio-switch",class extends WebAudioControlsWidget{constructor(){super()}connectedCallback(){let e;if(e=this.attachShadow?this.attachShadow({mode:"open"}):this,e.innerHTML=`<style>\n${this.basestyle}\n:host{\n  display:inline-block;\n  position:relative;\n  margin:0;\n  padding:0;\n  font-family: sans-serif;\n  font-size: 11px;\n  cursor:pointer;\n}\n.webaudio-switch-body{\n  display:inline-block;\n  position:relative;\n  margin:0;\n  padding:0;\n  vertical-align:bottom;\n  white-space:pre;\n}\n.webaudioctrl-label{\n  position:absolute;\n  left:50%;\n  top:50%;\n}\n</style>\n<div class='webaudio-switch-body' tabindex='1' touch-action='none'><div class='webaudioctrl-tooltip'></div><div part="label" class="webaudioctrl-label"><slot></slot></div></div>\n`,this.elem=e.childNodes[2],this.ttframe=this.elem.firstChild,this.label=this.ttframe.nextSibling,this.enable=this.getAttr("enable",1),this._src=this.getAttr("src",null),this.hasOwnProperty("src")||Object.defineProperty(this,"src",{get:()=>this._src,set:e=>{this._src=e,this.setupImage()}}),this._value=this.getAttr("value",0),this.hasOwnProperty("value")||Object.defineProperty(this,"value",{get:()=>this._value,set:e=>{this._value=e,this.redraw()}}),this.defvalue=this.getAttr("defvalue",this._value),this.type=this.getAttr("type","toggle"),this.group=this.getAttr("group",""),this._width=this.getAttr("width",null),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:e=>{this._width=e,this.setupImage()}}),this._height=this.getAttr("height",null),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:e=>{this._height=e,this.setupImage()}}),this._diameter=this.getAttr("diameter",null),this.hasOwnProperty("diameter")||Object.defineProperty(this,"diameter",{get:()=>this._diameter,set:e=>{this._diameter=e,this.setupImage()}}),this.invert=this.getAttr("invert",0),this._colors=this.getAttr("colors",opt.switchColors),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:e=>{this._colors=e,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.setupLabel(),this.valuetip=0,this.tooltip=this.getAttr("tooltip",null),this.midilearn=this.getAttr("midilearn",opt.midilearn),this.midicc=this.getAttr("midicc",null),this.midiController={},this.midiMode="normal",this.midicc){let e=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,t=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(e,t)}if(this.midilearn&&this.id&&webAudioControlsWidgetManager&&webAudioControlsWidgetManager.midiLearnTable){const e=webAudioControlsWidgetManager.midiLearnTable;for(let t=0;t<e.length;++t)if(e[t].id==this.id){this.setMidiController(e[t].cc.channel,e[t].cc.cc);break}}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(let e=this.step;e<1;e*=10)++this.digits;window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this),this.elem.onclick=e=>{e.stopPropagation()}}disconnectedCallback(){}setupImage(){if(this.coltab=this.colors.split(";"),this.kw=this._width||this._diameter||opt.switchWidth||opt.switchDiameter,this.kh=this._height||this._diameter||opt.switchHeight||opt.switchDiameter,this.img=new Image,this.srcurl=null,null==this.src||""==this.src){null==this.kw&&(this.kw=32),null==this.kh&&(this.kh=32);const e=Math.min(this.kw,this.kh),t=this.kw,i=this.kh,n=`<svg xmlns="http://www.w3.org/2000/svg" width="${this.kw}" height="${2*this.kh}" preserveAspectRatio="none">\n<defs>\n<linearGradient id="g1" x1="0%" y1="0%" x2="0%" y2="100%">\n  <stop offset="0%" stop-color="#000" stop-opacity="0"/>\n  <stop offset="100%" stop-color="#000" stop-opacity="0.2"/>\n</linearGradient>\n<radialGradient id="g2" cx="50%" cy="30%">\n    <stop offset="0%" stop-color="${this.coltab[2]}"/>\n    <stop offset="100%" stop-color="${this.coltab[0]}"/>\n  </radialGradient>\n  <filter id="f1">\n    <feGaussianBlur in="SourceGraphic" stdDeviation=".4" />\n  </filter>\n</defs>\n<g id="p1">\n  <rect x="${.075*t}" y="${.075*i}" width="${.85*t}" height="${.85*i}" rx="${.1*e}" ry="${.1*e}" fill="#000"/>\n  <rect x="${.1*t}" y="${.1*i}" width="${.8*t}" height="${.8*i}" rx="${.1*e}" ry="${.1*e}" fill="${this.coltab[1]}"/>\n</g>\n<g id="p2">\n  <circle cx="${.5*t}" cy="${.5*i}" r="${.35*e}" stroke="#000" stroke-width="${.03*e}" fill="${this.coltab[0]}" filter="url(#f1)"/>\n  <circle cx="${.5*t}" cy="${.5*i}" r="${.27*e}" stroke="#000" stroke-width="${.03*e}" fill="#000" filter="url(#f1)"/>\n  <rect x="${.075*t}" y="${.075*i}" width="${.85*t}" height="${.85*i}" rx="${.1*e}" ry="${.1*e}" fill="url(#g1)"/>\n</g>\n<use href="#p1" y="${i}"/>\n<use href="#p2" y="${i}"/>\n<circle cx="${.5*t}" cy="${1.5*i}" r="${.25*e}" fill="url(#g2)" filter="url(#f1)"/>\n<circle cx="${.5*t}" cy="${1.5*i}" r="${.25*e}" fill="url(#g1)"/>\n</svg>`;this.srcurl="data:image/svg+xml;base64,"+btoa(n)}else this.srcurl=this.src;this.img.onload=()=>{null==this.kw&&(this.kw=this.img.width),null==this.kh&&(this.kh=.5*this.img.height),this.elem.style.backgroundImage="url("+this.srcurl+")",this.elem.style.backgroundSize="100% 200%",this.elem.style.width=this.kw+"px",this.elem.style.height=this.kh+"px",this.redraw()},this.img.src=this.srcurl}redraw(){let e=this.elem.style;this.value^this.invert?e.backgroundPosition="0px -100%":e.backgroundPosition="0px 0px"}setValue(e,t){this.value=e,this.checked=!!e,this.value!=this.oldvalue&&(this.redraw(),this.showtip(0),t&&(this.sendEvent("input"),this.sendEvent("change")),this.oldvalue=this.value)}pointerdown(e){if(!this.enable)return;let t=e;if(e.touches)t=e.changedTouches[0],this.identifier=t.identifier;else if(1!=t.buttons&&0!=t.button)return;this.elem.focus(),this.drag=1,this.showtip(0);let i=e=>(e.preventDefault(),e.stopPropagation(),!1),n=e=>{this.drag=0,this.showtip(0),window.removeEventListener("mousemove",i),window.removeEventListener("touchmove",i,{passive:!1}),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),window.removeEventListener("touchcancel",n),document.body.removeEventListener("touchstart",s,{passive:!1}),"kick"==this.type&&(this.value=0,this.checked=!1,this.redraw(),this.sendEvent("change")),this.sendEvent("click"),e.preventDefault(),e.stopPropagation()},s=e=>{e.preventDefault()};switch(this.type){case"kick":this.setValue(1),this.sendEvent("change");break;case"toggle":t.ctrlKey||t.metaKey?this.value=defvalue:this.value=1-this.value,this.checked=!!this.value,this.sendEvent("change");break;case"radio":let e=document.querySelectorAll("webaudio-switch[type='radio'][group='"+this.group+"']");for(let t=0;t<e.length;++t)e[t]==this?e[t].setValue(1):e[t].setValue(0);this.sendEvent("change")}return window.addEventListener("mouseup",n),window.addEventListener("touchend",n),window.addEventListener("touchcancel",n),document.body.addEventListener("touchstart",s,{passive:!1}),this.redraw(),e.preventDefault(),e.stopPropagation(),!1}})}catch(e){console.log("webaudio-switch already defined")}try{customElements.define("webaudio-param",class WebAudioParam extends WebAudioControlsWidget{constructor(){super(),this.addEventListener("keydown",this.keydown),this.addEventListener("mousedown",this.pointerdown,{passive:!1}),this.addEventListener("touchstart",this.pointerdown,{passive:!1}),this.addEventListener("wheel",this.wheel),this.addEventListener("mouseover",this.pointerover),this.addEventListener("mouseout",this.pointerout),this.addEventListener("contextmenu",this.contextMenu)}connectedCallback(){let root;if(root=this.attachShadow?this.attachShadow({mode:"open"}):this,root.innerHTML=`<style>\n${this.basestyle}\n:host{\n  display:inline-block;\n  user-select:none;\n  margin:0;\n  padding:0;\n  font-family: sans-serif;\n  font-size: 8px;\n  cursor:pointer;\n  position:relative;\n  vertical-align:baseline;\n}\n.webaudio-param-body{\n  display:inline-block;\n  position:relative;\n  text-align:center;\n  background:none;\n  margin:0;\n  padding:0;\n  font-family:sans-serif;\n  font-size:11px;\n  vertical-align:bottom;\n  border:none;\n}\n</style>\n<input class='webaudio-param-body' value='0' tabindex='1' touch-action='none'/><div class='webaudioctrl-tooltip'></div>\n`,this.elem=root.childNodes[2],this.ttframe=root.childNodes[3],this.enable=this.getAttr("enable",1),this._value=this.getAttr("value",0),this.hasOwnProperty("value")||Object.defineProperty(this,"value",{get:()=>this._value,set:e=>{this._value=e,this.redraw()}}),this.defvalue=this.getAttr("defvalue",0),this._fontsize=this.getAttr("fontsize",9),this.hasOwnProperty("fontsize")||Object.defineProperty(this,"fontsize",{get:()=>this._fontsize,set:e=>{this._fontsize=e,this.setupImage()}}),this._src=this.getAttr("src",opt.paramSrc),this.hasOwnProperty("src")||Object.defineProperty(this,"src",{get:()=>this._src,set:e=>{this._src=e,this.setupImage()}}),this.link=this.getAttr("link",""),this._width=this.getAttr("width",opt.paramWidth),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:e=>{this._width=e,this.setupImage()}}),this._height=this.getAttr("height",opt.paramHeight),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:e=>{this._height=e,this.setupImage()}}),this._colors=this.getAttr("colors",opt.paramColors),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:e=>{this._colors=e,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.rconv=this.getAttr("rconv",null),this.midiController={},this.midiMode="normal",this.currentLink=null,this.midicc){let e=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,t=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(e,t)}this.setupImage(),window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this),this.fromLink=(e=>{this.setValue(e.target.convValue.toFixed(e.target.digits))}).bind(this),this.elem.onchange=()=>{if(!this.currentLink.target.conv||this.currentLink.target.conv&&this.rconv){let val=this.value=this.elem.value;if(this.rconv){let x=+this.elem.value;val=eval(this.rconv)}this.currentLink&&this.currentLink.target.setValue(val,!0)}}}disconnectedCallback(){}setupImage(){this.imgloaded=()=>{""!=this.src&&null!=this.src?(this.elem.style.backgroundImage="url("+this.src+")",this.elem.style.backgroundSize="100% 100%",null==this._width&&(this._width=this.img.width),null==this._height&&(this._height=this.img.height)):(null==this._width&&(this._width=32),null==this._height&&(this._height=20)),this.elem.style.width=this._width+"px",this.elem.style.height=this._height+"px",this.elem.style.fontSize=this.fontsize+"px";let e=document.getElementById(this.link);e&&void 0!==e.value&&("number"==typeof e.convValue?this.setValue(e.convValue.toFixed(e.digits)):this.setValue(e.convValue),this.currentLink&&this.currentLink.removeEventListener("input",this.currentLink.func),this.currentLink={target:e,func:t=>{"number"==typeof e.convValue?this.setValue(e.convValue.toFixed(e.digits)):this.setValue(e.convValue)}},this.currentLink.target.addEventListener("input",this.currentLink.func)),this.redraw()},this.coltab=this.colors.split(";"),this.elem.style.color=this.coltab[0],this.img=new Image,this.img.onload=this.imgloaded.bind(),null==this.src?(this.elem.style.backgroundColor=this.coltab[1],this.imgloaded()):""==this.src?(this.elem.style.background="none",this.imgloaded()):this.img.src=this.src}redraw(){this.elem.value=this.value}setValue(e,t){if(this.value=e,this.value!=this.oldvalue){if(this.redraw(),this.showtip(0),t){let e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),this.dispatchEvent(e)}this.oldvalue=this.value}}pointerdown(e){if(!this.enable)return;let t=e;if(e.touches)t=e.touches[0];else if(1!=t.buttons&&0!=t.button)return;this.elem.focus(),this.redraw()}})}catch(e){console.log("webaudio-param already defined")}try{customElements.define("webaudio-keyboard",class extends WebAudioControlsWidget{constructor(){super()}connectedCallback(){let e;if(e=this.attachShadow?this.attachShadow({mode:"open"}):this,e.innerHTML=`<style>\n${this.basestyle}\n:host{\n  display:inline-block;\n  position:relative;\n  margin:0;\n  padding:0;\n  font-family: sans-serif;\n  font-size: 11px;\n}\n.webaudio-keyboard-body{\n  display:inline-block;\n  margin:0;\n  padding:0;\n  vertical-align:bottom;\n}\n</style>\n<canvas class='webaudio-keyboard-body' tabindex='1' touch-action='none'></canvas><div class='webauioctrl-tooltip'></div>\n`,this.elem=this.cv=e.childNodes[2],this.ttframe=e.childNodes[3],this.ctx=this.cv.getContext("2d"),this._values=[],this.enable=this.getAttr("enable",1),this._width=this.getAttr("width",480),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:e=>{this._width=e,this.setupImage()}}),this._height=this.getAttr("height",128),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:e=>{this._height=e,this.setupImage()}}),this._min=this.getAttr("min",0),this.hasOwnProperty("min")||Object.defineProperty(this,"min",{get:()=>this._min,set:e=>{this._min=+e,this.redraw()}}),this._keys=this.getAttr("keys",25),this.hasOwnProperty("keys")||Object.defineProperty(this,"keys",{get:()=>this._keys,set:e=>{this._keys=+e,this.setupImage()}}),this._colors=this.getAttr("colors","#222;#eee;#ccc;#333;#000;#e88;#c44;#c33;#800"),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:e=>{this._colors=e,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.midilearn=this.getAttr("midilearn",0),this.midicc=this.getAttr("midicc",null),this.press=0,this.keycodes1=[90,83,88,68,67,86,71,66,72,78,74,77,188,76,190,187,191,226],this.keycodes2=[81,50,87,51,69,82,53,84,54,89,55,85,73,57,79,48,80,192,222,219],this.addEventListener("keyup",this.keyup),this.midiController={},this.midiMode="normal",this.midicc){let e=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,t=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(e,t)}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(let e=this.step;e<1;e*=10)++this.digits;window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this)}disconnectedCallback(){}setupImage(){this.cv.style.width=this.width+"px",this.cv.style.height=this.height+"px",this.bheight=.55*this.height,this.kp=[0,7/12,1,1.75,2,3,3.5,4,56/12,5,70/12,6],this.kf=[0,1,0,1,0,0,1,0,1,0,1,0],this.ko=[0,0,14/12-1,0,28/12-2,35/12-3,0,49/12-4,0,.25,0,77/12-6],this.kn=[0,2,4,5,7,9,11],this.coltab=this.colors.split(";"),this.cv.width=this.width,this.cv.height=this.height,this.cv.style.width=this.width+"px",this.cv.style.height=this.height+"px",this.style.height=this.height+"px",this.cv.style.outline=this.outline?"":"none",this.bheight=.55*this.height,this.max=this.min+this.keys-1,this.dispvalues=[],this.valuesold=[],this.kf[this.min%12]&&--this.min,this.kf[this.max%12]&&++this.max,this.redraw()}redraw(){function e(e,t,i,n,s,o,r,a){if(a){let s=e.createLinearGradient(t,i,t+n,i);s.addColorStop(0,r),s.addColorStop(1,a),e.fillStyle=s}else e.fillStyle=r;e.beginPath(),e.moveTo(t,i),e.lineTo(t+n,i),e.lineTo(t+n,i+s-o),e.quadraticCurveTo(t+n,i+s,t+n-o,i+s),e.lineTo(t+o,i+s),e.quadraticCurveTo(t,i+s,t,i+s-o),e.lineTo(t,i),e.fill()}this.ctx.fillStyle=this.coltab[0],this.ctx.fillRect(0,0,this.width,this.height);let t=7*(this.min/12|0)+this.kp[this.min%12],i=7*(this.max/12|0)+this.kp[this.max%12]-t;this.wwidth=(this.width-1)/(i+1),this.bwidth=7*this.wwidth/12;let n=this.bheight,s=Math.min(8,.2*this.wwidth);for(let t=this.min,i=0;t<=this.max;++t)if(0==this.kf[t%12]){let n=this.wwidth*i+++1;this.dispvalues.indexOf(t)>=0?e(this.ctx,n,1,this.wwidth-1,this.height-2,s,this.coltab[5],this.coltab[6]):e(this.ctx,n,1,this.wwidth-1,this.height-2,s,this.coltab[1],this.coltab[2])}s=Math.min(8,.3*this.bwidth);for(let t=this.min;t<this.max;++t)if(this.kf[t%12]){let i=this.wwidth*this.ko[this.min%12]+this.bwidth*(t-this.min)+1;this.dispvalues.indexOf(t)>=0?e(this.ctx,i,1,this.bwidth,n,s,this.coltab[7],this.coltab[8]):e(this.ctx,i,1,this.bwidth,n,s,this.coltab[3],this.coltab[4]),this.ctx.strokeStyle=this.coltab[0],this.ctx.stroke()}}_setValue(e){return this.step&&(e=Math.round((e-this.min)/this.step)*this.step+this.min),this._value=Math.min(this.max,Math.max(this.min,e)),this._value!=this.oldvalue?(this.oldvalue=this._value,this.redraw(),this.showtip(0),1):0}setValue(e,t){this._setValue(e)&&t&&(this.sendEvent("input"),this.sendEvent("change"))}wheel(e){}keydown(e){let t=12*Math.floor((this.min+11)/12),i=this.keycodes1.indexOf(e.keyCode);i<0&&(i=this.keycodes2.indexOf(e.keyCode),i>=0&&(i+=12)),i>=0&&(i+=t,this.currentKey!=i&&(this.currentKey=i,this.sendEventFromKey(1,i),this.setNote(1,i)))}keyup(e){let t=12*Math.floor((this.min+11)/12),i=this.keycodes1.indexOf(e.keyCode);i<0&&(i=this.keycodes2.indexOf(e.keyCode),i>=0&&(i+=12)),i>=0&&(i+=t,this.currentKey=-1,this.sendEventFromKey(0,i),this.setNote(0,i))}pointerdown(e){this.cv.focus(),this.enable&&++this.press;let t=e=>{if(!this.enable)return;let t,i=this.getBoundingClientRect(),n=[];t=e.touches?e.targetTouches:this.press?[e]:[],t.length>0&&(this.drag=1);for(let e=0;e<t.length;++e){let s,o,r,a=t[e].clientX-i.left,l=t[e].clientY-i.top;l>=0&&l<this.height&&(l<this.bheight?(s=a-this.wwidth*this.ko[this.min%12],o=this.min+(s/this.bwidth|0)):(o=a/this.wwidth|0,r=this.kp[this.min%12],o+=r,o=this.min+12*(o/7|0)+this.kn[o%7]-this.kn[r%7]),o>=this.min&&o<=this.max&&n.push(o))}n.sort(),this.values=n,this.sendevent(),this.redraw()},i=e=>{this.enable&&(e.touches?this.press=e.touches.length:this.press=0,t(e),this.sendevent(),0==this.press&&(window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t,{passive:!1}),window.removeEventListener("mouseup",i),window.removeEventListener("touchend",i),window.removeEventListener("touchcancel",i),document.body.removeEventListener("touchstart",n,{passive:!1})),this.redraw()),this.drag=0,e.preventDefault()},n=e=>{e.preventDefault()};window.addEventListener("mousemove",t),window.addEventListener("touchmove",t,{passive:!1}),window.addEventListener("mouseup",i),window.addEventListener("touchend",i),window.addEventListener("touchcancel",i),document.body.addEventListener("touchstart",n,{passive:!1}),t(e),e.preventDefault(),e.stopPropagation()}sendEventFromKey(e,t){let i=document.createEvent("HTMLEvents");i.initEvent("change",!0,!0),i.note=[e,t],this.dispatchEvent(i)}sendevent(){let e=[];for(let t=0,i=this.valuesold.length;t<i;++t)this.values.indexOf(this.valuesold[t])<0&&e.push([0,this.valuesold[t]]);for(let t=0,i=this.values.length;t<i;++t)this.valuesold.indexOf(this.values[t])<0&&e.push([1,this.values[t]]);if(e.length){this.valuesold=this.values;for(let t=0;t<e.length;++t){this.setdispvalues(e[t][0],e[t][1]);let i=document.createEvent("HTMLEvents");i.initEvent("change",!0,!0),i.note=e[t],this.dispatchEvent(i)}}}setdispvalues(e,t){let i=this.dispvalues.indexOf(t);e?i<0&&this.dispvalues.push(t):i>=0&&this.dispvalues.splice(i,1)}setNote(e,t,i,n){const s=i&&n-i.currentTime;s>0?setTimeout((()=>{this.setNote(e,t)}),1e3*s):(this.setdispvalues(e,t),this.redraw())}})}catch(e){console.log("webaudio-keyboard already defined")}class WebAudioControlsWidgetManager{constructor(){this.midiAccess=null,this.listOfWidgets=[],this.listOfExternalMidiListeners=[],this.updateWidgets(),opt.preserveMidiLearn?this.midiLearnTable=JSON.parse(localStorage.getItem("WebAudioControlsMidiLearn")):this.midiLearnTable=null,this.initWebAudioControls()}addWidget(e){this.listOfWidgets.push(e)}updateWidgets(){}initWebAudioControls(){navigator.requestMIDIAccess&&navigator.requestMIDIAccess().then((e=>{this.midiAccess=e,this.enableInputs()}),(e=>{console.log("MIDI not initialized - error encountered:"+e.code)}))}enableInputs(){let e=this.midiAccess.inputs.values();console.log("Found "+this.midiAccess.inputs.size+" MIDI input(s)");for(let t=e.next();t&&!t.done;t=e.next())console.log("Connected input: "+t.value.name),t.value.onmidimessage=this.handleMIDIMessage.bind(this)}midiConnectionStateChange(e){console.log("connection: "+e.port.name+" "+e.port.connection+" "+e.port.state),enableInputs()}onMIDIStarted(e){this.midiAccess=e,e.onstatechange=this.midiConnectionStateChange,enableInputs(e)}addMidiListener(e){this.listOfExternalMidiListeners.push(e)}getCurrentConfigAsJSON(){return currentConfig.stringify()}handleMIDIMessage(e){if(this.listOfExternalMidiListeners.forEach((function(t){t(e)})),!(240==(240&e.data[0])||176==(240&e.data[0])&&e.data[1]>=120)){for(let t of this.listOfWidgets)t.processMidiEvent&&t.processMidiEvent(e);opt.mididump&&console.log(e.data)}}contextMenuOpen(e,t){if(!this.midiAccess)return;let i=document.getElementById("webaudioctrl-context-menu");i.style.left=e.pageX+"px",i.style.top=e.pageY+"px",i.knob=t,i.classList.add("active"),i.knob.focus(),i.knob.addEventListener("keydown",this.contextMenuCloseByKey.bind(this))}contextMenuCloseByKey(e){27==e.keyCode&&this.contextMenuClose()}contextMenuClose(){let e=document.getElementById("webaudioctrl-context-menu");e.knob.removeEventListener("keydown",this.contextMenuCloseByKey),e.classList.remove("active"),document.getElementById("webaudioctrl-context-menu-learn").innerHTML="Learn",e.knob.midiMode="normal"}contextMenuLearn(){let e=document.getElementById("webaudioctrl-context-menu");document.getElementById("webaudioctrl-context-menu-learn").innerHTML="Listening...",e.knob.midiMode="learn"}contextMenuClear(e){document.getElementById("webaudioctrl-context-menu").knob.midiController={},this.contextMenuClose()}preserveMidiLearn(){if(!opt.preserveMidiLearn)return;const e=[];for(let t of this.listOfWidgets)t.id&&e.push({id:t.id,cc:t.midiController});const t=JSON.stringify(e);localStorage.setItem("WebAudioControlsMidiLearn",t)}}(window.UseWebAudioControlsMidi||opt.useMidi)&&(window.webAudioControlsWidgetManager=window.webAudioControlsMidiManager=new WebAudioControlsWidgetManager)}},9434:(e,t,i)=>{"use strict";i.r(t),i.d(t,{directoryOpen:()=>a,directoryOpenLegacy:()=>x,directoryOpenModern:()=>g,fileOpen:()=>o,fileOpenLegacy:()=>w,fileOpenModern:()=>d,fileSave:()=>c,fileSaveLegacy:()=>_,fileSaveModern:()=>b,supported:()=>n});const n=(()=>{if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top}catch(e){return!1}return"showOpenFilePicker"in self})(),s=n?Promise.resolve().then((function(){return u})):Promise.resolve().then((function(){return y}));async function o(...e){return(await s).default(...e)}const r=n?Promise.resolve().then((function(){return m})):Promise.resolve().then((function(){return k}));async function a(...e){return(await r).default(...e)}const l=n?Promise.resolve().then((function(){return v})):Promise.resolve().then((function(){return A}));async function c(...e){return(await l).default(...e)}const h=async e=>{const t=await e.getFile();return t.handle=e,t};var d=async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach(((e,i)=>{t[i]={description:e.description||"Files",accept:{}},e.mimeTypes?e.mimeTypes.map((n=>{t[i].accept[n]=e.extensions||[]})):t[i].accept["*/*"]=e.extensions||[]}));const i=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),n=await Promise.all(i.map(h));return e[0].multiple?n:n[0]},u={__proto__:null,default:d};function f(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return f=function(e){this.s=e,this.n=e.next},f.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var i=this.s.return;return void 0===i?Promise.resolve({value:e,done:!0}):t(i.apply(this.s,arguments))},throw:function(e){var i=this.s.return;return void 0===i?Promise.reject(e):t(i.apply(this.s,arguments))}},new f(e)}const p=async(e,t,i=e.name,n)=>{const s=[],o=[];var r,a=!1,l=!1;try{for(var c,h=function(e){var t,i,n,s=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);s--;){if(i&&null!=(t=e[i]))return t.call(e);if(n&&null!=(t=e[n]))return new f(t.call(e));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(e.values());a=!(c=await h.next()).done;a=!1){const r=c.value,a=`${i}/${r.name}`;"file"===r.kind?o.push(r.getFile().then((t=>(t.directoryHandle=e,t.handle=r,Object.defineProperty(t,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>a}))))):"directory"!==r.kind||!t||n&&n(r)||s.push(p(r,t,a,n))}}catch(e){l=!0,r=e}finally{try{a&&null!=h.return&&await h.return()}finally{if(l)throw r}}return[...(await Promise.all(s)).flat(),...await Promise.all(o)]};var g=async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||"read";const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return(await(await t.values()).next()).done?[t]:p(t,e.recursive,void 0,e.skipDirectory)},m={__proto__:null,default:g},b=async(e,t=[{}],i=null,n=!1,s=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";const o=[];let r=null;if(e instanceof Blob&&e.type?r=e.type:e.headers&&e.headers.get("content-type")&&(r=e.headers.get("content-type")),t.forEach(((e,t)=>{o[t]={description:e.description||"Files",accept:{}},e.mimeTypes?(0===t&&r&&e.mimeTypes.push(r),e.mimeTypes.map((i=>{o[t].accept[i]=e.extensions||[]}))):r?o[t].accept[r]=e.extensions||[]:o[t].accept["*/*"]=e.extensions||[]})),i)try{await i.getFile()}catch(e){if(i=null,n)throw e}const a=i||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:o,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!i&&s&&s(a);const l=await a.createWritable();if("stream"in e){const t=e.stream();return await t.pipeTo(l),a}return"body"in e?(await e.body.pipeTo(l),a):(await l.write(await e),await l.close(),a)},v={__proto__:null,default:b},w=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise(((t,i)=>{const n=document.createElement("input");n.type="file";const s=[...e.map((e=>e.mimeTypes||[])),...e.map((e=>e.extensions||[]))].join();n.multiple=e[0].multiple||!1,n.accept=s||"",n.style.display="none",document.body.append(n);const o=e=>{"function"==typeof r&&r(),t(e)},r=e[0].legacySetup&&e[0].legacySetup(o,(()=>r(i)),n),a=()=>{window.removeEventListener("focus",a),n.remove()};n.addEventListener("click",(()=>{window.addEventListener("focus",a)})),n.addEventListener("change",(()=>{window.removeEventListener("focus",a),n.remove(),o(n.multiple?Array.from(n.files):n.files[0])})),"showPicker"in HTMLInputElement.prototype?n.showPicker():n.click()}))),y={__proto__:null,default:w},x=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise(((t,i)=>{const n=document.createElement("input");n.type="file",n.webkitdirectory=!0;const s=e=>{"function"==typeof o&&o(),t(e)},o=e[0].legacySetup&&e[0].legacySetup(s,(()=>o(i)),n);n.addEventListener("change",(()=>{let t=Array.from(n.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(t=t.filter((t=>t.webkitRelativePath.split("/").every((t=>!e[0].skipDirectory({name:t,kind:"directory"})))))):t=t.filter((e=>2===e.webkitRelativePath.split("/").length)),s(t)})),"showPicker"in HTMLInputElement.prototype?n.showPicker():n.click()}))),k={__proto__:null,default:x},_=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const i=document.createElement("a");let n=e;"body"in e&&(n=await async function(e,t){const i=e.getReader(),n=new ReadableStream({start:e=>async function t(){return i.read().then((({done:i,value:n})=>{if(!i)return e.enqueue(n),t();e.close()}))}()}),s=new Response(n),o=await s.blob();return i.releaseLock(),new Blob([o],{type:t})}(e.body,e.headers.get("content-type"))),i.download=t.fileName||"Untitled",i.href=URL.createObjectURL(await n);const s=()=>{"function"==typeof o&&o()},o=t.legacySetup&&t.legacySetup(s,(()=>o()),i);return i.addEventListener("click",(()=>{setTimeout((()=>URL.revokeObjectURL(i.href)),3e4),s()})),i.click(),null},A={__proto__:null,default:_}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(i.exports,i,i.exports,__webpack_require__),i.loaded=!0,i.exports}__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),__webpack_require__.nc=void 0;var __webpack_exports__={};return(()=>{"use strict";var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),e.Player=e.Interface=e.Editor=void 0;var t=__webpack_require__(3082);e.Editor=t.default;var i=__webpack_require__(5802);e.Interface=i.default;var n=__webpack_require__(9920);e.Player=n.default})(),__webpack_exports__})()));
//# sourceMappingURL=sfz.min.js.map